"use strict";!function(){function e(e,t){var i=Object.getPrototypeOf(e.cellRenderers.get("SimpleCell")).constructor,r=i.extend("GroupedHeader",a),o=e.cellRenderers.add(r);if(t)for(var d in Object.keys(t))t.hasOwnProperty(t)&&(o[d]=t[d]);e.behavior.setHeaders=this.setHeaders,e.behavior.dataModel.groupHeaderDelimiter=o.delimiter}function t(e){var t=this.grid.cellRenderers.get("GroupedHeader").delimiter;Object.getPrototypeOf(this).setHeaders.call(this,e);var i=this.allColumns.reduce(function(e,i){return Math.max(i.header.split(t).length,e)},0);this.grid.setState({rowHeights:{0:4*i/3*this.grid.behavior.getDefaultRowHeight()}})}function i(e,t){var i=this["super"].paint;if(0===t.y&&t.x>=0){var r=t.value.split(this.delimiter),o=r.length-1;if(0!==o&&0!==t.x||(this.groups=[]),o){var a,d=this.groups,l=t.bounds,s=l.x,n=l.width,h=t.isColumnHovered,u=t.isSelected,g=t.font,c=t.color;l.height/=r.length;for(var p=0,f=l.y;p<o;p++,f+=l.height)d[p]&&r[p]===d[p].value?(a=d[p],a.width+=n):(a=d[p]=d[p]||{},a.value=r[p],a.left=s,a.width=n),l.x=a.left,l.y=f,l.width=a.width,t.value=a.value,t.isColumnHovered=t.isSelected=!1,t.font="bold "+g,t.color=this.groupColor,i.call(this,e,t),this.bounds=l,this.groupIndex=p,this.groupCount=o,this.paintBackground(e);l.x=s,l.y=f,l.width=n,t.value=r[p],t.isColumnHovered=h,t.isSelected=u,t.font=g,t.color=c}}i.call(this,e,t)}function r(e){var t=this.bounds,i=this.groupCount-this.groupIndex;e.beginPath(),e.strokeStyle=this.groupColor,e.lineWidth=i,e.moveTo(t.x+3,t.y+t.height-i),e.lineTo(t.x+t.width-2,t.y+t.height-i),e.stroke(),e.closePath()}function o(e){var t=this.bounds,i=e.createLinearGradient(t.x,t.y,t.x,t.y+t.height);this.gradientStops.forEach(function(e){i.addColorStop.apply(i,e)}),e.fillStyle=i,e.fillRect(t.x+2,t.y,t.width-3,t.height)}var a={paint:i,delimiter:"|",groupColor:"rgb(144, 144, 144)",paintBackground:r,gradientStops:[[0,"rgba(144, 144, 144, 0)"],[1,"rgba(144, 144, 144, .35)"]]},d={mixInTo:e,setHeaders:t,drawProportionalBottomBorder:r,drawLinearGradient:o};window.fin.Hypergrid.groupedHeader=d}();