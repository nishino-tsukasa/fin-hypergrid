!function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";function n(t,r){function n(e,t,n){var i=r[e],o=i&&i.prototype||Object.getPrototypeOf(t);o.mixIn(n)}this.grid=t,r=r||{},n("Hypergrid",t,e("./mix-ins/grid")),n("Behavior",t.behavior,e("./mix-ins/behavior")),n("DataModel",t.behavior.dataModel,e("./mix-ins/dataModel"))}var i=e("./js/DefaultFilter"),o=e("./js/ColumnSchemaFactory");n.prototype={constructor:n.prototype.constructor,$$CLASS_NAME:"Hyperfilter",caseSensitiveData:!0,caseSensitiveColumnNames:!0,resolveAliases:!1,defaultColumnFilterOperator:"",deriveSchema:function(){this.factory=new o(this.grid.behavior.columns)},organizeSchema:function(e,t){this.factory.organize(e,t)},sortSchema:function(e){this.factory.sort(e)},lookupInSchema:function(e,t){return this.factory.lookup(e,t)},walkSchema:function(e){return this.factory.walk(e)},create:function(e){return e||(this.factory||this.deriveSchema(),e=this.factory.schema,delete this.factory),new i({schema:e,caseSensitiveData:this.caseSensitiveData,caseSensitiveColumnNames:this.caseSensitiveColumnNames,resolveAliases:this.resolveAliases,defaultColumnFilterOperator:this.defaultColumnFilterOperator})}},window.fin.Hypergrid.Hyperfilter=n},{"./js/ColumnSchemaFactory":2,"./js/DefaultFilter":3,"./mix-ins/behavior":5,"./mix-ins/dataModel":6,"./mix-ins/grid":7}],2:[function(e,t,r){"use strict";function n(e){this.schema=e.map(function(e){var t={name:e.name,alias:e.header,type:e.getType()};return e.calculator&&(t.calculator=e.calculator),t})}var i=e("pop-menu"),o={top:"\0",bottom:"ï¿¿",undefined:""};n.prototype={constructor:n.prototype.constructor,organize:function(e,t){var r=t&&t.key||"name",n={},i=[];this.schema.forEach(function(t){var o=t[r],a=o.match(e);a?(a=a[0],a in n||(n[a]={label:a.toUpperCase(),submenu:[]}),n[a].submenu.push(t)):i.push(t)});for(var o in n)i.push(n[o]);this.schema=i},lookup:function(e,t){return i.lookup.apply(this.schema,arguments)},walk:function(e){return i.walk.apply(this.schema,arguments)},sort:function(e){var t=o[e];this.schema.sort(function r(e,n){return e.label&&!e.sorted&&(e.submenu.sort(r),e.sorted=!0),e=e.label?t+e.label:e.alias||e.name||e,n=n.label?t+n.label:n.alias||n.name||n,e<n?-1:e>n?1:0})}},t.exports=n},{"pop-menu":23}],3:[function(e,t,r){"use strict";function n(e){var t=s.qt;return t+e.replace(new RegExp(t,"g"),t+t)+t}function i(e){return l.find(function(t){var r=e.match(t.regex);if(r){var n=(r[1]||"").toLowerCase(),i=t.operator,o=r[2],a=o.replace(c,"");return u.test(a)||(o=o.replace(c,"$1"),e=n+i+" "+o),!0}}),e}var o=e("object-iterators"),a=e("filter-tree"),s=e("./parser-CQL");a.Node.optionsSchema.menuModes={"default":{operators:1}},a.Node.prototype.opMenuGroups=a.Conditionals.groups;var l=[{regex:/^(NOT )?LIKE %(.+)%$/i,operator:"contains"},{regex:/^(NOT )?LIKE (.+)%$/i,operator:"begins"},{regex:/^(NOT )?LIKE %(.+)$/i,operator:"ends"}],c=/\[([_\[\]%])\]/g,u=/[_\[\]%]/,h=new a.Conditionals;h.makeLIKE=function(e,t,r,i,o){return r=i.toLowerCase(),r+" "+n(o.operand)},h.makeIN=function(e,t){return e.toLowerCase()+" ("+t.operand.replace(/\s*,\s*/g,", ")+")"},h.make=function(e,t){var r;return e=e.toLowerCase(),/\w/.test(e)&&(e+=" "),e+="number"!==t.getType()||isNaN(r=Number(t.operand))?n(t.operand):r};var p=a.prototype.addEditor({getState:function(e){var t,r=e&&e.syntax;if("CQL"===r){t=this.getSyntax(h),t=i(t);var n=this.schema.lookup(this.column).defaultOp||this.root.parserCQL.defaultOp;0===t.toUpperCase().indexOf(n)&&(t=t.substr(n.length))}else t=a.Leaf.prototype.getState.call(this,e);return t}});a.prototype.addEditor("Columns"),o(a.Node.prototype.templates).extendOwn({columnFilter:['<span class="filter-tree">',"   <strong><span>{2} </span></strong><br>","   Match",'   <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-or">any</label>','   <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-and">all</label>','   <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-nor">none</label>',"   of the following:","   <select>",'       <option value="">New expression&hellip;</option>',"   </select>","   <ol></ol>","</span>"].join("\n"),columnFilters:['<span class="filter-tree filter-tree-type-column-filters">',"   Match <strong>all</strong> of the following column filter subexpressions:","   <ol></ol>","</span>"].join("\n")});var f=a.extend("DefaultFilter",{preInitialize:function(e){e=e||{};var t=e.state=e.state||this.makeNewRoot();return"columnFilter"===(e.type||t&&t.type)&&(this.schema=[e.parent.root.schema.lookup(t.children[0].column)]),[e]},initialize:function(e){this.cache={},this.parent||this.extractSubtrees()},postInitialize:function(e){this!==this.root||this.parserCQL||(this.parserCQL=new s(this.conditionals.ops,{schema:this.schema,defaultOp:e.defaultColumnFilterOperator})),"columnFilter"===this.type&&(this.dontPersist.schema=!0)},extractSubtrees:function(){var e=this.root.children;this.tableFilter=e[0],this.columnFilters=e[1]},makeNewRoot:function(){this.tableFilter={keep:!0,children:[]},this.columnFilters={keep:!0,type:"columnFilters",children:[]};var e={children:[this.tableFilter,this.columnFilters]};return e},getColumnFilter:function(e){return this.columnFilters.children.find(function(t){return t.children.length&&t.children[0].column===e})},getColumnFilterState:function(e,t){var r="",n=this.schema.lookup(e);if(n){var i=this.getColumnFilter(n.name);i&&(t&&t.syntax||(t=t||{},t.syntax="CQL"),r=i.getState(t))}return r},setColumnFilterState:function(e,t,r){var n,i,a=this.schema.lookup(e).name;if(!a)throw'Unknown column name "'+e+'"';if(i=this.getColumnFilter(a),t){if(r=o({}).extend(r),r.syntax=r.syntax||"CQL","CQL"===r.syntax)try{t=this.root.parserCQL.parse(t,a),t?r.syntax="object":n=new Error("DefaultFilter: No complete expression.")}catch(s){n=s}n||(i?i.setState(t,r):(t=this.parseStateString(t,r),i=this.columnFilters.add(t)),n=i.invalid(r))}if(!i||t&&!n||i.remove(),n)throw n},getColumnFiltersState:function(e){if(e&&"CQL"===e.syntax)throw"The CQL syntax is intended for use on a single column filter only. It does not support multiple columns or subexpressions.";return this.root.columnFilters.getState(e)},setColumnFiltersState:function(e,t){var r;return e&&(this.root.columnFilters.setState(e,t),r=this.root.columnFilters.invalid(t)),r},getTableFilterState:function(e){if(e&&"CQL"===e.syntax)throw"The CQL syntax is intended for use on a single column filter only. It does not support multiple columns or subexpressions.";return this.root.tableFilter.getState(e)},setTableFilterState:function(e,t){var r;return e?(this.root.tableFilter.setState(e,t),r=this.root.tableFilter.invalid(t)):this.root.tableFilter.children.length=0,r},getState:function(e){var t,r=e&&e.syntax;if("CQL"===r){var n=this.operator.substr(3);t="",this.children.forEach(function(r,i){if(r)if(r instanceof p)i&&(t+=" "+n+" "),t+=r.getState(e);else if(r.children.length)throw new Error("DefaultFilter: Expected a conditional but found a subexpression. Subexpressions are not supported in CQL (Column Query Language, the filter cell syntax).")})}else t=a.prototype.getState.call(this,e);return t},firstClassProperties:{calculator:!0},properties:function(e){var t,r,n=e&&e.column?this.schema.lookup(e.column.name):this.root;if(e&&n)if(e.getPropName)t=n[e.getPropName],void 0===t&&(t=null);else for(var i in e)r=e[i],void 0===r?delete n[i]:"function"!=typeof r||this.firstClassProperties[i]?n[i]=r:n[i]=r();return t}});t.exports=f},{"./parser-CQL":4,"filter-tree":12,"object-iterators":22}],4:[function(e,t,r){"use strict";function n(e){this.message=e}function i(e,t){var r=[];this.schema=t&&t.schema,this.defaultOp=(t&&t.defaultOp||"=").toUpperCase(),s(e).each(function(e,t){"undefined"!==t&&r.push(t)}),r=r.sort(o),r=r.map(function(e){return/^[^A-Z]/.test(e)&&(e="\\"+e.split("").join("\\")),e});var n=r.filter(function(e){return"\\"===e[0]}),a=r.filter(function(e){return"\\"!==e[0]}).join("|");a&&(a="\\b("+a+")\\b"),this.REGEX_OPERATOR=new RegExp(n.concat(a).join("|"),"ig"),r=r.join("|").replace(/\s+/g,"\\s+"),this.REGEX_EXPRESSION=new RegExp("^\\s*("+r+")?\\s*(\\(\\s*(.+?)\\s*\\)|(.+?))\\s*$","i"),this.REGEX_LITERAL_TOKENS=new RegExp("\\"+i.qt+"(\\d+)\\"+i.qt,"g")}function o(e,t){return t.length-e.length}function a(e,t,r){r.length=0;for(var i,o,a=0,s=0;(s=e.indexOf(t,s))>=0;s+=1+(a+"").length+1,a++){i=s;do if(i=e.indexOf(t,i+1),i<0)throw new n("Quotation marks must be paired; nested quotation marks must be doubled.");while(e[++i]===t);o=e.slice(++s,--i).replace(new RegExp(t+t,"g"),t),r.push(o),e=e.substr(0,s)+a+e.substr(i)}return e}var s=e("object-iterators"),l=/\b(AND|OR|NOR)\b/gi,c="(.*?)",u="\\b",h="^"+c+u,p=u+c+u,f=u+c+"$";n.prototype=Object.create(Error.prototype),n.prototype.name="ParserCqlError",i.qt='"',i.prototype={constructor:i.prototype.constructor,captureBooleans:function(e){var t=e.match(l);return t&&t.map(function(e){return e.toLowerCase()})},validateBooleans:function(e){if(e){var t=e.find(function(t,r){return e[r]!==e[0]});if(t)throw new n("Expected homogeneous boolean operators. You cannot mix AND, OR, and NOR operators here because the order of operations is ambiguous.\nTip: In Manage Filters, you can group operations with subexpressions in the Query Builder tab or by using parentheses in the SQL tab.")}return e},captureExpressions:function(e,t){var r,n;return t?(n=new RegExp(h+t.join(p)+f,"i"),r=e.match(n),r.shift()):r=[e],r},makeChildren:function(e,t,r){var i=this;return t.reduce(function(t,o){if(o){var a=o.match(i.REGEX_EXPRESSION);if(a){var s=a[1],l=a[2],c=a.slice(3).find(function(e){return void 0!==e});s=(s||"").replace(/\s+/g," ").trim().toUpperCase();var u=/^\(.*\)$/.test(l),h=c.match(i.REGEX_OPERATOR);if(!u&&h){if(""===s&&l===h[0])throw new n("Expected an operand.");throw new n("Expected operand but found additional operator(s): "+h.toString().toUpperCase().replace(/,/g,", ").replace(/^([^,]+), ([^,]+)$/,"$1 and $2").replace(/(.+,.+), ([^,]+)$/,"$1, and $2"))}s=s||i.schema&&i.schema.lookup(e).defaultOp||i.defaultOp;var p={column:e,operator:s},f=i.schema&&i.schema.lookup(c);f?(p.operand=f.name||f,p.editor="Columns"):p.operand=c.replace(i.REGEX_LITERAL_TOKENS,function(e,t){return r[t]}),t.push(p)}return t}},[])},getOperatorPosition:function(e,t){var r=[];e=a(e,i.qt,r),e=e.replace(this.REGEX_LITERAL_TOKENS,function(e,t){var n=1+r[t].length+1;return Array(n+1).join("x")});var n,o,s,l,c,u,h,p,f;return(n=this.captureBooleans(e))?(o=this.captureExpressions(e,n),s=0,l=o.map(function(e,t){var r=n[t-1]||"";return s+=e.length+r.length}),l.find(function(e,r){return u=r,t<=e}),t=l[u-1]||0,c=t+=(n[u-1]||"").length,h=o[u]):(t=0,c=e.length,h=e),f=h.search(this.REGEX_OPERATOR),f>=0&&(p=h.match(this.REGEX_OPERATOR)[0],t+=f,c=t+p.length),{start:t,end:c}},parse:function(e,t){e=e.replace(/\s\s+/g," ").trim();var r=[];e=a(e,i.qt,r);var n,o=this.validateBooleans(this.captureBooleans(e)),s=this.captureExpressions(e,o),l=this.makeChildren(t,s,r),c=o&&o[0];return l.length&&(n={type:"columnFilter",children:l},c&&(n.operator="op-"+c)),n}},t.exports=i},{"object-iterators":22}],5:[function(e,t,r){"use strict";t.exports={getFilter:function(e,t){return this.dataModel.getFilter(e,t)},setFilter:function(e,t,r){this.dataModel.setFilter(e,t,r)},getFilters:function(e){return this.dataModel.getFilters(e)},setFilters:function(e,t){this.dataModel.setFilters(e,t)},getTableFilter:function(e){return this.dataModel.getTableFilter(e)},setTableFilter:function(e,t){this.dataModel.setTableFilter(e,t)}}},{}],6:[function(e,t,r){"use strict";t.exports={getFilter:function(e,t){var r=!isNaN(Number(e)),n=r?this.schema[e].name:e;return this.filter.getColumnFilterState(n,t)},setFilter:function(e,t,r){var n=!isNaN(Number(e)),i=n?this.schema[e].name:e;this.filter.setColumnFilterState(i,t,r),this.grid.fireSyntheticFilterAppliedEvent(),this.reindex()},getFilters:function(e){return this.filter.getColumnFiltersState(e)},setFilters:function(e,t){this.filter.setColumnFiltersState(e,t),this.grid.fireSyntheticFilterAppliedEvent(),this.reindex()},getTableFilter:function(e){return this.filter.getTableFilterState(e)},setTableFilter:function(e,t){this.filter.setTableFilterState(e,t),this.grid.fireSyntheticFilterAppliedEvent(),this.reindex()}}},{}],7:[function(e,t,r){"use strict";t.exports={getFilter:function(e,t){return this.behavior.getFilter(e,t)},setFilter:function(e,t,r){this.cellEditor&&this.cellEditor.hideEditor(),this.behavior.setFilter(e,t,r),this.behaviorChanged()},getFilters:function(e){return this.behavior.getFilters(e)},setFilters:function(e,t){this.cellEditor&&this.cellEditor.hideEditor(),this.behavior.setFilters(e,t),this.behaviorChanged()},getTableFilter:function(e){return this.behavior.getTableFilter(e)},setTableFilter:function(e,t){this.behavior.setTableFilter(e,t),this.behaviorChanged()}}},{}],8:[function(e,t,r){"use strict";function n(e,t,r){if("string"==typeof r){if(r=document.querySelector(r),!r)throw"Cannot find reference element for CSS injection."}else if(r&&!(r instanceof Element))throw"Given value not a reference element.";var i=r&&r.parentNode||document.head||document.getElementsByTagName("head")[0];if(!t||(t=n.idPrefix+t,!i.querySelector("#"+t))){var o=document.createElement("style");return o.type="text/css",t&&(o.id=t),e instanceof Array&&(e=e.join("\n")),e="\n"+e+"\n",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),void 0===r&&(r=i.firstChild),i.insertBefore(o,r),o}}n.idPrefix="injected-stylesheet-",t.exports=n},{}],9:[function(e,t,r){"use strict";function n(e,t){function r(){t.preInitialize&&t.preInitialize.apply(this,arguments),o.apply(this,arguments),t.postInitialize&&t.postInitialize.apply(this,arguments)}switch(arguments.length){case 0:t={};break;case 1:switch(typeof e){case"object":t=e,e=void 0;break;case"string":t={};break;default:throw"Single-parameter overload must be either string or object."}break;case 2:if("string"!=typeof e||"object"!=typeof t)throw"Two-parameter overload must be string, object.";break;default:throw"Too many parameters"}r.extend=n;var i=r.prototype=Object.create(this.prototype);return i.constructor=r,e&&(i.$$CLASS_NAME=e),a(i,t),r}function i(){}function o(){function e(n){var i=Object.getPrototypeOf(n);i.constructor!==Object&&(e(i),i.hasOwnProperty("initialize")&&i.initialize.apply(t,r))}var t=this,r=arguments;e(t)}var a=e("overrider");i.prototype={constructor:i.prototype.constructor,get super(){return Object.getPrototypeOf(Object.getPrototypeOf(this))}},i.extend=n,n.Base=i,t.exports=n},{overrider:10}],10:[function(e,t,r){"use strict";function n(e,t){for(var r=1;r<arguments.length;++r)o.call(e,arguments[r]);return e}function i(e){var t;for(var r in this)(t=Object.getOwnPropertyDescriptor(this,r))&&Object.defineProperty(e,r,t);return e}function o(e){var t;for(var r in e)(t=Object.getOwnPropertyDescriptor(e,r))&&Object.defineProperty(this,r,t);return this}n.mixInTo=i,n.mixIn=o,t.exports=n},{}],11:[function(e,t,r){"use strict";r["column-CQL-syntax"]=["<li>",'\t<button type="button" class="copy"></button>','\t<div class="filter-tree-remove-button" title="delete conditional"></div>',"\t{1}:",'\t<input name="{2}" class="{4}" value="{3:encode}">',"</li>"].join("\n"),r["column-SQL-syntax"]=["<li>",'\t<button type="button" class="copy"></button>','\t<div class="filter-tree-remove-button" title="delete conditional"></div>',"\t{1}:",'\t<textarea name="{2}" rows="1" class="{4}">{3:encode}</textarea>',"</li>"].join("\n"),r.columnFilter=['<span class="filter-tree">',"\t <strong><span>{2} </span>column filter subexpression:</strong><br>","\t Match",'\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-or">any</label>','\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-and">all</label>','\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-nor">none</label>',"\t of the following:","\t <select>",'\t\t <option value="">New expression&hellip;</option>',"\t </select>","\t <ol></ol>"," </span>"].join("\n"),r.columnFilters=['<span class="filter-tree filter-tree-type-column-filters">',"\t Match <strong>all</strong> of the following column filters:","\t <ol></ol>"," </span>"].join("\n"),r.lockedColumn=["<span>","\t {1:encode}",'\t <input type="hidden" value="{2}">'," </span>"].join("\n"),r.note=['<div class="footnotes">','\t<div class="footnote"></div>',"\t<p>Select a new value or delete the expression altogether.</p>","</div>"].join("\n"),r.notes=['<div class="footnotes">',"\t<p>Note the following error conditions:</p>",'\t<ul class="footnote"></ul>',"\t<p>Select new values or delete the expression altogether.</p>","</div>"].join("\n"),r.optionMissing=['The requested value of <span class="field-name">{1:encode}</span>','(<span class="field-value">{2:encode}</span>) is not valid.'].join("\n"),r.removeButton=['<div class="filter-tree-remove-button" title="delete conditional"></div>'].join("\n"),r.subtree=['<span class="filter-tree">',"\t Match",'\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-or">any</label>','\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-and">all</label>','\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-nor">none</label>',"\t of the following:","\t <select>",'\t\t <option value="">New expression&hellip;</option>','\t\t <option value="subexp" style="border-bottom:1px solid black">Subexpression</option>',"\t </select>","\t <ol></ol>"," </span>"].join("\n")},{}],12:[function(e,t,r){"use strict";var n=e("object-iterators"),i=e("pop-menu"),o=e("./js/FilterTree");o.Node=e("./js/FilterNode"),o.Leaf=e("./js/FilterLeaf"),o.Conditionals=e("./js/Conditionals"),o._=n,o.popMenu=i,t.exports=o},{"./js/Conditionals":13,"./js/FilterLeaf":14,"./js/FilterNode":15,"./js/FilterTree":16,"object-iterators":22,"pop-menu":23}],13:[function(e,t,r){"use strict";function n(e,t){return t.trim().replace(/\s*,\s*/g,",").split(",").indexOf(e+"")}function i(e,t){return l(e).indexOf(l(t))}function o(e,t){return l(e).substr(0,t)}function a(e,t){return l(e).substr(-t,t)}function s(e){return e.replace(/'/g,"''")}var l,c=e("extend-me").Base,u=e("object-iterators"),h=e("regexp-like"),p="IN",f="NOT "+p,d="LIKE",m="NOT "+d,v="%",g="",b={beg:'"',end:'"'},y=c.extend({initialize:function(e){var t=e&&e.sqlIdQts;t&&(this.sqlIdQts=t)},sqlIdQts:b,makeSqlIdentifier:function(e){return this.sqlIdQts.beg+e+this.sqlIdQts.end},makeSqlString:function(e){return"'"+s(e)+"'"},makeLIKE:function(e,t,r,n,i){var o=i.operand.replace(/([_\[\]%])/g,"[$1]");return this.makeSqlIdentifier(i.column)+" "+r+" "+this.makeSqlString(e+o+t)},makeIN:function(e,t){return this.makeSqlIdentifier(t.column)+" "+e+" ('"+s(t.operand).replace(/\s*,\s*/g,"', '")+"')"},make:function(e,t){return this.makeSqlIdentifier(t.column)+" "+e+" "+t.makeSqlOperand()}}),x=y.prototype.ops={undefined:{test:function(){return!0},make:function(){return""}},"<":{test:function(e,t){return e<t},make:function(e){return this.make("<",e)}},"<=":{test:function(e,t){return e<=t},make:function(e){return this.make("<=",e)}},"=":{test:function(e,t){return e===t},make:function(e){return this.make("=",e)}},">=":{test:function(e,t){return e>=t},make:function(e){return this.make(">=",e)}},">":{test:function(e,t){return e>t},make:function(e){return this.make(">",e)}},"<>":{test:function(e,t){return e!==t},make:function(e){return this.make("<>",e)}},LIKE:{test:function(e,t){return h.cached(t,!0).test(e)},make:function(e){return this.make(d,e)},type:"string"},"NOT LIKE":{test:function(e,t){return!h.cached(t,!0).test(e)},make:function(e){return this.make(m,e)},type:"string"},IN:{test:function(e,t){return n(e,t)>=0},make:function(e){return this.makeIN(p,e)},operandList:!0,type:"string"},"NOT IN":{test:function(e,t){return n(e,t)<0},make:function(e){return this.makeIN(f,e)},operandList:!0,type:"string"},CONTAINS:{test:function(e,t){return i(e,t)>=0},make:function(e){return this.makeLIKE(v,v,d,"CONTAINS",e)},type:"string"},"NOT CONTAINS":{test:function(e,t){return i(e,t)<0},make:function(e){return this.makeLIKE(v,v,m,"NOT CONTAINS",e)},type:"string"},BEGINS:{test:function(e,t){return t=l(t),o(e,t.length)===t},make:function(e){return this.makeLIKE(g,v,d,"BEGINS",e)},type:"string"},"NOT BEGINS":{test:function(e,t){return t=l(t),o(e,t.length)!==t},make:function(e){return this.makeLIKE(g,v,m,"NOT BEGINS",e)},type:"string"},ENDS:{test:function(e,t){return t=l(t),a(e,t.length)===t},make:function(e){return this.makeLIKE(v,g,d,"ENDS",e)},type:"string"},"NOT ENDS":{test:function(e,t){return t=l(t),a(e,t.length)!==t},make:function(e){return this.makeLIKE(v,g,m,"NOT ENDS",e)},type:"string"}};x["â¤"]=x["<="],x["â¥"]=x[">="],x["â "]=x["<>"];var w={equality:{label:"Equality",submenu:["="]},inequalities:{label:"Inequalities",submenu:["<","â¤","â ","â¥",">"]},sets:{label:"Set scans",submenu:["IN","NOT IN"]},strings:{label:"String scans",submenu:["CONTAINS","NOT CONTAINS","BEGINS","NOT BEGINS","ENDS","NOT ENDS"]},patterns:{label:"Pattern scans",submenu:["LIKE","NOT LIKE"]}};u(w).each(function(e,t){e.name=t}),y.groups=w,y.defaultOpMenu=[w.equality,w.inequalities,w.sets,w.strings,w.patterns],y.setToString=function(e){return l=e},t.exports=y},{"extend-me":9,"object-iterators":22,"regexp-like":24}],14:[function(e,t,r){"use strict";function n(e){var t=e.target;if(t.classList.remove("filter-tree-error"),h.setWarningClass(t),t===this.view.column&&a.call(this,t.value),t.value){if(!t.multiple)for(;(t=t.nextElementSibling)&&(!("name"in t)||""!==t.value.trim()););t&&""===t.value.trim()&&(t.value="",h.clickIn(t))}this.eventHandler&&this.eventHandler(e)}function i(e,t,r){var n=this.schema.lookup(e)||{};return n[t]||"function"==typeof r&&r.call(this,n,t)||"function"!=typeof r&&r||this[t]}function o(e){return i.call(this,e,"opMenu",function(e){return this.typeOpMap&&this.typeOpMap[e.type||this.type]})}function a(e){var t=o.call(this,e);if(t!==this.renderedOpMenu){var r=this.makeElement(t,"operator");r.value=this.view.operator.value,this.el.replaceChild(r,this.view.operator),this.view.operator=r,h.setWarningClass(r),this.renderedOpMenu=t}}function s(e){setTimeout(function(){e.classList.add("filter-tree-error"),h.clickIn(e)},0)}function l(e){var t,r;switch(e.type){case"checkbox":case"radio":for(e=document.querySelectorAll("input[name='"+e.name+"']:enabled:checked"),t=[],r=0;r<e.length;r++)t.push(e[r].value);break;case"select-multiple":for(e=e.options,t=[],r=0;r<e.length;r++)!e.disabled&&e.selected&&t.push(e[r].value);break;default:t=e.value}return t}var c,u=e("pop-menu"),h=e("./FilterNode"),p=e("./Conditionals"),f={toType:Number,failed:isNaN},d={toType:function(e){return new Date(e)},failed:isNaN},m=h.extend("FilterLeaf",{name:"column = value",destroy:function(){if(this.view)for(var e in this.view)this.view[e].removeEventListener("change",this.onChange)},createView:function(e){var t=this.el=document.createElement("span");if(t.className="filter-tree-editor filter-tree-default",e&&e.column);else var r=this.schema&&1===this.schema.length&&this.schema[0],n=r&&r.name||r;this.view={column:this.makeElement(this.schema,"column",this.sortColumnMenu),operator:this.makeElement(o.call(this,n),"operator"),operand:this.makeElement()},t.appendChild(document.createElement("br"))},loadState:function(e){function t(e){var t=e.name||e;c[t]===p&&(n.value=t)}var r,n,i,s,l,c,p,f,d;if(e){d=[];for(var m in e)if(!h.optionsSchema[m])switch(r=this[m]=e[m],n=this.view[m],n.type){case"checkbox":case"radio":for(n=document.querySelectorAll("input[name='"+n.name+"']"),i=0;i<n.length;i++)n[i].checked=r.indexOf(n[i].value)>=0;break;case"select-multiple":for(n=n.options,i=0,s=!1;i<n.length;i++,s=s||l)l=r.indexOf(n[i].value)>=0,n[i].selected=l;h.setWarningClass(n,s);break;default:n.value=r,""===n.value&&"operator"===m&&(c=this.root.conditionals.ops,p=c[r],f=o.call(this,e.column||this.column),u.walk.call(f,t)),h.setWarningClass(n)?"column"===m&&a.call(this,r):d.push({key:m,value:r})}if(d.length){var v=d.length>1,g=this.templates,b=g.get(v?"notes":"note"),y=b.querySelector(".footnote");d.forEach(function(e){var t=v?document.createElement("li"):y;for(e=g.get("optionMissing",e.key,e.value);e.length;)t.appendChild(e[0]);v&&y.appendChild(t)})}this.notesEl=b}},converters:{number:f,"int":f,"float":f,date:d},invalid:function(e){var t,r,n;for(t in this.view){var o=this.view[t],a=l(o).trim();if(""===a&&"operator"===t&&this.root.conditionals.ops[this.operator]&&!i.call(this,this.column,"opMustBeInMenu")&&(a=this.operator),""===a){if(!n&&e&&e.focus&&(s(o),n=!0),e&&e["throw"])throw new this.Error("Missing or invalid "+t+" in conditional expression. Complete the expression or remove it.",this)}else this[t]=a}this.op=this.root.conditionals.ops[this.operator],r=this.getType(),this.converter=r&&"string"!==r&&this.converters[r],this.calculator=this.getCalculator()},getType:function(){return this.op.type||i.call(this,this.column,"type")},getCalculator:function(){return i.call(this,this.column,"calculator")},valOrFunc:function(e){var t,r;return this&&(t=this[e],r="f"===(typeof t)[0]&&t||this.calculator,r&&(t=r.call(this,e))),t||0===t||t===!1?t:""},p:function(e){return this.valOrFunc.call(e,this.column)},q:function(){return this.operand},test:function(e){var t,r,n,i,o;return void 0!==(t=this.p(e))&&void 0!==(r=this.q(e))&&(!(o=this.converter)||o.failed(n=o.toType(t))||o.failed(i=o.toType(r))?this.op.test(c(t),c(r)):this.op.test(n,i))},toJSON:function(){var e={};this.editor&&(e.editor=this.editor);for(var t in this.view)e[t]=this[t];return this.schema!==this.parent.schema&&(e.schema=this.schema),e},getState:function(e){var t="",r=e&&e.syntax||"object";switch(r){case"object":t=this.toJSON();break;case"JSON":t=JSON.stringify(this,null,e&&e.space)||"";break;case"SQL":t=this.getSyntax(this.root.conditionals)}return t},makeSqlOperand:function(){return this.root.conditionals.makeSqlString(this.operand)},getSyntax:function(e){return this.root.conditionals.ops[this.operator].make.call(e,this)},makeElement:function(e,t,r){for(var i,o,a,s=e,l=e?"SELECT":"INPUT";s instanceof Array;)s=1!==s.length||u.isGroupProxy(s[0])?void 0:s[0];return s?(i=this.templates.get("lockedColumn",s.alias||s.name||s,s.name||s.alias||s),o=i.querySelector("input")):(a={prompt:t,sort:r,group:function(e){return p.groups[e]}},i=u.build(l,e,a),"text"===i.type&&this.eventHandler&&this.el.addEventListener("keyup",this.eventHandler),this.onChange=this.onChange||n.bind(this),this.el.addEventListener("change",this.onChange),h.setWarningClass(i),o=i),this.el.appendChild(i),o}});m.setToString=function(e){return c=e,p.setToString(e)},t.exports=m},{"./Conditionals":13,"./FilterNode":15,"pop-menu":23}],15:[function(e,t,r){"use strict";function n(e,t){this.message=e,this.node=t}var i=e("object-iterators"),o=e("extend-me"),a=o.Base;o.debug=!0;var s=e("pop-menu"),l=e("./stylesheet"),c=e("./Templates"),u=e("./Conditionals"),h=e("./parser-SQL"),p="OL",f="LI",d=/^\s*((\[[^]*\])|(\{[^]*\}))\s*$/;n.prototype=Object.create(Error.prototype),n.prototype.name="FilterTreeError";var m=a.extend("FilterNode",{initialize:function(e){e=e||{};var t=this.parent=this.parent||e.parent,r=t&&t.root;if(!r){r=this,this.stylesheet=this.stylesheet||l(e.cssStylesheetReferenceElement),this.conditionals=new u(e),this.ParserSQL=new h(e);var n=["name"];e.resolveAliases&&n.push("alias"),this.findOptions={caseSensitive:e.caseSensitiveColumnNames,keys:n}}this.root=r,this.dontPersist={},this.setState(e.state,e)},render:function(){if(this.parent){var e=document.createElement(f);if(this.notesEl&&e.appendChild(this.notesEl),!this.keep){var t=this.templates.get("removeButton");t.addEventListener("click",this.remove.bind(this)),e.appendChild(t)}e.appendChild(this.el),this.parent.el.querySelector(p).appendChild(e)}},setState:function(e,t){var r=this.el;if(e=this.parseStateString(e,t),this.mixInStandardOptions(e,t),this.mixInNonstandardOptions(t),this.createView(e),this.loadState(e),this.render(),r){var n=this.el;this.parent&&"LI"===r.parentElement.tagName&&(r=r.parentNode,n=n.parentNode),r.parentNode.replaceChild(n,r)}},parseStateString:function(e,t){if(e){if("string"==typeof e){var r=t&&t.context,i=t&&t.syntax||"auto";switch(r&&(e=r.querySelector(e).value),"auto"===i&&(i=d.test(e)?"JSON":"SQL"),i){case"JSON":try{e=JSON.parse(e)}catch(o){throw new n("JSON parser: "+o)}break;case"SQL":try{e=this.root.ParserSQL.parse(e)}catch(o){throw new n("SQL WHERE clause parser: "+o)}}}if("object"!=typeof e)throw new n("Unexpected input state.")}return e},mixInStandardOptions:function(e,t){var r=this;i(m.optionsSchema).each(function(n,i){if(!n.ignore&&(this!==this.root||n.rootBound)){var o;r.dontPersist[i]=void 0!==(o=t&&t[i])||void 0===(o=e&&e[i])&&!(n.own||r.hasOwnProperty(i)&&null!==o)&&!(o=r.parent&&r.parent[i])&&(o=n["default"]),null===o?(delete r[i],r.dontPersist[i]=!1):o&&("schema"!==i||o.walk||(o.walk=s.walk.bind(o),o.lookup=s.lookup.bind(o,r.root.findOptions)),r[i]=o)}})},mixInNonstandardOptions:function(e){var t=this;i(e).each(function(e,r){m.optionsSchema[r]||(t[r]=e)})},remove:function(){var e,t=this.parent;t&&(this.eventHandler&&this.eventHandler.call(t,{type:"delete",preventDefault:function(){e=!0}}),e||(t.keep||t.children.length>1?(this.el.parentNode.remove(),t.children.splice(t.children.indexOf(this),1)):t.remove()))},firstChildOfType:function(e){var t=this.el.querySelector(e);return t&&t.parentElement!==this.el&&(t=null),t},Error:n,templates:new c});m.optionsSchema={state:{ignore:!0},cssStylesheetReferenceElement:{ignore:!0},ownSchema:{own:!0},schema:{},editor:{},eventHandler:{},type:{own:!0},keep:{own:!0},opMenu:{"default":u.defaultOpMenu},opMustBeInMenu:{},typeOpMap:{rootBound:!0},sortColumnMenu:{}},m.setWarningClass=function(e,t){return arguments.length<2&&(t=e.value),e.classList[t?"remove":"add"]("filter-tree-warning"),t},m.clickIn=function(e){e&&("SELECT"===e.tagName?setTimeout(function(){e.dispatchEvent(new MouseEvent("mousedown"))},0):e.focus())},t.exports=m},{"./Conditionals":13,"./Templates":17,"./parser-SQL":19,"./stylesheet":20,"extend-me":9,"object-iterators":22,"pop-menu":23}],16:[function(e,t,r){"use strict";function n(e){return(e+"").toUpperCase()}function i(e){return e+""}function o(e){var t=e.target;t.parentElement===this.el&&("subexp"===t.value?this.children.push(new m({parent:this})):this.add({state:{editor:t.value},focus:!0}),t.selectedIndex=0)}function a(e){var t=e.target;if("filter-tree-op-choice"===t.className){this.operator=t.value;var r=this.el.querySelectorAll("label>input.filter-tree-op-choice[name="+t.name+"]");Array.prototype.forEach.call(r,function(e){e.parentElement.style.textDecoration=e.checked?"none":"line-through"});for(var n in f)this.el.classList.remove(n);this.el.classList.add(this.operator)}}function s(e){this.children.forEach(function(t){t instanceof p?t.invalid(e):t.children.length&&s.call(t,e)})}var l=e("pop-menu"),c=e("unstrungify"),u=e("object-iterators"),h=e("./FilterNode"),p=e("./FilterLeaf"),f=e("./tree-operators"),d=0,m=h.extend("FilterTree",{editors:{Default:p},addEditor:function(e,t,r){return"object"==typeof e&&(r=t,t=e,e="Default"),r=r||this.editors.Default,t=t||m.extensions[e],this.editors[e]=r.extend(e,t)},removeEditor:function(e){if("Default"===e)throw"Cannot remove default editor.";delete this.editors[e]},createView:function(){this.el=this.templates.get(this.type||"subtree",++d,this.schema[0]&&l.formatItem(this.schema[0]));var e=this.firstChildOfType("select");if(e){var t,r,n=this.editors;1===e.length&&1===this.editors.length?t=e:(t=r=document.createElement("optgroup"),r.label="Conditional Expressions"),Object.keys(n).forEach(function(e){
var r=n[e].prototype.name||e;t.appendChild(new Option(r,e))}),r&&e.add(r),this.el.addEventListener("change",o.bind(this))}this.el.addEventListener("click",a.bind(this))},loadState:function(e){if(this.operator="op-and",this.children=[],e){if(!(e.children instanceof Array))throw new this.Error("Expected `children` property to be an array.");if(e.operator){if(!f[e.operator])throw new this.Error("Expected `operator` property to be one of: "+Object.keys(f));this.operator=e.operator}e.children.forEach(this.add.bind(this))}else this.add()},render:function(){var e=this.firstChildOfType("label > input[value="+this.operator+"]"),t=this.el.querySelector(".filter-tree-add-conditional");e&&(e.checked=!0,a.call(this,{target:e})),t&&!this.children.length&&Object.keys(this.editors).length>1&&this["filter-tree-add-conditional"]({target:t}),h.prototype.render.call(this)},add:function(e){var t,r;return e=e||{},e.state||(e={state:e}),t=e.state.children?this.constructor:this.editors[e.state.editor||"Default"],e.parent=this,r=new t(e),this.children.push(r),e.focus&&setTimeout(function(){r.invalid(e)},750),r},invalid:function(e){e=e||{};var t,r;r=e["throw"],e["throw"]=!0;try{s.call(this,e)}catch(n){if(t=n,!(n instanceof this.Error))throw n}if(e["throw"]=r,t&&(e.alert&&window.alert(t.message||t),e["throw"]))throw t;return t},test:function v(e){var t=f[this.operator],r=t.seed,n=!0;return this.children.find(function(i){return!!i&&(n=!1,i instanceof p?r=t.reduce(r,i.test(e)):i.children.length&&(r=t.reduce(r,v.call(i,e))),r===t.abort)}),n||(t.negate?!r:r)},filterCount:function g(){var e=0;return this.children.forEach(function(t){e+=t instanceof p?1:g.call(t)}),e},getState:function b(e){var t="",r=e&&e.syntax||"object";switch(r){case"object":t=c.call(this);break;case"JSON":t=JSON.stringify(this,null,e&&e.space)||"";break;case"SQL":var n=f[this.operator].SQL;this.children.forEach(function(r,i){var o=i?" "+n.op+" ":"";r instanceof p?t+=o+r.getState(e):r.children.length&&(t+=o+b.call(r,e))}),t&&(t=n.beg+t+n.end);break;default:throw new this.Error('Unknown syntax option "'+r+'"')}return t},toJSON:function y(){var e=this,t={operator:this.operator,children:[]};return this.children.forEach(function(e){t.children.push(e instanceof p?e:y.call(e))}),u(h.optionsSchema).each(function(r,n){!e[n]||e.dontPersist[n]||!r.own&&e.parent&&e[n]===e.parent[n]||(t[n]=e[n])}),t},set caseSensitiveData(e){var t=e?i:n;p.setToString(t)}});m.extensions={Columns:e("./extensions/columns")},m.prototype.caseSensitiveData=!0,t.exports=m},{"./FilterLeaf":14,"./FilterNode":15,"./extensions/columns":18,"./tree-operators":21,"object-iterators":22,"pop-menu":23,unstrungify:26}],17:[function(e,t,r){"use strict";function n(){}var i=e("templex"),o=e("../html"),a=/\{(\d+)\:encode\}/g,s=n.prototype.constructor;n.prototype=o,n.prototype.constructor=s,n.prototype.get=function(e){var t,r={},n=document.createElement("div"),o=this[e],s=Array.prototype.slice.call(arguments,1);for(a.lastIndex=0;t=a.exec(o);)r[t[1]]=!0;return t=Object.keys(r),t.length&&(t.forEach(function(e){n.textContent=s[e],s[e]=n.innerHTML}),o=o.replace(a,"{$1}")),n.innerHTML=i.apply(this,[o].concat(s)),1===n.children.length&&1===n.childNodes.length?n.firstChild:n.childNodes},t.exports=n},{"../html":11,templex:25}],18:[function(e,t,r){"use strict";var n=e("../Conditionals"),i=e("../FilterLeaf"),o={name:"column = column",createView:function(){i.prototype.createView.call(this);var e=this.view.operand,t=this.view.operand=this.makeElement(this.root.schema,"column",this.sortColumnMenu);this.el.replaceChild(t,e)},makeSqlOperand:function(){return this.root.conditionals.makeSqlIdentifier(this.operand)},opMenu:[n.groups.equality,n.groups.inequalities,n.groups.sets],q:function(e){return this.valOrFunc.call(e,this.operand)}};t.exports=o},{"../Conditionals":13,"../FilterLeaf":14}],19:[function(e,t,r){"use strict";function n(e){this.message=e}function i(e){e=e||{},this.schema=e.schema;var t=e.sqlIdQts||v;this.reName=new RegExp("^("+t.beg+"(.+?)"+t.end+"|([A-Z_][A-Z_@\\$#]*)\\b)","i")}function o(e){var t,r,i,s,m,v,g,b=[],y=0;for(e=e.trim();y<e.length;){if(t=e.substr(y).match(d)){var x=!!t[1];y+=t[0].length;for(var w=y,E=1;w<e.length&&E;++w)"("===e[w]?++E:")"===e[w]&&--E;if(E)throw new n('Expected ")"');if(g=o.call(this,e.substr(y,w-1-y)),"object"!=typeof g)return g;if(x){if("op-or"!==g.operator)throw new n("Expected OR in NOT(...) subexpression but found "+g.operator.substr(3).toUpperCase()+".");g.operator="op-nor"}y=w}else{if(t=e.substr(y).match(this.reName),!t)throw new n("Expected identifier or quoted identifier.");if(r=t[2]||t[3],/^[A-Z_]/i.test(e[y])||(y+=2),y+=r.length," "===e[y]&&++y,t=e.substr(y).match(l),!t)throw new n("Expected relational operator.");if(i=t[1].toUpperCase(),y+=i.length,m=void 0," "===e[y]&&++y,t[4]&&"IN"===t[4].toUpperCase()){if(t=e.substr(y).match(p),!t)throw new n("Expected parenthesized list.");for(s=t[1],y+=s.length+2;t=s.match(h);)s=s.replace(h,this.literals[t[1]])}else if(t=e.substr(y).match(u))s=t[1],y+=s.length+2,s=this.literals[s];else if(t=e.substr(y).match(c))s=t[1],y+=s.length;else{if(!(t=e.substr(y).match(this.reName)))throw new n("Expected number or string literal or column.");s=t[2]||t[3],y+=s.length,m="Columns"}this.schema&&(r=a.call(this,r),m&&(s=a.call(this,s))),g={column:r,operator:i,operand:s},m&&(g.editor=m)}if(b.push(g),y<e.length){if(" "===e[y]&&++y,t=e.substr(y).match(f),!t)throw new n("Expected boolean operator.");if(v=t[1].toLowerCase(),y+=v.length,v="op-"+v,b.operator&&b.operator!==v)throw new n("Expected same boolean operator throughout subexpression.");b.operator=v}" "===e[y]&&++y}return 1===b.length?b[0]:{operator:b.operator,children:b}}function a(e){var t=this.schema.lookup(e);if(!t)throw new n(this.resolveAliases?"Expected valid column name.":"Expected valid column name or alias.");return t.name}function s(e){var t,r=0,i=0;for(this.literals=[];(i=e.indexOf(m,i))>=0;){t=i;do if(t=e.indexOf(m,t+1),t<0)throw new n("Expected "+m+" (single quote).");while(e[++t]===m);this.literals.push(e.slice(++i,--t).replace(/''/g,m)),e=e.substr(0,i)+r+e.substr(t),i=i+1+(r+"").length+1,r++}return e}var l=/^((=|>=?|<[>=]?)|(NOT )?(LIKE|IN)\b)/i,c=/^([+-]?(\d+(\.\d*)?|\d*\.\d+)(e[+-]\d+)?)[^\d]?/i,u=/^'(\d+)'/,h=/'(\d+)'/,p=/^\((.*?)\)/,f=/^(AND|OR)\b/i,d=/^(NOT ?)?\(/i,m="'",v={beg:'"',end:'"'};n.prototype=Object.create(Error.prototype),n.prototype.name="ParserSqlError",i.prototype={constructor:i.prototype.constructor,parse:function(e){var t;return e=e.replace(/\s\s+/g," ").trim(),e=s.call(this,e),t=o.call(this,e),t.children||(t={children:[t]}),t}},t.exports=i},{}],20:[function(e,t,r){"use strict";var n,i=e("css-injector");n=".filter-tree{font-family:sans-serif;font-size:10pt;line-height:1.5em}.filter-tree label{font-weight:400}.filter-tree input[type=checkbox],.filter-tree input[type=radio]{margin-left:3px;margin-right:3px}.filter-tree ol{margin-top:0}.filter-tree>select{float:right;border:1px dotted grey;background-color:transparent;box-shadow:none}.filter-tree-remove-button{display:inline-block;width:15px;height:15px;border-radius:8px;background-color:#e88;font-size:11.5px;color:#fff;text-align:center;line-height:normal;font-style:normal;font-family:sans-serif;margin-right:4px;cursor:pointer}.filter-tree-remove-button:hover{background-color:transparent;color:#e88;font-weight:700;box-shadow:red 0 0 2px inset}.filter-tree-remove-button::before{content:'\\d7'}.filter-tree li::after{font-size:70%;font-style:italic;font-weight:700;color:#080}.filter-tree>ol>li:last-child::after{display:none}.op-and>ol,.op-nor>ol,.op-or>ol{padding-left:5px;margin-left:27px}.op-or>ol>li::after{margin-left:2.5em;content:'â OR â'}.op-and>ol>li::after{margin-left:2.5em;content:'â AND â'}.op-nor>ol>li::after{margin-left:2.5em;content:'â NOR â'}.filter-tree-editor>*{font-weight:700}.filter-tree-editor>span{font-size:smaller}.filter-tree-editor>input[type=text]{width:8em;padding:1px 5px 2px}.filter-tree-warning{background-color:#ffc!important;border-color:#edb!important;font-weight:400!important}.filter-tree-error{background-color:#fcc!important;border-color:#c99!important;font-weight:400!important}.filter-tree-default>:enabled{margin:0 .4em;background-color:#ddd;border:1px solid transparent}.filter-tree.filter-tree-type-column-filters>ol>li:not(:last-child){padding-bottom:.75em;border-bottom:3px double #080;margin-bottom:.75em}.filter-tree .footnotes{margin:0 0 6px;font-size:8pt;font-weight:400;line-height:normal;white-space:normal;color:#c00}.filter-tree .footnotes>p{margin:0}.filter-tree .footnotes>ul{margin:-3px 0 0;padding-left:17px;text-index:-6px}.filter-tree .footnotes>ul>li{margin:2px 0}.filter-tree .footnotes .field-name,.filter-tree .footnotes .field-value{font-weight:700;font-style:normal}.filter-tree .footnotes .field-value{font-family:monospace;color:#000;background-color:#ddd;padding:0 5px;margin:0 3px;border-radius:3px}",t.exports=i.bind(this,n,"filter-tree-base")},{"css-injector":8}],21:[function(e,t,r){"use strict";function n(e,t){return e&&t}function i(e,t){return e||t}var o={"op-and":{reduce:n,seed:!0,abort:!1,negate:!1,SQL:{op:"AND",beg:"(",end:")"}},"op-or":{reduce:i,seed:!1,abort:!0,negate:!1,SQL:{op:"OR",beg:"(",end:")"}},"op-nor":{reduce:i,seed:!1,abort:!0,negate:!0,SQL:{op:"OR",beg:"NOT (",end:")"}}};t.exports=o},{}],22:[function(e,t,r){"use strict";function n(e){return e instanceof n?e:this instanceof n?(this.originalValue=e,void(this.o=e||{})):new n(e)}n.chain=function(e){var t=n(e);return t.chaining=!0,t},n.prototype={value:function(){return this.originalValue},each:function(e,t){var r=this.o;return Object.keys(r).forEach(function(t){e.call(this,r[t],t,r)},t||r),this},find:function(e,t){var r,n=this.o;return n&&(r=Object.keys(n).find(function(t){return e.call(this,n[t],t,n)},t||n),void 0!==r&&(r=n[r])),r},filter:function(e,t){var r=this.o,n=[];return r&&Object.keys(r).forEach(function(t){e.call(this,r[t],t,r)&&n.push(r[t])},t||r),n},map:function(e,t){var r=this.o,n=[];return r&&Object.keys(r).forEach(function(t){n.push(e.call(this,r[t],t,r))},t||r),n},reduce:function(e,t,r){var n=this.o;return n&&Object.keys(n).forEach(function(r,i){t=i||void 0!==t?e(t,n[r],r,n):n[r]},r||n),t},extend:function(e){var t=this.o;return Array.prototype.slice.call(arguments).forEach(function(e){if(e)for(var r in e)t[r]=e[r]}),this.chaining?this:t},extendOwn:function(e){var t=this.o;return Array.prototype.slice.call(arguments).forEach(function(e){n(e).each(function(e,r){t[r]=e})}),this.chaining?this:t}},Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,i=arguments[1],o=0;o<n;o++)if(t=r[o],e.call(i,t,o,r))return t}),t.exports=n},{}],23:[function(e,t,r){"use strict";function n(e,t,r){r=r||{};var o,a=r.prompt,s=r.blacklist,l=r.sort,c=r.breadcrumbs||[],p=c.length?c.join(".")+".":"",f=h.subtree,d=0;if(e instanceof Element?(o=e.tagName,r.append||(e.innerHTML="")):(o=e,e=document.createElement(o)),t){var m,v;"SELECT"===o?(m=e.add,a?(v=new Option(a,""),v.innerHTML+="&hellip;",e.add(v)):null!==a&&e.add(new Option)):(m=e.appendChild,e.label=a),l&&(t=t.slice().sort(i)),t.forEach(function(t){if(r&&"string"==typeof t){var i=t.match(u);if(i){var o=i[1],a=i[2],h=r[o];if("function"!=typeof h)throw"build: Expected options."+o+" to be a function.";t=h(a)}}var v=t[f]||t;if(v instanceof Array){var g={breadcrumbs:c.concat(++d),prompt:t.label||"Group "+p+d,options:l,blacklist:s},b=n("OPTGROUP",v,g);b.childElementCount&&e.appendChild(b)}else if("object"!=typeof t)s&&s.indexOf(t)>=0||m.call(e,new Option(t));else if(!t.hidden){var y=t.name||t.alias;s&&s.indexOf(y)>=0||m.call(e,new Option(t.alias||t.name,y))}})}else e.type="text";return e}function i(e,t){return e=e.alias||e.name||e.label||e,t=t.alias||t.name||t.label||t,e<t?-1:e>t?1:0}function o(e,t){1===arguments.length&&(t=e,e=void 0);var r,n,i,s,l=e&&e.keys||[h.defaultKey],c=e&&e.caseSensitive;return t=a(t,c),r=this.find(function(r){var i=r[h.subtree]||r;if(i instanceof Array)return n=o.call(i,e,t);if("object"!=typeof r)return a(r,c)===t;for(var u=0;u<l.length;++u)if(s=r[l[u]],s&&a(s,c)===t)return!0}),i=n||r,i&&(i.name?i:{name:i})}function a(e,t){var r="";return e&&(r+=e,t||(r=r.toUpperCase())),r}function s(e){var t,r,n,i,o=this,a=0,l=h.subtree;for(t=o.length-1;t>=0;--t)r=o[t],n=r[l]||r,n instanceof Array||(n=void 0),n||(i=e(r.name?r:{name:r},a),a+=1,void 0!==i&&(null===i?(o.splice(t,1),a-=1):(o[t]=r=i,n=r[l]||r,n instanceof Array||(n=void 0)))),n&&(a+=s.call(n,e),0===n.length&&(o.splice(t,1),a-=1));return a}function l(e){var t=e.name||e;return e.alias&&(t='"'+e.alias+'" ('+t+")"),t}function c(e){return u.test(e)}var u=/^(\w+)\((\w+)\)$/,h={build:n,walk:s,lookup:o,formatItem:l,isGroupProxy:c,subtree:"submenu",defaultKey:"name"};t.exports=h},{}],24:[function(e,t,r){"use strict";function n(e,t){var r,i;if(i=e.match(u)){for(r=0;r<i.length;++r)"["===i[r][0]&&(i[r]=n.reserve(i[r])),i[r]="("+i[r]+")";for(i=e.match(new RegExp(s+i.join(s)+s)),i.shift(),r=1;r<i.length;r+=2){var h=i[r];switch(h){case c:h=o;break;case l:h=a;break;default:var p="^"===h[1]?2:1;h="["+n.reserve(h.substr(p,h.length-(p+1)))+"]"}i[r]=h}}else i=[e];for(r=0;r<i.length;r+=2)i[r]=n.reserve(i[r]);return i=i.join(""),i=i.substr(0,2)===o?i.substr(2):"^"+i,i.substr(-2,2)===o?i=i.substr(0,i.length-2):i+="$",new RegExp(i,t?"i":void 0)}var i=/([\.\\\+\*\?\^\$\(\)\{\}\=\!\<\>\|\:\[\]])/g,o=".*",a=".",s="("+o+")",l="_",c="%",u=new RegExp("("+[l,c,"\\[\\^?[^-\\]]+]","\\[\\^?[^-\\]]\\-[^\\]]]"].join("|")+")","g");n.reserve=function(e){return e.replace(i,"\\$1")};var h,p;(n.clearCache=function(e){return e?h[e]&&(delete h[e],p--):(h={},p=0),p})(),n.getCacheSize=function(){return p},n.cached=function(e,t,r){"string"==typeof e&&(r=t,t=e,e=!1);var i=t+(r?"i":"c"),o=h[i];if(o)o.when=(new Date).getTime(),void 0!==e&&(o.keep=e);else{if(p===n.cacheMax){var a,s,l=[],c=0;for(a in h)if(o=h[a],!o.keep){for(s=0;s<c&&!(o.when<l[s].item.when);++s);l.splice(s,0,{key:a,item:o}),c++}if(!l.length)return n(t,r);for(s=Math.ceil(l.length/10),p-=s;s--;)delete h[l[s].key]}o=h[i]={regex:n(t,r),keep:e,when:(new Date).getTime()},p++}return o.regex},t.exports=n},{}],25:[function(require,module,exports){function templex(e){var t=this instanceof Array?this:[this];return arguments.length>1&&t.unshift(arguments),e.replace(templex.regexp,templex.merger.bind(t))}templex.regexp=/\{(.*?)\}/g,templex["with"]=function(e,t){return"with(this["+e+"]){"+t+"}"},templex.cache=[],templex.deref=function(key){if(!(this.length in templex.cache)){for(var code="return eval(expr)",i=0;i<this.length;++i)code=templex["with"](i,code);templex.cache[this.length]=eval("(function(expr){"+code+"})")}return templex.cache[this.length].call(this,key)},templex.merger=function(e,t){var r;try{r=isNaN(t)?templex.deref.call(this,t):this[0][t]}catch(n){r="{"+t+"}"}return r},module.exports=templex},{}],26:[function(e,t,r){"use strict";function n(e){var t,r,i="function"==typeof this.toJSON?this.toJSON():this;return n.isArray(i)?(t=[],r=e&&e.nullElements,i.forEach(function(e){var i=n.call(e);void 0!==i?t.push(i):r&&t.push(null)})):"object"==typeof i?(t={},r=e&&e.nullProperties,Object.keys(i).forEach(function(e){var o=i[e];void 0!==o&&(o=n.call(i[e])),void 0!==o?t[e]=o:r&&(t[e]=null)})):t=i,t}n.isArray=function(e){return e.constructor===Array},n.crossFramesIsArray=function(e){return i.call(e)===o};var i=Object.prototype.toString,o="[object Array]";t.exports=n},{}]},{},[1]);