!function t(e,o,n){function i(s,u){if(!o[s]){if(!e[s]){var l="function"==typeof require&&require;if(!u&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=o[s]={exports:{}};e[s][0].call(a.exports,function(t){var o=e[s][1][t];return i(o?o:t)},a,a.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,o){"use strict";function n(e,o){function n(t,e,n){var i=o[t];return i&&i.prototype||Object.getPrototypeOf(e)}this.grid=e,o=o||{},n("Hypergrid",e).mixIn(t("./mix-ins/grid")),n("Behavior",e.behavior).mixIn(t("./mix-ins/behavior")),n("Column",e.behavior.allColumns.length&&e.behavior.allColumns[0]).mixIn(t("./mix-ins/column")),n("DataModel",e.behavior.dataModel).mixIn(t("./mix-ins/dataModel")),this.grid.addEventListener("fin-column-sort",function(t,o){e.toggleSort(t,o)})}n.prototype={constructor:n,$$CLASS_NAME:"hypersorter",state:{sorts:[]},properties:function(t){var e,o,n,i=this.grid.behavior.dataModel;if(n=t&&t.column?i.getColumnSortState(t.column.index):this.state,t&&n)if(t.getPropName)e=n[t.getPropName],void 0===e&&(e=null);else for(var r in t)o=t[r],void 0===o?delete n[r]:"function"==typeof o?n[r]=o():n[r]=o;return e}},window.fin.Hypergrid.Hypersorter=n},{"./mix-ins/behavior":2,"./mix-ins/column":3,"./mix-ins/dataModel":4,"./mix-ins/grid":5}],2:[function(t,e,o){"use strict";function n(t,e){var o=!1;return t.forEach(function(t){for(var n,i=0;i<e.length;){if(n=e[i].index+1,n===t){e[i].unSort(),o=!0;break}i++}}),o}e.exports={toggleSort:function(t,e){var o=this.getActiveColumn(t);o&&o.toggleSort(e)},sortChanged:function(t){var e=n(this.getSortedColumnIndexes(),t||this.getHiddenColumns());e&&this.reindex()}}},{}],3:[function(t,e,o){"use strict";e.exports={toggleSort:function(t){this.dataModel.toggleSort(this,t)},unSort:function(t){this.dataModel.unSortColumn(this,t)}}},{}],4:[function(t,e,o){"use strict";var n="▲",i="▼";e.exports={toggleSort:function(t,e){this.incrementSortState(t,e),this.serializeSortState(),this.reindex()},unSortColumn:function(t,e){var o=this.getSortedColumnIndexes(),n=this.getColumnSortState(t.index),i=n.sortPosition;i>-1&&(o.splice(i,1),e||(this.sorter.prop("columnSorts",o),this.reindex())),this.serializeSortState()},getColumnSortState:function(t){var e=this.getSortedColumnIndexes(),o=-1,n=e.find(function(e,n){return o=n,e.columnIndex===t});return{sortSpec:n,sortPosition:o}},incrementSortState:function(t,e){var o=this.getSortedColumnIndexes(),n=t.index,i=this.schema[n],r=this.getColumnSortState(n).sortSpec;r?r.direction>0?r.direction=-1:this.unSortColumn(t,!0):(e.indexOf("CTRL")<0&&(o.length=0),o.unshift({columnIndex:n,direction:1,type:i.type})),o.length>3&&(o.length=3)},serializeSortState:function(){this.grid.properties.sorts=this.getSortedColumnIndexes()},getSortedColumnIndexes:function(){return this.sorter.prop("sorts")||[]},getSortImageForColumn:function(t){var e,o,r=this.getSortedColumnIndexes(),s=this.getColumnSortState(t),u=s.sortSpec,l=s.sortPosition;if(u){var a=u.direction>0?n:i;e=a+" ",r.length>1&&(o=r.length-l,e=o+e)}return e}}},{}],5:[function(t,e,o){"use strict";e.exports={toggleSort:function(t){if(this.abortEditing()){var e=this.behavior,o=this,n=t.detail.column,i=t.detail.keys;e.toggleSort(n,i),setTimeout(function(){o.synchronizeScrollingBoundaries(),o.isColumnAutosizing()&&e.autosizeAllColumns(),o.repaint()},10)}}}},{}]},{},[1]);