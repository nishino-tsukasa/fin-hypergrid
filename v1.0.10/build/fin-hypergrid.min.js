!function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return o(i?i:t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";i.grid=[".hypergrid-input {","\tposition: absolute;","\tdisplay: none;","\toutline: 0;","\tpadding: 0;","\tborder: solid 2px black;","\tbox-sizing: border-box;","\tbox-shadow: white 0 0 1px 1px;","\tbackground-color: ivory;","\tcolor: black;","\tfont-size: 7pt;","\tline--height: 0;","}","div.hypergrid-input > input {","\tposition: absolute;","\theight: 100%;","\tright: 20px;","\tleft: 0;","\twidth: 100%;","\toutline: 0;","\tpadding: 0;","","\tborder: 5px solid transparent;","\tborder-right-width: 20px;","\tborder-bottom-width: 0;","\tborder-top-width: 0;","\tbox-sizing: border-box;","","\tfont-size: 7pt;","\tline--height: 0;","\tcolor: black;","\tbackground-color: transparent;","}","div.hypergrid-input > span {","\tposition: absolute;","\tbox-sizing: border-box;","\twidth: 20px;","\theight: 100%;","\tright: 0;","\ttext-align: center;","\tfont-size: 15px;","\tline-height: 11px;","}","div.hypergrid-input span[title] {","\tcolor: lightgrey;","\tcursor: pointer;","}","div.hypergrid-input span[title]:hover {","\tcolor: grey;","}","div.hypergrid-input span[title]:active, div.hypergrid-input span[title].active {","\tcolor: blue;","}","div.hypergrid-input > span::after {","\tcontent: '\\25BE';","\tfont-size: 20px;","}","div.hypergrid-input > div {","\tposition: absolute;","\theight: 137px;","\tleft: -2px;","\tright: -2px;","\ttop: 13px;","\theight: 0;","\ttransition: height .25s;","\tvisibility: hidden;","\tbox-shadow: white 0 0 1px 1px;","\tbox-sizing: border-box;","\tborder: 2px solid black;","\tbackground-color: ivory;","\t-webkit-user-select: none;","\t-moz-user-select: none;","\t-ms-user-select: none;","}","div.hypergrid-input > div > div {","\tposition: absolute;","\theight: 13px;","\twidth: 100%;","\ttext-align: center;","}","div.hypergrid-input > div span[title] {","\tfont-weight: bold;","\tfont-size: 10px;","\tfont-family: verdana, geneva, sans-serif;","\tmargin-left: 6px;","\tmargin-right: 6px;","}","div.hypergrid-input > div span:not([title]) {","\tfont-style: italic;","\tpadding-top: 1px;","}","div.hypergrid-input > div select {","\tposition: absolute;","\tborder: 0;","\toutline: 0;","\tborder-top: 2px solid black;","\twidth: 100%;","\tbottom: 0;","\ttop:14px;","\tbackground-color: transparent;","}"].join("\n"),i["list-dragon-addendum"]=["div.dragon-list, li.dragon-pop {","\tfont-family: Roboto, sans-serif;","\ttext-transform: capitalize; }","div.dragon-list {","\tposition: absolute;","\ttop: 4%;","\tleft: 4%;","\theight: 92%;","\twidth: 20%; }","div.dragon-list:nth-child(2) { left: 28%; }","div.dragon-list:nth-child(3) { left: 52%; }","div.dragon-list:nth-child(4) { left: 76%; }","div.dragon-list > div, div.dragon-list > ul > li, li.dragon-pop { line-height: 46px; }","div.dragon-list > ul { top: 46px; }","div.dragon-list > ul > li:not(:last-child)::before, li.dragon-pop::before {","\tcontent: '\\2b24';","\tcolor: #b6b6b6;","\tfont-size: 30px;","\tmargin: 8px 14px 8px 8px; }","li.dragon-pop { opacity:.8; }"].join("\n")},{}],2:[function(t,e,i){"use strict";i.CQL=["<li>",'\t<label title="${1}">','\t\t<a type="button" class="filter-copy"></a>','\t\t<div class="filter-tree-remove-button" title="delete conditional"></div>',"\t\t<strong>%{0}:</strong>",'\t\t<input name="${1}" class="filter-text-box ${3}" value="%{2}">',"\t</label>",'\t<div class="filter-tree-warn"></div>',"</li>"].join("\n"),i.SQL=["<li>",'\t<label title="${1}">','\t\t<a type="button" class="filter-copy"></a>','\t\t<div class="filter-tree-remove-button" title="delete conditional"></div>',"\t\t<strong>%{0}:</strong>",'\t\t<textarea name="${1}" rows="1" class="filter-text-box ${3}">%{2}</textarea>',"\t</label>",'\t<div class="filter-tree-warn"></div>',"</li>"].join("\n"),i.dialog=['<div id="hypergrid-dialog">',"","\t<style>","\t\t#hypergrid-dialog {","\t\t\tposition: absolute;","\t\t\ttop: 0;","\t\t\tleft: 0;","\t\t\tbottom: 0;","\t\t\tright: 0;","\t\t\tbackground-color: white;","\t\t\tfont: 10pt sans-serif;","\t\t\topacity: 0;","\t\t\ttransition: opacity 1s;","\t\t\tbox-shadow: rgba(0, 0, 0, 0.298039) 0px 19px 38px, rgba(0, 0, 0, 0.219608) 0px 15px 12px;","\t\t}","\t\t#hypergrid-dialog.hypergrid-dialog-visible {","\t\t\topacity: 1;","\t\t\ttransition: opacity 1s;","\t\t}","","\t\t#hypergrid-dialog .hypergrid-dialog-control-panel {","\t\t\tposition: absolute;","\t\t\ttop: 0px;","\t\t\tright: 12px;","\t\t}","\t\t#hypergrid-dialog .hypergrid-dialog-control-panel a {","\t\t\tcolor: #999;","\t\t\tfont-size: 33px;","\t\t\ttransition: text-shadow .35s, color .35s;","\t\t\ttext-decoration: none;","\t\t}","\t\t#hypergrid-dialog .hypergrid-dialog-close:after {","\t\t\tcontent: '\\D7';","\t\t}","\t\t#hypergrid-dialog .hypergrid-dialog-settings:after {","\t\t\tfont-family: Apple Symbols;","\t\t\tcontent: '\\2699';","\t\t}","\t\t#hypergrid-dialog .hypergrid-dialog-control-panel a:hover {","\t\t\tcolor: black;","\t\t\ttext-shadow: 0 0 6px #337ab7;","\t\t\ttransition: text-shadow .35s, color .35s;","\t\t}","\t\t#hypergrid-dialog .hypergrid-dialog-control-panel a:active {","\t\t\tcolor: #d00;","\t\t\ttransition: color 0s;","\t\t}","\t</style>","",'\t<span class="hypergrid-dialog-control-panel">','\t\t<a class="hypergrid-dialog-settings" title="(There are no settings for Manage Filters at this time.)"></a>','\t\t<a class="hypergrid-dialog-close"></a>',"\t</span>","","</div>"].join("\n"),i.filterTrees=["<style>","\t#hypergrid-dialog > div {","\t\tposition: absolute;","\t\ttop: 0;","\t\tleft: 0;","\t\tbottom: 0;","\t\tright: 0;","\t}","\t#hypergrid-dialog > div:first-of-type {","\t\tpadding: 1em 1em 1em 0.5em;","\t\tmargin-left: 50%;","\t}","\t#hypergrid-dialog > div:last-of-type {","\t\tpadding: 1em 0.5em 1em 1em;","\t\tmargin-right: 50%;","\t}","\t#hypergrid-dialog > div > p:first-child {","\t\tmargin-top: 0;","\t}","\t#hypergrid-dialog > div > p > span:first-child {","\t\tfont-size: larger;","\t\tletter-spacing: 2px;","\t\tfont-weight: bold;","\t\tcolor: #666;","\t\tmargin-right: 1em;","\t}","\t#hypergrid-dialog input, #hypergrid-dialog textarea {","\t\toutline: 0;","\t\tline-height: initial;","\t}","","\t.tabz { z-index: 0 }","\t.tabz > p:first-child, .tabz > section > p:first-child, .tabz > section > div > p:first-child { margin-top: 0 }","","\t#hypergrid-dialog a.more-info { font-size: smaller; }","\t#hypergrid-dialog a.more-info::after { content: '(more info)'; }","\t#hypergrid-dialog a.more-info.hide-info { color: red; }","\t#hypergrid-dialog a.more-info.hide-info::after { content: '(hide info)'; }","\t#hypergrid-dialog div.more-info {","\t\tborder: 1px tan solid;","\t\tborder-radius: 8px;","\t\tpadding: 0 8px .2em;","\t\tdisplay: none;","\t\tbackground-color: ivory;","\t\tbox-shadow: 3px 3px 5px #707070;","\t\tmargin-bottom: 1em;","\t}","\t#hypergrid-dialog div.more-info > p { margin: .5em 0; }","","\t#hypergrid-dialog .tabz ul {","\t\tpadding-left: 1.5em;","\t\tlist-style-type: circle;","\t\tfont-weight: bold;","\t}","\t#hypergrid-dialog .tabz ul > li > ul {","\t\tlist-style-type: disc;","\t\tfont-weight: normal;","\t}","\t#hypergrid-dialog .tabz li {","\t\tmargin: .3em 0;","\t}","\t#hypergrid-dialog .tabz li > code {","\t\tbackground: #e0e0e0;","\t\tmargin: 0 .1em;","\t\tpadding: 0 5px;","\t\tborder-radius: 4px;","\t}","","\t#hypergrid-dialog .tabz > section.filter-expression-syntax > div:last-child ol {","\t\tpadding-left: 1.6em;","\t}","\t#hypergrid-dialog .tabz > section.filter-expression-syntax > div:last-child ol > li > label {","\t\twidth: 100%;","\t\tfont-weight: normal;","\t\tdisplay: inline;","\t}","\t#hypergrid-dialog .tabz .filter-tree-warn {","\t\tcolor: darkred;","\t\tfont-size: smaller;","\t\tfont-style: italic;","\t\tline-height: initial;","\t}","\t#hypergrid-dialog .tabz > section.filter-expression-syntax > textarea,","\t#hypergrid-dialog .tabz > section.filter-expression-syntax > div:last-child textarea,","\t#hypergrid-dialog .tabz > section.filter-expression-syntax > div:last-child input {","\t\tdisplay: block;","\t\tposition: relative;","\t\tmin-width: 100%;","\t\tmax-width: 100%;","\t\tbox-sizing: border-box;","\t\tborder: 1px solid black;","\t\tpadding: .4em .7em;","\t\tfont-family: monospace;","\t\tfont-size: 9pt;","\t\tmargin-top: 3px;","\t}","\t#hypergrid-dialog .tabz > section.filter-expression-syntax > textarea {","\t\theight: 96%;","\t}","\t#hypergrid-dialog .tabz a.filter-copy {","\t\tdisplay: block;","\t\tfloat: right;","\t\tfont-size: smaller;","\t}","\t#hypergrid-dialog .tabz a.filter-copy:before {","\t\tcontent: '(copy';","\t}","\t#hypergrid-dialog .tabz a.filter-copy:after {","\t\tcontent: ')';","\t}","\t#hypergrid-dialog .tabz a.filter-copy:active {","\t\tcolor: red;","\t}","</style>","","<div>",'\t<select id="add-column-filter-subexpression" style="float:right; margin-left:1em; margin-right:4em;">','\t\t<option value="">New column filter&hellip;</option>',"\t</select>","","\t<p>","\t\t<span>Column Filters</span>",'\t\t<a class="more-info"></a>',"\t</p>",'\t<div class="more-info">',"\t\t<p>The table filter can be viewed in the Query Builder or as SQL WHERE clause syntax. Both interfaces manipulate the same underlying filter data structure.</p>","\t\t<p>All column filters are AND&rsquo;d together. Each grid row is first qualified by the table filter and then successively qualified by each column filter subexpression.</p>","\t</div>","",'\t<div class="tabz" id="columnFiltersPanel">',"",'\t\t<header id="columnsQB" class="default-tab">',"\t\t\tQuery Builder","\t\t</header>","","\t\t<section>","\t\t</section>","",'\t\t<header id="columnsSQL" class="tabz-bg2">',"\t\t\tSQL","\t\t</header>","",'\t\t<section class="filter-expression-syntax tabz-bg2">',"\t\t\t<div>","\t\t\t\t<p>","\t\t\t\t\t<span></span>",'\t\t\t\t\t<a type="button" class="filter-copy" title="The state of the column filters subtree expressed in SQL syntax (all the column filter subexpressions shown below AND&rsquo;d together).">',"\t\t\t\t\t\tall</a>","\t\t\t\t</p>","\t\t\t\t<ol></ol>","\t\t\t</div>","\t\t</section>","",'\t\t<header id="columnsCQL" class="tabz-bg1">',"\t\t\tCQL","\t\t</header>","",'\t\t<section class="filter-expression-syntax tabz-bg1">',"\t\t\t<p>","\t\t\t\t<em>","\t\t\t\t\t<small>Column filter cells accept a simplified, compact, and intuitive syntax, which is however not as flexible or concise as SQL syntax or using the Query Builder.</small>",'\t\t\t\t\t<a class="more-info"></a>',"\t\t\t\t</em>","\t\t\t</p>",'\t\t\t<div class="more-info">',"\t\t\t\t<ul>","\t\t\t\t\t<li>","\t\t\t\t\t\tSimple expressions","\t\t\t\t\t\t<ul>","\t\t\t\t\t\t\t<li>All simple expressions take the form <i>operator literal</i> or <i>operator identifier</i>. The (left side) column is always implied and is the same for all simple expressions in a compound expression. This is because column filters are always tied to a known column.</li>","","\t\t\t\t\t\t\t<li>If the operator is an equals sign (=), it may be omitted.</li>","","\t\t\t\t\t\t\t<li>Besides operators, no other punctuation is permitted, meaning that no quotation marks and no parentheses.</li>","","\t\t\t\t\t\t\t<li>If a literal exactly matches a column name or alias, the operand is not taken literally and instead refers to the value in that column. (There are properties to control what constitutes such a match: Column name, alias, or either; and the case-sensitivity of the match.)</li>","","\t\t\t\t\t\t\t<li>As literals are unquoted, any operator symbol or operator word (including logical operators for compound expressions) terminates a literal.</li>","","\t\t\t\t\t\t\t<li>An important corollary to the above features is that operators may not appear in literals.</li>","\t\t\t\t\t\t</ul>","\t\t\t\t\t</li>","","\t\t\t\t\t<li>","\t\t\t\t\t\tCompound expressions","\t\t\t\t\t\t<ul>",'\t\t\t\t\t\t\t<li>Compound expressions are formed by connecting simple expressions with the logical operators <code>AND</code>, <code>OR</code>, <code>NOR</code>, or <code>NAND</code> ("not and").</li>',"","\t\t\t\t\t\t\t<li>However, all logical operators used in a compound column filter expression must be homogeneous. You may not mix the above logical operators in a single column. (If you need to do this, create a table filter expression instead.)</li>","\t\t\t\t\t\t</ul>","\t\t\t\t\t</li>","","\t\t\t\t\t<li>","\t\t\t\t\t\tHidden logic","\t\t\t\t\t\t<ul>",'\t\t\t\t\t\t\t<li>If the column is also referenced in a table filter expression (on the left side of a simple expression), the column filter is flagged in its grid cell with a special star character. This is just a flag; it is not part of the syntax. <span style="color:red; font-style:italic">Not yet implemented.</span></li>',"\t\t\t\t\t\t</ul>","\t\t\t\t\t</li>","\t\t\t\t</ul>","\t\t\t</div>","","\t\t\t<div>","\t\t\t\t<p><span></span></p>","\t\t\t\t<ol></ol>","\t\t\t</div>","\t\t</section>","\t</div>","</div>","","<div>","\t<p>","\t\t<span>Table Filter</span>",'\t\t<a class="more-info"></a>',"\t</p>",'\t<div class="more-info">',"\t\t<p>The table filter can be viewed in the Query Builder or as SQL WHERE clause syntax. Both interfaces manipulate the same underlying filter data structure.</p>","\t\t<p>","\t\t\tThese filter subexpressions are both required (<code>AND</code>&rsquo;d together), resulting in a subset of <em>qualified rows</em> which have passed through both filters.","\t\t\tIt's called a <dfn>tree</dfn> because it contains both <dfn>branches</dfn> and <dfn>leaves</dfn>.","\t\t\tThe leaves represent <dfn>conditional expressions</dfn> (or simply <dfn>conditionals</dfn>).","\t\t\tThe branches, also known as <dfn>subtrees</dfn>, contain leaves and/or other branches and represent subexpressions that group conditionals together.","\t\t\tGrouped conditionals are evaluated together, before conditionals outside the group.","\t\t</p>","\t</div>","",'\t<div class="tabz" id="tableFilterPanel">','\t\t<header id="tableQB">',"\t\t\tQuery Builder","\t\t</header>","","\t\t<section>","\t\t</section>","",'\t\t<header id="tableSQL" class="tabz-bg2">',"\t\t\tSQL","\t\t</header>","",'\t\t<section class="filter-expression-syntax tabz-bg2">',"\t\t\t<div>","\t\t\t\t<p>","\t\t\t\t\tSQL WHERE clause syntax with certain restrictions.",'\t\t\t\t\t<a class="more-info"></a>',"\t\t\t\t</p>",'\t\t\t\t<div class="more-info">',"\t\t\t\t\t<ul>","\t\t\t\t\t\t<li>","\t\t\t\t\t\t\tSimple expressions","\t\t\t\t\t\t\t<ul>","\t\t\t\t\t\t\t\t<li>All simple expressions must be of the form <i>column operator literal</i> or <i>column operator identifier</i>. That is, the left side must refer to a column (may not be a literal); whereas the right side may be either.</li>","","\t\t\t\t\t\t\t\t<li>Column names may be quoted with the currently set quote characters (typically double-quotes). If unquoted, they must consist of classic identifier syntax (alphanumerics and underscore, but not beginning with a numeral).</li>","","\t\t\t\t\t\t\t\t<li>All literals must be quoted strings (using single quotes). (In a future release we expect to support unquoted numeric syntax for columns explicitly typed as numeric.)</li>","\t\t\t\t\t\t\t</ul>","\t\t\t\t\t\t</li>","","\t\t\t\t\t\t<li>","\t\t\t\t\t\t\tCompound expressions","\t\t\t\t\t\t\t<ul>","\t\t\t\t\t\t\t\t<li>Compound expressions are formed by connecting simple expressions with the logical operators <code>AND</code> or <code>OR</code>.</li>","","\t\t\t\t\t\t\t\t<li>However, all logical operators at each level in a complex expression (each parenthesized subexpression) must be homogeneous, <i>i.e.,</i> either <code>AND</code> or <code>OR</code> but not a mixture of the two. In other words, there is no implicit operator precedence; grouping of expressions must always be explicitly stated with parentheses.</li>","","\t\t\t\t\t\t\t\t<li>The unary logical operator <code>NOT</code> is supoorted before parentheses only. While the Query Builder and the Column Filter allow they syntax <code>&hellip; NOT <i>operator</i> &hellip;</code> (where <code><i>operator</i></code> is <code>IN</code>, <code>LIKE</code>, <i>etc.</i>), these must be expressed here with parenthethes: <code>NOT (&hellip; <i>operator</i> &hellip;)</code>.</li>","","\t\t\t\t\t\t\t\t<li>While the Query Builder and Column Filter syntax support the pseudo-operators <code>NOR</code> and <code>NAND</code>, in SQL these must be expressed as <code>NOT (&hellip; OR &hellip;)</code> and <code>NOT (&hellip; AND &hellip;)</code>, respectively.</li>","","\t\t\t\t\t\t\t\t<li>The Query Builder and Column Filter syntax also support the pseudo-operators <code>BEGINS abc</code>, <code>ENDS xyz</code>, and <code>CONTAINS def</code>. These are expressed in SQL by <code>LIKE 'abc%'</code>, <code>LIKE '%xyz'</code>, and <code>LIKE '%def%'</code>, respectively.</li>","\t\t\t\t\t\t\t</ul>","\t\t\t\t\t\t</li>","\t\t\t\t\t</ul>","\t\t\t\t</div>","\t\t\t</div>",'\t\t\t<div class="filter-tree-warn"></div>',"\t\t\t<textarea></textarea>","\t\t</section>","","\t</div>","</div>"].join("\n")},{}],3:[function(t,e,i){e.exports={calendar:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAc0lEQVR4nIXQwQkCMRSE4U9ZLMCT9Xjaq2AfNhfYU5oQLMAOtoN48EWei5iBIRPe/yYQ3qrhf1lFG7iKcEaJxSfukUvMWgdHavt0uWHtg2QwxXnAnJZ2uOLyVZtybzzhgWNmfoFl0/YB87NbzR1cjP9xeQHSDC6mcL1xFQAAAABJRU5ErkJggg=="},checked:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAYAAAA/I0V3AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAYJJREFUOE+NkstLglEQxf0fahG0iFrUxm2ElFDYLohCqCDaCAkWPaxIRbFFEJEaGEKLDCoMETRFUAMLyaIHBUG6sSKIMtKFqEhLT818ZUgmDhzu3DPn9z0uV1RrmUwmyGQyqNVqfFvViwBxu5RFPZuLSyGMKhz/qlEsRV19K8xm6y+w7bpBPFnAferjj3bdQX6DpHcAUwavAHUN2RGIZxBJZHH2mC/TUeydwwTZvBegLENNgw7sX6Wh1FswNmPEmjPCDyGRRwCtW9E3tMgdAtQw7GZjYcNX+gza2wJ3ZXsSZUuQ0vWCOV8SHfJJ/uluhbHUj1v8PKNMszIoQNRMHCShD6Wh8zyhrbOPwz8w+STKlCCJ7oRNUzQH63kBs5thBghePXxlj2aUoSxDPcuXPNiLAc5EEZ6HIkbmV2DYiXBPHs0o079+K0DTVj/s11mE00A0L+g4VcDp10qKZMAzytBhMaTRaPmYg885DlcSzSij0eoEiIouoUqlqqqaL2rlEok+Ad4vlfzPoVDsAAAAAElFTkSuQmCC"},dialog:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAH4AAAAUCAMAAAB8knmGAAAAXVBMVEXn4tfm4dfn4tjn49no5Nrp5dzp5Nvm4dbi3NDg2s3o5Nvl4NTh287k39Pp5dvh3M/j3dHk39Tl4NXg287k3tPi3dHh3NDm4tfj3tLh28/o49ro49ng2s7l4dbl4Nb6VbEyAAAC1ElEQVR4AXVV0YKDKAwE4AAVK6SwC9bt/3/mnYJ2tF7ewMEJyWRgjHMuhFT/nEMb261hxbrqh23hRomYhxLrYfXATTm6DTv060q0vxh9+b+SYj3Muj3c5IORAFMBEtD0rKgoAHIJLWLlfpIG8qAAIk3wk9tJKz2E84GrHUvbVhLbyvw0iA2/6ota/Qbbvv+YbUekbUV6R/Dg3YWN+ZyzT/a8X6KpBLpW3cta2FCOLFMkLuZe97PgFJM7joaG9bUHlVyZWM63tGllZp+yzIwipGFJQwJ5rqgX2e7/w9KrwuYMAtBkgTbS73z0r9JD9IJyy2GJEjSQD9kJwiIeTSNxyC9Dz2VcGiKT6IHplr7VynbA+UpVA+bxQYi/kNPknJtSDn9CfebBNPSrZdK0r+6ImE8p5RzDm4szgFtIQNqme3ZkcBsP1rRvJZBbfr6c4O8Qc04pgfJrY5rs4dJ5hhZ0z9z6+x0vys8Oyj5nKEMTP8oLBw+7OAh9TkCdJ8/5Nno4dt6d506dybUYbhTDmFjtxwxjTvjVDhITiJVNoe5LyoGIQk4Ftd+QEcnlYPF+KY+DWc1WgPSqJeXjXxPpT9uXoBqGx6m7jylyvRvm8hGApuNAyWis98rXYvevZVSguzgfw8kGf3aR4gd2DNUcQX1qXHavvLFrpv6L/nt/d+9RXV8OFDCFEAhHBt+qSr6/FN+37JVS7BC9zwOXj6/JW04JLB7m984v/HIiX77m7iH5kL1198ov8OI0ziX01b32Fo9c3VHzce9xdcs+LC0TeHPKRfmulOLcZfTyW2ICz6Dr5Fl4F41o1q1nYeAts6buhieSy3e+kqzM7PP885AtfB0FJOCoUZnUQSyllAU3kmk4ckAuRqC2OXAh1b3ylaBj9Ka3PidQQxJcBEtGrWRncv2ejrEjVCnSX9tYOuBk07YI4J6MYppcBU0pEgOvDtv+xCCTrtwL5l87wVO3O/g5GQAAAABJRU5ErkJggg=="},"down-rectangle":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAkAAAAECAYAAABcDxXOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAABpJREFUGFdjgIL/eDAKIKgABggqgAE0BQwMAPTlD/Fpi0JfAAAAAElFTkSuQmCC"},"filter-off":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAChSURBVChTzZHBCoUgFET9TqEiskgyWoutQvRLRIr+cR7XQAjiJW/1BgZmMUevXsY5xy9OoDEGMcYiUzeB67qibVuwQjVNA6311V+WBeM4vsLDMEApde/1fY9pmtI453neHEKAlBJd1z0fXtc16PbjODK07zvmeUZVVd8nooc75zJIOX3Gm6i0bVsGKf8xKIRIuyJTLgJJ3nvQzsjW2geIsQ/pr9hMVrSncAAAAABJRU5ErkJggg=="},"filter-on":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAACoSURBVChTY3BqfP2fHAzWmDbj7f8p294RhVOBasEa02e+/e/VBmQQCTxaX/9PnvYGoj5ywpv/Qd2ENft3vv4f1gfVBAP+nW/+h/a+ATtn1q73KHjytvdgg3070DTBgHvL6/8g22fsQGiaDmSHA21xaybgIpDHixa8hWssnA8NDEIApCh3LkIjiD2INYJCL2X6W3B8gdhEaQQBUOCA4gyE8+e9xaKJgQEA/74BNE3cElkAAAAASUVORK5CYII="},unchecked:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAYAAAA/I0V3AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAARBJREFUOE+9krtug1AQRPldSio7FQ1tZImOkoKOBomGT0EURC5ino54yTw90WywQhTkIkVWGoF2zuxdrlD+t0zThKZpT0Vmxb8CQRCg6zr0fb8rer7vfwcPxxdcrx+YpgnzPGNZlh9ibxxHlGUJshLSdV0at9tNpg7DIBrX5+OkPM9BVkKGYSBJEtR1jbZrBdiqbVtUVYU0TUFWQq+nE+I4xvvlImGaW7FHjwxZCVmWhbfzGVmWoSgKWXUr9uiRISshx3FkEldomubXauzRI0NWQp7nyUR+NG/rfr/jUXxnjx5vmKyEbNuWox9Xvid6ZMhK6HA4wnVdhGGIKIp2RY8MWQmx+JuoqvpUZFb8L6UonyYL3uOtrFH+AAAAAElFTkSuQmCC"},"up-down-spin":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAGJJREFUOE+lkwEKACEIBH2Zb/PnHsoGeaVJDUjGOgRRpKpkiIj+y4MME3eDR7kaKOVNsJyMNjIHzGy9YnW6J7qIcrriQimeCqORNABd0fpRTkt8uVUj7EsxC6vs/q3e/Q6iD2bwnByjPXHNAAAAAElFTkSuQmCC"},"up-down":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAGFJREFUOE+lkkEKQCEIRD2ZJ3Ph3iN4WD9GflpYhj0YYowpGgJmbikd3gjMDFokwbuT1iAiurG5nomgqo5QaPo9ERQRI6Jf7sfGjudy2je23+i0Wl2oQ85TOdlfrJQOazF8br+rqTXQKn0AAAAASUVORK5CYII="}}},{}],4:[function(t,e,i){"use strict";var n=t("object-iterators"),o=t("./images");n(o).each(function(t,e){var i=new Image;i.src="data:"+t.type+";base64,"+t.data,o[e]=i}),o.checkbox=function(t){return o[t?"checked":"unchecked"]},o.filter=function(t){return o[t?"filter-on":"filter-off"]},e.exports=o},{"./images":3,"object-iterators":51}],5:[function(t,e,i){"use strict";function n(t,e){var i=arguments.length>1;if("function"==typeof t&&(t=t.call(this)),i){var o=arguments;t=t.replace(n.replacersRegex,function(t,e){return e-=-1,o.length>e?o[e]:""}),t=t.replace(n.encodersRegex,function(t,e){if(e-=-1,o.length>e){var i=document.createElement("DIV");return i.textContent=o[e],i.innerHTML}return""})}return t}function o(t,e,i){var o="object"!=typeof e,r=Array.prototype.slice.call(arguments,1);return o?(e=document.createElement("DIV"),r.unshift(t)):r[0]=t,e.innerHTML=n.apply(null,r),e}function r(t,e,i,n){var r=3,s="object"!=typeof i;s&&(i=null,r=2),n=Array.prototype.slice.call(arguments,r);for(var a=[],l=o.apply(null,[t].concat(n));l.childNodes.length;)a.push(l.firstChild),e.insertBefore(l.firstChild,i);return a}function s(t,e){return o.apply(null,arguments).firstChild}function a(t,e){return o.apply(null,arguments).firstElementChild}var l=/%\{(\d+)\}/g,u=/\$\{(.*?)\}/g;n.encodersRegex=l,n.replacersRegex=u,n.format=n,n.replace=o,n.append=r,n.firstChild=s,n.firstElement=a,e.exports=n},{}],6:[function(t,e,i){"use strict";function n(t,e,i){if("string"==typeof i){if(i=document.querySelector(i),!i)throw"Cannot find reference element for CSS injection."}else if(i&&!(i instanceof Element))throw"Given value not a reference element.";var o=i&&i.parentNode||document.head||document.getElementsByTagName("head")[0];if(!e||(e=n.idPrefix+e,!o.querySelector("#"+e))){var r=document.createElement("style");return r.type="text/css",e&&(r.id=e),t instanceof Array&&(t=t.join("\n")),t="\n"+t+"\n",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),void 0===i&&(i=o.firstChild),o.insertBefore(r,i),r}}n.idPrefix="injected-stylesheet-",e.exports=n},{}],7:[function(t,e,i){"use strict";function n(t,e){function i(){e.preInitialize&&e.preInitialize.apply(this,arguments),s.apply(this,arguments),e.postInitialize&&e.postInitialize.apply(this,arguments)}function r(t,i){a[i]=e[t]}switch(arguments.length){case 0:e={};break;case 1:switch(typeof t){case"object":e=t,t=void 0;break;case"string":e={};default:throw"Single-parameter overload must be either string or object."}break;case 2:if("string"!=typeof t||"object"!=typeof e)throw"Two-parameter overload must be string, object.";break;default:throw"Too many parameters"}i.extend=n;var a=i.prototype=Object.create(this.prototype);a.constructor=i,t&&(a.$$CLASS_NAME=t);for(var l in e)if(e.hasOwnProperty(l)){var u=e[l];switch(l){case"initializeOwn":break;case"aliases":for(var c in u)u.hasOwnProperty(c)&&r(u[c],c);break;default:"string"==typeof u&&"#"===u[0]?r(u,l.substr(1)):o(u)?Object.defineProperty(a,l,u):a[l]=u}}return i}function o(t){var e;if("object"==typeof t&&t){var i=Object.keys(t).length,n="function"==typeof t.set&&1===t.set.length,o="function"==typeof t.get&&0===t.get.length;e="boolean"==typeof t.configurable||"boolean"==typeof t.enumerable||1===i&&(n||o)||2===i&&n&&o}return e}function r(){}function s(){function t(n){var o=Object.getPrototypeOf(n);o.constructor!==Object&&(t(o),o.hasOwnProperty("initialize")&&o.initialize.apply(e,i))}var e=this,i=arguments;t(e)}r.prototype={constructor:r.prototype.constructor,get super(){return Object.getPrototypeOf(Object.getPrototypeOf(this))}},r.extend=n,n.Base=r,e.exports=n},{}],8:[function(t,e,i){"use strict";i["column-CQL-syntax"]=["<li>",'\t<button type="button" class="copy"></button>','\t<div class="filter-tree-remove-button" title="delete conditional"></div>',"\t{1}:",'\t<input name="{2}" class="{4}" value="{3:encode}">',"</li>"].join("\n"),i["column-SQL-syntax"]=["<li>",'\t<button type="button" class="copy"></button>','\t<div class="filter-tree-remove-button" title="delete conditional"></div>',"\t{1}:",'\t<textarea name="{2}" rows="1" class="{4}">{3:encode}</textarea>',"</li>"].join("\n"),i.columnFilter=['<span class="filter-tree">',"\t <strong><span>{2} </span>column filter subexpression:</strong><br>","\t Match",'\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-or">any</label>','\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-and">all</label>','\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-nor">none</label>',"\t of the following:","\t <select>",'\t\t <option value="">New expression&hellip;</option>',"\t </select>","\t <ol></ol>"," </span>"].join("\n"),i.columnFilters=['<span class="filter-tree filter-tree-type-column-filters">',"\t Match <strong>all</strong> of the following column filters:","\t <ol></ol>"," </span>"].join("\n"),i.lockedColumn=["<span>","\t {1:encode}",'\t <input type="hidden" value="{2}">'," </span>"].join("\n"),i.note=['<div class="footnotes">','\t<div class="footnote"></div>',"\t<p>Select a new value or delete the expression altogether.</p>","</div>"].join("\n"),i.notes=['<div class="footnotes">',"\t<p>Note the following error conditions:</p>",'\t<ul class="footnote"></ul>',"\t<p>Select new values or delete the expression altogether.</p>","</div>"].join("\n"),i.optionMissing=['The requested value of <span class="field-name">{1:encode}</span>','(<span class="field-value">{2:encode}</span>) is not valid.'].join("\n"),i.removeButton=['<div class="filter-tree-remove-button" title="delete conditional"></div>'].join("\n"),i.subtree=['<span class="filter-tree">',"\t Match",'\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-or">any</label>','\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-and">all</label>','\t <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-nor">none</label>',"\t of the following:","\t <select>",'\t\t <option value="">New expression&hellip;</option>','\t\t <option value="subexp" style="border-bottom:1px solid black">Subexpression</option>',"\t </select>","\t <ol></ol>"," </span>"].join("\n")},{}],9:[function(t,e,i){"use strict";var n=t("object-iterators"),o=t("pop-menu"),r=t("./js/FilterTree");r.Node=t("./js/FilterNode"),r.Leaf=t("./js/FilterLeaf"),r.Conditionals=t("./js/Conditionals"),r._=n,r.popMenu=o,e.exports=r},{"./js/Conditionals":10,"./js/FilterLeaf":11,"./js/FilterNode":12,"./js/FilterTree":13,"object-iterators":51,"pop-menu":52}],10:[function(t,e,i){"use strict";function n(t,e){return e.trim().replace(/\s*,\s*/g,",").split(",").indexOf(t+"")}function o(t,e){return l(t).indexOf(l(e))}function r(t,e){return l(t).substr(0,e)}function s(t,e){return l(t).substr(-e,e)}function a(t){return t.replace(/'/g,"''")}var l,u=t("extend-me").Base,c=t("object-iterators"),h=t("regexp-like"),d="IN",g="NOT "+d,f="LIKE",p="NOT "+f,m="%",v="",C={beg:'"',end:'"'},b=u.extend({initialize:function(t){var e=t&&t.sqlIdQts;e&&(this.sqlIdQts=e)},sqlIdQts:C,makeSqlIdentifier:function(t){return this.sqlIdQts.beg+t+this.sqlIdQts.end},makeSqlString:function(t){return"'"+a(t)+"'"},makeLIKE:function(t,e,i,n,o){var r=o.operand.replace(/([_\[\]%])/g,"[$1]");return this.makeSqlIdentifier(o.column)+" "+i+" "+this.makeSqlString(t+r+e)},makeIN:function(t,e){return this.makeSqlIdentifier(e.column)+" "+t+" ('"+a(e.operand).replace(/\s*,\s*/g,"', '")+"')"},make:function(t,e){return this.makeSqlIdentifier(e.column)+" "+t+" "+e.makeSqlOperand()}}),y=b.prototype.ops={undefined:{test:function(){return!0},make:function(){return""}},"<":{test:function(t,e){return t<e},make:function(t){return this.make("<",t)}},"<=":{test:function(t,e){return t<=e},make:function(t){return this.make("<=",t)}},"=":{test:function(t,e){return t===e},make:function(t){return this.make("=",t)}},">=":{test:function(t,e){return t>=e},make:function(t){return this.make(">=",t)}},">":{test:function(t,e){return t>e},make:function(t){return this.make(">",t)}},"<>":{test:function(t,e){return t!==e},make:function(t){return this.make("<>",t)}},LIKE:{test:function(t,e){return h.cached(e,!0).test(t)},make:function(t){return this.make(f,t)},type:"string"},"NOT LIKE":{test:function(t,e){return!h.cached(e,!0).test(t)},make:function(t){return this.make(p,t)},type:"string"},IN:{test:function(t,e){return n(t,e)>=0},make:function(t){return this.makeIN(d,t)},operandList:!0,type:"string"},"NOT IN":{test:function(t,e){return n(t,e)<0},make:function(t){return this.makeIN(g,t)},operandList:!0,type:"string"},CONTAINS:{test:function(t,e){return o(t,e)>=0},make:function(t){return this.makeLIKE(m,m,f,"CONTAINS",t)},type:"string"},"NOT CONTAINS":{test:function(t,e){return o(t,e)<0},make:function(t){return this.makeLIKE(m,m,p,"NOT CONTAINS",t)},type:"string"},BEGINS:{test:function(t,e){return e=l(e),r(t,e.length)===e},make:function(t){return this.makeLIKE(v,m,f,"BEGINS",t)},type:"string"},"NOT BEGINS":{test:function(t,e){return e=l(e),r(t,e.length)!==e},make:function(t){return this.makeLIKE(v,m,p,"NOT BEGINS",t)},type:"string"},ENDS:{test:function(t,e){return e=l(e),s(t,e.length)===e},make:function(t){return this.makeLIKE(m,v,f,"ENDS",t)},type:"string"},"NOT ENDS":{test:function(t,e){return e=l(e),s(t,e.length)!==e},make:function(t){return this.makeLIKE(m,v,p,"NOT ENDS",t)},type:"string"}};y["≤"]=y["<="],y["≥"]=y[">="],y["≠"]=y["<>"];var w={equality:{label:"Equality",submenu:["="]},inequalities:{label:"Inequalities",submenu:["<","≤","≠","≥",">"]},sets:{label:"Set scans",submenu:["IN","NOT IN"]},strings:{label:"String scans",submenu:["CONTAINS","NOT CONTAINS","BEGINS","NOT BEGINS","ENDS","NOT ENDS"]},patterns:{label:"Pattern scans",submenu:["LIKE","NOT LIKE"]}};c(w).each(function(t,e){t.name=e}),b.groups=w,b.defaultOpMenu=[w.equality,w.inequalities,w.sets,w.strings,w.patterns],b.setToString=function(t){return l=t},e.exports=b},{"extend-me":7,"object-iterators":51,"regexp-like":54}],11:[function(t,e,i){
"use strict";function n(t){var e=t.target;if(e.classList.remove("filter-tree-error"),h.setWarningClass(e),e===this.view.column&&s.call(this,e.value),e.value){if(!e.multiple)for(;(e=e.nextElementSibling)&&(!("name"in e)||""!==e.value.trim()););e&&""===e.value.trim()&&(e.value="",h.clickIn(e))}this.eventHandler&&this.eventHandler(t)}function o(t,e,i){var n=this.schema.lookup(t)||{};return n[e]||"function"==typeof i&&i.call(this,n,e)||"function"!=typeof i&&i||this[e]}function r(t){return o.call(this,t,"opMenu",function(t){return this.typeOpMap&&this.typeOpMap[t.type||this.type]})}function s(t){var e=r.call(this,t);if(e!==this.renderedOpMenu){var i=this.makeElement(e,"operator");i.value=this.view.operator.value,this.el.replaceChild(i,this.view.operator),this.view.operator=i,h.setWarningClass(i),this.renderedOpMenu=e}}function a(t){setTimeout(function(){t.classList.add("filter-tree-error"),h.clickIn(t)},0)}function l(t){var e,i;switch(t.type){case"checkbox":case"radio":for(t=document.querySelectorAll("input[name='"+t.name+"']:enabled:checked"),e=[],i=0;i<t.length;i++)e.push(t[i].value);break;case"select-multiple":for(t=t.options,e=[],i=0;i<t.length;i++)!t.disabled&&t.selected&&e.push(t[i].value);break;default:e=t.value}return e}var u,c=t("pop-menu"),h=t("./FilterNode"),d=t("./Conditionals"),g={toType:Number,failed:isNaN},f={toType:function(t){return new Date(t)},failed:isNaN},p=h.extend("FilterLeaf",{name:"column = value",destroy:function(){if(this.view)for(var t in this.view)this.view[t].removeEventListener("change",this.onChange)},createView:function(t){var e=this.el=document.createElement("span");if(e.className="filter-tree-editor filter-tree-default",t&&t.column);else var i=this.schema&&1===this.schema.length&&this.schema[0],n=i&&i.name||i;this.view={column:this.makeElement(this.schema,"column",this.sortColumnMenu),operator:this.makeElement(r.call(this,n),"operator"),operand:this.makeElement()},e.appendChild(document.createElement("br"))},loadState:function(t){function e(t){var e=t.name||t;u[e]===d&&(n.value=e)}var i,n,o,a,l,u,d,g,f;if(t){f=[];for(var p in t)if(!h.optionsSchema[p])switch(i=this[p]=t[p],n=this.view[p],n.type){case"checkbox":case"radio":for(n=document.querySelectorAll("input[name='"+n.name+"']"),o=0;o<n.length;o++)n[o].checked=i.indexOf(n[o].value)>=0;break;case"select-multiple":for(n=n.options,o=0,a=!1;o<n.length;o++,a=a||l)l=i.indexOf(n[o].value)>=0,n[o].selected=l;h.setWarningClass(n,a);break;default:n.value=i,""===n.value&&"operator"===p&&(u=this.root.conditionals.ops,d=u[i],g=r.call(this,t.column||this.column),c.walk.call(g,e)),h.setWarningClass(n)?"column"===p&&s.call(this,i):f.push({key:p,value:i})}if(f.length){var m=f.length>1,v=this.templates,C=v.get(m?"notes":"note"),b=C.querySelector(".footnote");f.forEach(function(t){var e=m?document.createElement("li"):b;for(t=v.get("optionMissing",t.key,t.value);t.length;)e.appendChild(t[0]);m&&b.appendChild(e)})}this.notesEl=C}},converters:{number:g,"int":g,"float":g,date:f},invalid:function(t){var e,i,n;for(e in this.view){var r=this.view[e],s=l(r).trim();if(""===s&&"operator"===e&&this.root.conditionals.ops[this.operator]&&!o.call(this,this.column,"opMustBeInMenu")&&(s=this.operator),""===s){if(!n&&t&&t.focus&&(a(r),n=!0),t&&t["throw"])throw new this.Error("Missing or invalid "+e+" in conditional expression. Complete the expression or remove it.",this)}else this[e]=s}this.op=this.root.conditionals.ops[this.operator],i=this.getType(),this.converter=i&&"string"!==i&&this.converters[i],this.calculator=this.getCalculator()},getType:function(){return this.op.type||o.call(this,this.column,"type")},getCalculator:function(){return o.call(this,this.column,"calculator")},valOrFunc:function(t,e){var i,n;return t&&(i=t[e],n="f"===(typeof i)[0]&&i||this.calculator,n&&(i=n(t,e))),i||0===i||i===!1?i:""},p:function(t){return this.valOrFunc(t,this.column)},q:function(){return this.operand},test:function(t){var e,i,n,o,r;return void 0!==(e=this.p(t))&&void 0!==(i=this.q(t))&&(!(r=this.converter)||r.failed(n=r.toType(e))||r.failed(o=r.toType(i))?this.op.test(u(e),u(i)):this.op.test(n,o))},toJSON:function(){var t={};this.editor&&(t.editor=this.editor);for(var e in this.view)t[e]=this[e];return this.schema!==this.parent.schema&&(t.schema=this.schema),t},getState:function(t){var e="",i=t&&t.syntax||"object";switch(i){case"object":e=this.toJSON();break;case"JSON":e=JSON.stringify(this,null,t&&t.space)||"";break;case"SQL":e=this.getSyntax(this.root.conditionals)}return e},makeSqlOperand:function(){return this.root.conditionals.makeSqlString(this.operand)},getSyntax:function(t){return this.root.conditionals.ops[this.operator].make.call(t,this)},makeElement:function(t,e,i){for(var o,r,s,a=t,l=t?"SELECT":"INPUT";a instanceof Array;)a=1!==a.length||c.isGroupProxy(a[0])?void 0:a[0];return a?(o=this.templates.get("lockedColumn",a.alias||a.name||a,a.name||a.alias||a),r=o.querySelector("input")):(s={prompt:e,sort:i,group:function(t){return d.groups[t]}},o=c.build(l,t,s),"text"===o.type&&this.eventHandler&&this.el.addEventListener("keyup",this.eventHandler),this.onChange=this.onChange||n.bind(this),this.el.addEventListener("change",this.onChange),h.setWarningClass(o),r=o),this.el.appendChild(o),r}});p.setToString=function(t){return u=t,d.setToString(t)},e.exports=p},{"./Conditionals":10,"./FilterNode":12,"pop-menu":52}],12:[function(t,e,i){"use strict";function n(t,e){this.message=t,this.node=e}var o=t("object-iterators"),r=t("extend-me"),s=r.Base;r.debug=!0;var a=t("pop-menu"),l=t("./stylesheet"),u=t("./Templates"),c=t("./Conditionals"),h=t("./parser-SQL"),d="OL",g="LI",f=/^\s*((\[[^]*\])|(\{[^]*\}))\s*$/;n.prototype=Object.create(Error.prototype),n.prototype.name="FilterTreeError";var p=s.extend("FilterNode",{initialize:function(t){t=t||{};var e=this.parent=this.parent||t.parent,i=e&&e.root;if(!i){i=this,this.stylesheet=this.stylesheet||l(t.cssStylesheetReferenceElement),this.conditionals=new c(t),this.ParserSQL=new h(t);var n=["name"];t.resolveAliases&&n.push("alias"),this.findOptions={caseSensitive:t.caseSensitiveColumnNames,keys:n}}this.root=i,this.dontPersist={},this.setState(t.state,t)},render:function(){if(this.parent){var t=document.createElement(g);if(this.notesEl&&t.appendChild(this.notesEl),!this.keep){var e=this.templates.get("removeButton");e.addEventListener("click",this.remove.bind(this)),t.appendChild(e)}t.appendChild(this.el),this.parent.el.querySelector(d).appendChild(t)}},setState:function(t,e){var i=this.el;if(t=this.parseStateString(t,e),this.mixInStandardOptions(t,e),this.mixInNonstandardOptions(e),this.createView(t),this.loadState(t),this.render(),i){var n=this.el;this.parent&&"LI"===i.parentElement.tagName&&(i=i.parentNode,n=n.parentNode),i.parentNode.replaceChild(n,i)}},parseStateString:function(t,e){if(t){if("string"==typeof t){var i=e&&e.context,o=e&&e.syntax||"auto";switch(i&&(t=i.querySelector(t).value),"auto"===o&&(o=f.test(t)?"JSON":"SQL"),o){case"JSON":try{t=JSON.parse(t)}catch(r){throw new n("JSON parser: "+r)}break;case"SQL":try{t=this.root.ParserSQL.parse(t)}catch(r){throw new n("SQL WHERE clause parser: "+r)}}}if("object"!=typeof t)throw new n("Unexpected input state.")}return t},mixInStandardOptions:function(t,e){var i=this;o(p.optionsSchema).each(function(n,o){if(!n.ignore&&(this!==this.root||n.rootBound)){var r;i.dontPersist[o]=void 0!==(r=e&&e[o])||void 0===(r=t&&t[o])&&!(n.own||i.hasOwnProperty(o)&&null!==r)&&!(r=i.parent&&i.parent[o])&&(r=n["default"]),null===r?(delete i[o],i.dontPersist[o]=!1):r&&("schema"!==o||r.walk||(r.walk=a.walk.bind(r),r.lookup=a.lookup.bind(r,i.root.findOptions)),i[o]=r)}})},mixInNonstandardOptions:function(t){var e=this;o(t).each(function(t,i){p.optionsSchema[i]||(e[i]=t)})},remove:function(){var t,e=this.parent;e&&(this.eventHandler&&this.eventHandler.call(e,{type:"delete",preventDefault:function(){t=!0}}),t||(e.keep||e.children.length>1?(this.el.parentNode.remove(),e.children.splice(e.children.indexOf(this),1)):e.remove()))},Error:n,templates:new u});p.optionsSchema={state:{ignore:!0},cssStylesheetReferenceElement:{ignore:!0},ownSchema:{own:!0},schema:{},editor:{},eventHandler:{},type:{own:!0},keep:{own:!0},opMenu:{"default":c.defaultOpMenu},opMustBeInMenu:{},typeOpMap:{rootBound:!0},sortColumnMenu:{}},p.setWarningClass=function(t,e){return arguments.length<2&&(e=t.value),t.classList[e?"remove":"add"]("filter-tree-warning"),e},p.clickIn=function(t){t&&("SELECT"===t.tagName?setTimeout(function(){t.dispatchEvent(new MouseEvent("mousedown"))},0):t.focus())},e.exports=p},{"./Conditionals":10,"./Templates":14,"./parser-SQL":16,"./stylesheet":17,"extend-me":7,"object-iterators":51,"pop-menu":52}],13:[function(t,e,i){"use strict";function n(t){return(t+"").toUpperCase()}function o(t){return t+""}function r(t){var e=t.target;e.parentElement===this.el&&("subexp"===e.value?this.children.push(new p({parent:this})):this.add({state:{editor:e.value},focus:!0}),e.selectedIndex=0)}function s(t){var e=t.target;if("filter-tree-op-choice"===e.className){this.operator=e.value;var i=this.el.querySelectorAll("label>input.filter-tree-op-choice[name="+e.name+"]");Array.prototype.forEach.call(i,function(t){t.parentElement.style.textDecoration=t.checked?"none":"line-through"});for(var n in g)this.el.classList.remove(n);this.el.classList.add(this.operator)}}function a(t){this.children.forEach(function(e){e instanceof d?e.invalid(t):e.children.length&&a.call(e,t)})}var l=t("pop-menu"),u=t("unstrungify"),c=t("object-iterators"),h=t("./FilterNode"),d=t("./FilterLeaf"),g=t("./tree-operators"),f=0,p=h.extend("FilterTree",{editors:{Default:d},addEditor:function(t,e,i){return"object"==typeof t&&(i=e,e=t,t="Default"),i=i||this.editors.Default,e=e||p.extensions[t],this.editors[t]=i.extend(t,e)},removeEditor:function(t){if("Default"===t)throw"Cannot remove default editor.";delete this.editors[t]},createView:function(){this.el=this.templates.get(this.type||"subtree",++f,this.schema[0]&&l.formatItem(this.schema[0]));var t=this.el.querySelector(":scope>select");if(t){var e,i,n=this.editors;1===t.length&&1===this.editors.length?e=t:(e=i=document.createElement("optgroup"),i.label="Conditional Expressions"),Object.keys(n).forEach(function(t){var i=n[t].prototype.name||t;e.appendChild(new Option(i,t))}),i&&t.add(i),this.el.addEventListener("change",r.bind(this))}this.el.addEventListener("click",s.bind(this))},loadState:function(t){if(this.operator="op-and",this.children=[],t){if(!(t.children instanceof Array))throw new this.Error("Expected `children` property to be an array.");if(t.operator){if(!g[t.operator])throw new this.Error("Expected `operator` property to be one of: "+Object.keys(g));this.operator=t.operator}t.children.forEach(this.add.bind(this))}else this.add()},render:function(){var t=this.el.querySelector(":scope > label > input[value="+this.operator+"]"),e=this.el.querySelector(".filter-tree-add-conditional");t&&(t.checked=!0,s.call(this,{target:t})),e&&!this.children.length&&Object.keys(this.editors).length>1&&this["filter-tree-add-conditional"]({target:e}),h.prototype.render.call(this)},add:function(t){var e,i;return t=t||{},t.state||(t={state:t}),e=t.state.children?this.constructor:this.editors[t.state.editor||"Default"],t.parent=this,i=new e(t),this.children.push(i),t.focus&&setTimeout(function(){i.invalid(t)},750),i},invalid:function(t){t=t||{};var e,i;i=t["throw"],t["throw"]=!0;try{a.call(this,t)}catch(n){if(e=n,!(n instanceof this.Error))throw n}if(t["throw"]=i,e&&(t.alert&&window.alert(e.message||e),t["throw"]))throw e;return e},test:function m(t){var e=g[this.operator],i=e.seed,n=!0;return this.children.find(function(o){return!!o&&(n=!1,o instanceof d?i=e.reduce(i,o.test(t)):o.children.length&&(i=e.reduce(i,m.call(o,t))),i===e.abort)}),n||(e.negate?!i:i)},filterCount:function v(){var t=0;return this.children.forEach(function(e){t+=e instanceof d?1:v.call(e)}),t},getState:function C(t){var e="",i=t&&t.syntax||"object";switch(i){case"object":e=u.call(this);break;case"JSON":e=JSON.stringify(this,null,t&&t.space)||"";break;case"SQL":var n=g[this.operator].SQL;this.children.forEach(function(i,o){var r=o?" "+n.op+" ":"";i instanceof d?e+=r+i.getState(t):i.children.length&&(e+=r+C.call(i,t))}),e&&(e=n.beg+e+n.end);break;default:throw new this.Error('Unknown syntax option "'+i+'"')}return e},toJSON:function b(){var t=this,e={operator:this.operator,children:[]};return this.children.forEach(function(t){e.children.push(t instanceof d?t:b.call(t))}),c(h.optionsSchema).each(function(i,n){!t[n]||t.dontPersist[n]||!i.own&&t.parent&&t[n]===t.parent[n]||(e[n]=t[n])}),e},setCaseSensitivity:function(t){var e=t?o:n;d.setToString(e)}});p.extensions={Columns:t("./extensions/columns")},p.prototype.setCaseSensitivity(!0),e.exports=p},{"./FilterLeaf":11,"./FilterNode":12,"./extensions/columns":15,"./tree-operators":18,"object-iterators":51,"pop-menu":52,unstrungify:58}],14:[function(t,e,i){"use strict";function n(){}var o=t("templex"),r=t("../html"),s=/\{(\d+)\:encode\}/g,a=n.prototype.constructor;n.prototype=r,n.prototype.constructor=a,n.prototype.get=function(t){var e,i={},n=document.createElement("div"),r=this[t],a=Array.prototype.slice.call(arguments,1);for(s.lastIndex=0;e=s.exec(r);)i[e[1]]=!0;return e=Object.keys(i),e.length&&(e.forEach(function(t){n.textContent=a[t],a[t]=n.innerHTML}),r=r.replace(s,"{$1}")),n.innerHTML=o.apply(this,[r].concat(a)),1===n.children.length&&1===n.childNodes.length?n.firstChild:n.childNodes},e.exports=n},{"../html":8,templex:57}],15:[function(t,e,i){"use strict";var n=t("../Conditionals"),o=t("../FilterLeaf"),r={name:"column = column",createView:function(){o.prototype.createView.call(this);var t=this.view.operand,e=this.view.operand=this.makeElement(this.root.schema,"column",this.sortColumnMenu);this.el.replaceChild(e,t)},makeSqlOperand:function(){return this.root.conditionals.makeSqlIdentifier(this.operand)},opMenu:[n.groups.equality,n.groups.inequalities,n.groups.sets],q:function(t){return this.valOrFunc(t,this.operand)}};e.exports=r},{"../Conditionals":10,"../FilterLeaf":11}],16:[function(t,e,i){"use strict";function n(t){this.message=t}function o(t){t=t||{},this.schema=t.schema;var e=t.sqlIdQts||m;this.reName=new RegExp("^("+e.beg+"(.+?)"+e.end+"|([A-Z_][A-Z_@\\$#]*)\\b)","i")}function r(t){var e,i,o,a,p,m,v,C=[],b=0;for(t=t.trim();b<t.length;){if(e=t.substr(b).match(f)){var y=!!e[1];b+=e[0].length;for(var w=b,x=1;w<t.length&&x;++w)"("===t[w]?++x:")"===t[w]&&--x;if(x)throw new n('Expected ")"');if(v=r.call(this,t.substr(b,w-1-b)),"object"!=typeof v)return v;if(y){if("op-or"!==v.operator)throw new n("Expected OR in NOT(...) subexpression but found "+v.operator.substr(3).toUpperCase()+".");v.operator="op-nor"}b=w}else{if(e=t.substr(b).match(this.reName),!e)throw new n("Expected identifier or quoted identifier.");if(i=e[2]||e[3],/^[A-Z_]/i.test(t[b])||(b+=2),b+=i.length," "===t[b]&&++b,e=t.substr(b).match(l),!e)throw new n("Expected relational operator.");if(o=e[1].toUpperCase(),b+=o.length,p=void 0," "===t[b]&&++b,e[4]&&"IN"===e[4].toUpperCase()){if(e=t.substr(b).match(d),!e)throw new n("Expected parenthesized list.");for(a=e[1],b+=a.length+2;e=a.match(h);)a=a.replace(h,this.literals[e[1]])}else if(e=t.substr(b).match(c))a=e[1],b+=a.length+2,a=this.literals[a];else if(e=t.substr(b).match(u))a=e[1],b+=a.length;else{if(!(e=t.substr(b).match(this.reName)))throw new n("Expected number or string literal or column.");a=e[2]||e[3],b+=a.length,p="Columns"}this.schema&&(i=s.call(this,i),p&&(a=s.call(this,a))),v={column:i,operator:o,operand:a},p&&(v.editor=p)}if(C.push(v),b<t.length){if(" "===t[b]&&++b,e=t.substr(b).match(g),!e)throw new n("Expected boolean operator.");if(m=e[1].toLowerCase(),b+=m.length,m="op-"+m,C.operator&&C.operator!==m)throw new n("Expected same boolean operator throughout subexpression.");C.operator=m}" "===t[b]&&++b}return 1===C.length?C[0]:{operator:C.operator,children:C}}function s(t){var e=this.schema.lookup(t);if(!e)throw new n(this.resolveAliases?"Expected valid column name.":"Expected valid column name or alias.");return e.name}function a(t){var e,i=0,o=0;for(this.literals=[];(o=t.indexOf(p,o))>=0;){e=o;do if(e=t.indexOf(p,e+1),e<0)throw new n("Expected "+p+" (single quote).");while(t[++e]===p);this.literals.push(t.slice(++o,--e).replace(/''/g,p)),t=t.substr(0,o)+i+t.substr(e),o=o+1+(i+"").length+1,i++}return t}var l=/^((=|>=?|<[>=]?)|(NOT )?(LIKE|IN)\b)/i,u=/^([+-]?(\d+(\.\d*)?|\d*\.\d+)(e[+-]\d+)?)[^\d]?/i,c=/^'(\d+)'/,h=/'(\d+)'/,d=/^\((.*?)\)/,g=/^(AND|OR)\b/i,f=/^(NOT ?)?\(/i,p="'",m={beg:'"',end:'"'};n.prototype=Object.create(Error.prototype),n.prototype.name="ParserSqlError",o.prototype={constructor:o.prototype.constructor,parse:function(t){var e;return t=t.replace(/\s\s+/g," ").trim(),t=a.call(this,t),e=r.call(this,t),e.children||(e={children:[e]}),e}},e.exports=o},{}],17:[function(t,e,i){"use strict";var n,o=t("css-injector");n=".filter-tree{font-family:sans-serif;font-size:10pt;line-height:1.5em}.filter-tree label{font-weight:400}.filter-tree input[type=checkbox],.filter-tree input[type=radio]{margin-left:3px;margin-right:3px}.filter-tree ol{margin-top:0}.filter-tree>select{float:right;border:1px dotted grey;background-color:transparent;box-shadow:none}.filter-tree-remove-button{display:inline-block;width:15px;height:15px;border-radius:8px;background-color:#e88;font-size:11.5px;color:#fff;text-align:center;line-height:normal;font-style:normal;font-family:sans-serif;margin-right:4px;cursor:pointer}.filter-tree-remove-button:hover{background-color:transparent;color:#e88;font-weight:700;box-shadow:red 0 0 2px inset}.filter-tree-remove-button::before{content:'\\d7'}.filter-tree li::after{font-size:70%;font-style:italic;font-weight:700;color:#080}.filter-tree>ol>li:last-child::after{display:none}.op-and>ol,.op-nor>ol,.op-or>ol{padding-left:5px;margin-left:27px}.op-or>ol>li::after{margin-left:2.5em;content:'— OR —'}.op-and>ol>li::after{margin-left:2.5em;content:'— AND —'}.op-nor>ol>li::after{margin-left:2.5em;content:'— NOR —'}.filter-tree-editor>*{font-weight:700}.filter-tree-editor>span{font-size:smaller}.filter-tree-editor>input[type=text]{width:8em;padding:1px 5px 2px}.filter-tree-warning{background-color:#ffc!important;border-color:#edb!important;font-weight:400!important}.filter-tree-error{background-color:#fcc!important;border-color:#c99!important;font-weight:400!important}.filter-tree-default>:enabled{margin:0 .4em;background-color:#ddd;border:1px solid transparent}.filter-tree.filter-tree-type-column-filters>ol>li:not(:last-child){padding-bottom:.75em;border-bottom:3px double #080;margin-bottom:.75em}.filter-tree .footnotes{margin:0 0 6px;font-size:8pt;font-weight:400;line-height:normal;white-space:normal;color:#c00}.filter-tree .footnotes>p{margin:0}.filter-tree .footnotes>ul{margin:-3px 0 0;padding-left:17px;text-index:-6px}.filter-tree .footnotes>ul>li{margin:2px 0}.filter-tree .footnotes .field-name,.filter-tree .footnotes .field-value{font-weight:700;font-style:normal}.filter-tree .footnotes .field-value{font-family:monospace;color:#000;background-color:#ddd;padding:0 5px;margin:0 3px;border-radius:3px}",e.exports=o.bind(this,n,"filter-tree-base")},{"css-injector":6}],18:[function(t,e,i){"use strict";function n(t,e){return t&&e}function o(t,e){return t||e}var r={"op-and":{reduce:n,seed:!0,abort:!1,negate:!1,SQL:{op:"AND",beg:"(",end:")"}},"op-or":{reduce:o,seed:!1,abort:!0,negate:!1,SQL:{op:"OR",beg:"(",end:")"}},"op-nor":{reduce:o,seed:!1,abort:!0,negate:!0,SQL:{op:"OR",beg:"NOT (",end:")"}}};e.exports=r},{}],19:[function(t,e,i){"use strict";function n(t){var e=this._bound={};for(s in u)e[s]=u[s].bind(this);var i=document.createElement("div");i.classList.add("thumb"),i.onclick=e.shortStop,i.onmouseover=e.onmouseover,this.thumb=i;var o=document.createElement("div");o.classList.add("finbar-vertical"),o.appendChild(i),this.paging&&(o.onclick=e.onclick),this.bar=o,t=t||{},this.orientation="vertical",this._min=this._index=0,this._max=100;for(var s in t)if(t.hasOwnProperty(s)){var c=t[s];switch(s){case"index":this._index=c;break;case"range":r(c),this._min=c.min,this._max=c.max,this.contentSize=c.max-c.min+1;break;default:"_"!==s.charAt(0)&&"function"!=typeof n.prototype[s]&&(this[s]=c)}}a(l,"finbar-base",t.cssStylesheetReferenceElement)}function o(t){for(var e=1;e<arguments.length;++e){var i=arguments[e];if(i)for(var n in i)t[n]=i[n]}return t}function r(t){var e=Object.keys(t),i=2===e.length&&"number"==typeof t.min&&"number"==typeof t.max&&t.min<=t.max;i||s("Invalid .range object.")}function s(t){throw"finbars: "+t}var a=t("css-injector");n.prototype={set orientation(t){t!==this._orientation&&(this._orientation=t,this.oh=c[this._orientation],this.oh||s("Invalid value for `options._orientation."),this.deltaProp=this.oh.delta,this.bar.className=this.bar.className.replace(/(vertical|horizontal)/g,t),(this.bar.style.cssText||this.thumb.style.cssText)&&(this.bar.removeAttribute("style"),this.thumb.removeAttribute("style"),this.resize()))},get orientation(){return this._orientation},onchange:null,set classPrefix(t){this._classPrefix&&this.bar.classList.remove(this._classPrefix+this.orientation),this._classPrefix=t,t&&this.bar.classList.add(t+"-"+this.orientation)},get classPrefix(){return this._classPrefix},increment:1,barStyles:null,set style(t){var e=Object.keys(t=o({},t,this._auxStyles));if(e.length){var i=this.bar,n=i.getBoundingClientRect(),r=this.container||i.parentElement,s=r.getBoundingClientRect(),a=this.oh;i.removeAttribute("style"),e.forEach(function(e){var o=t[e];if(e in a&&(e=a[e]),isNaN(Number(o))){if(/%$/.test(o)){var r=h[e],l=n[r.marginLeading]+n[r.marginTrailing];l&&(o=parseInt(o,10)/100*s[r.size]-l+"px")}}else o=(o||0)+"px";i.style[e]=o})}},paging:!0,set range(t){r(t),this._min=t.min,this._max=t.max,this.contentSize=t.max-t.min+1,this.index=this.index},get range(){return{min:this._min,max:this._max}},set index(t){t=Math.min(this._max,Math.max(this._min,t)),this._setScroll(t)},get index(){return this._index},_setScroll:function(t,e){this._index=t,this.testPanelItem&&this.testPanelItem.index instanceof Element&&(this.testPanelItem.index.innerHTML=Math.round(t)),this.onchange&&this.onchange.call(this,Math.round(t)),void 0===e&&(e=(t-this._min)/(this._max-this._min)*this._thumbMax),this.thumb.style[this.oh.leading]=e+"px"},scrollRealContent:function(t){var e=this.content.parentElement.getBoundingClientRect(),i=this.oh.size,n=Math.max(0,this.content[i]-e[i]),o=(t-this._min)/(this._max-this._min)*n;this.content.style[this.oh.leading]=-o+"px"},resize:function(t,e){var i=this.bar;if(i.parentNode){var n=this.container||i.parentElement,o=n.getBoundingClientRect();"object"==typeof t&&(e=t,t=void 0),this.style=this.barStyles=e||this.barStyles,this.content&&(this.onchange||(this.onchange=this.scrollRealContent,this.contentSize=this.content[this.oh.size],this._min=0,this._max=this.contentSize-1)),this.onchange===this.scrollRealContent?(this.containerSize=o[this.oh.size],this.increment=this.containerSize/(this.contentSize-this.containerSize)*(this._max-this._min)):(this.containerSize=1,this.increment=t||this.increment);var r=this.index;return this.testPanelItem=this.testPanelItem||this._addTestPanelItem(),this._setThumbSize(),this.index=r,null!==this.deltaProp&&n.addEventListener("wheel",this._bound.onwheel),this}},shortenBy:function(t){return this.shortenEndBy("trailing",t)},foreshortenBy:function(t){return this.shortenEndBy("leading",t)},shortenEndBy:function(t,e){if(e){if(e instanceof n&&e.orientation!==this.orientation){var i=window.getComputedStyle(e.bar),o=c[e.orientation];this._auxStyles={},this._auxStyles[t]=i[o.thickness]}}else delete this._auxStyles;return this},_setThumbSize:function(){var t=this.oh,e=window.getComputedStyle(this.thumb),i=parseInt(e[t.marginLeading]),n=parseInt(e[t.marginTrailing]),o=i+n,r=this.bar.getBoundingClientRect()[t.size],s=Math.max(20,r*this.containerSize/this.contentSize);this.containerSize<this.contentSize?(this.bar.style.visibility="visible",this.thumb.style[t.size]=s+"px"):this.bar.style.visibility="hidden",this._thumbMax=r-s-o,this._thumbMarginLeading=i},remove:function(){this._removeEvt("mousedown"),this._removeEvt("mousemove"),this._removeEvt("mouseup"),(this.container||this.bar.parentElement)._removeEvt("wheel",this._bound.onwheel),this.bar.onclick=this.thumb.onclick=this.thumb.onmouseover=this.thumb.transitionend=this.thumb.onmouseout=null,this.bar.remove()},_addTestPanelItem:function(){var t,e=document.querySelector("."+this._classPrefix+".test-panel")||document.querySelector(".test-panel");if(e){var i=["mousedown","mousemove","mouseup","index"],n=document.createElement("li");i.forEach(function(t){n.innerHTML+='<span class="'+t+'">'+t.replace("mouse","")+"</span>"}),e.appendChild(n),t={},i.forEach(function(e){t[e]=n.getElementsByClassName(e)[0]})}return t},_addEvt:function(t){var e=this.testPanelItem&&this.testPanelItem[t];e&&e.classList.add("listening"),window.addEventListener(t,this._bound["on"+t])},_removeEvt:function(t){var e=this.testPanelItem&&this.testPanelItem[t];e&&e.classList.remove("listening"),window.removeEventListener(t,this._bound["on"+t])}};var l,u={shortStop:function(t){t.stopPropagation()},onwheel:function(t){this.index+=t[this.deltaProp],t.stopPropagation(),t.preventDefault()},onclick:function(t){var e=this.thumb.getBoundingClientRect(),i=t[this.oh.coordinate]<e[this.oh.leading];"object"==typeof this.paging?this.index=this.paging[i?"up":"down"](Math.round(this.index)):this.index+=i?-this.increment:this.increment,this.thumb.classList.add("hover");var n=this;this.thumb.addEventListener("transitionend",function o(){this.removeEventListener("transitionend",o),n._bound.onmouseup(t)}),t.stopPropagation()},onmouseover:function(){this.thumb.classList.add("hover"),this.thumb.onmouseout=this._bound.onmouseout,this._addEvt("mousedown")},onmouseout:function(){this._removeEvt("mousedown"),this.thumb.onmouseover=this._bound.onmouseover,this.thumb.classList.remove("hover")},onmousedown:function(t){this._removeEvt("mousedown"),this.thumb.onmouseover=this.thumb.onmouseout=null;var e=this.thumb.getBoundingClientRect();this.pinOffset=t[this.oh.axis]-e[this.oh.leading]+this.bar.getBoundingClientRect()[this.oh.leading]+this._thumbMarginLeading,document.documentElement.style.cursor="default",this._addEvt("mousemove"),this._addEvt("mouseup"),t.stopPropagation(),t.preventDefault()},onmousemove:function(t){var e=Math.min(this._thumbMax,Math.max(0,t[this.oh.axis]-this.pinOffset)),i=e/this._thumbMax*(this._max-this._min)+this._min;this._setScroll(i,e),t.stopPropagation(),t.preventDefault()},onmouseup:function(t){this._removeEvt("mousemove"),this._removeEvt("mouseup"),document.documentElement.style.cursor="auto";var e=this.thumb.getBoundingClientRect();e.left<=t.clientX&&t.clientX<=e.right&&e.top<=t.clientY&&t.clientY<=e.bottom?this._bound.onmouseover(t):this._bound.onmouseout(t),t.stopPropagation(),t.preventDefault()}},c={vertical:{coordinate:"clientY",axis:"pageY",size:"height",outside:"right",inside:"left",leading:"top",trailing:"bottom",marginLeading:"marginTop",marginTrailing:"marginBottom",thickness:"width",delta:"deltaY"},horizontal:{coordinate:"clientX",axis:"pageX",size:"width",outside:"bottom",inside:"top",leading:"left",trailing:"right",marginLeading:"marginLeft",marginTrailing:"marginRight",thickness:"height",delta:"deltaX"}},h={top:"vertical",bottom:"vertical",height:"vertical",left:"horizontal",right:"horizontal",width:"horizontal"};l="div.finbar-horizontal,div.finbar-vertical{position:absolute;margin:3px}div.finbar-horizontal>.thumb,div.finbar-vertical>.thumb{position:absolute;background-color:#d3d3d3;-webkit-box-shadow:0 0 1px #000;-moz-box-shadow:0 0 1px #000;box-shadow:0 0 1px #000;border-radius:4px;margin:2px;opacity:.4;transition:opacity .5s}div.finbar-horizontal>.thumb.hover,div.finbar-vertical>.thumb.hover{opacity:1;transition:opacity .5s}div.finbar-vertical{top:0;bottom:0;right:0;width:11px}div.finbar-vertical>.thumb{top:0;right:0;width:7px}div.finbar-horizontal{left:0;right:0;bottom:0;height:11px}div.finbar-horizontal>.thumb{left:0;bottom:0;height:7px}",e.exports=n},{"css-injector":6}],20:[function(t,e,i){"use strict";function n(t,e,i){var n=this;this.div=t,this.component=e,i=i||{},this.doubleClickDelay=i.doubleClickDelay||325,this.dragEndtime=Date.now(),this.canvas=document.createElement("canvas"),this.div.appendChild(this.canvas),this.canvas.style.outline="none",this.canvasCTX=this.canvas.getContext("2d"),this.gc=new l(this.canvasCTX),this.buffer=document.createElement("canvas"),this.bufferCTX=this.buffer.getContext("2d"),this.bufferGC=new l(this.bufferCTX),this.mouseLocation=new a.Point((-1),(-1)),this.dragstart=new a.Point((-1),(-1)),this.bounds=new a.Rectangle(0,0,0,0),this.hasMouse=!1,document.addEventListener("mousemove",function(t){(n.hasMouse||n.isDragging())&&n.finmousemove(t)}),document.addEventListener("mouseup",function(t){n.finmouseup(t)}),document.addEventListener("wheel",function(t){n.finwheelmoved(t)}),document.addEventListener("keydown",function(t){n.finkeydown(t)}),document.addEventListener("keyup",function(t){n.finkeyup(t)}),this.canvas.onmouseover=function(){n.hasMouse=!0},this.canvas.addEventListener("focus",function(t){n.finfocusgained(t)}),this.canvas.addEventListener("blur",function(t){n.finfocuslost(t)}),this.canvas.addEventListener("mousedown",function(t){n.finmousedown(t)}),this.canvas.addEventListener("mouseout",function(t){n.hasMouse=!1,n.finmouseout(t)}),this.canvas.addEventListener("click",function(t){n.finclick(t)}),this.canvas.addEventListener("contextmenu",function(t){return n.fincontextmenu(t),t.preventDefault(),!1}),this.canvas.setAttribute("tabindex",0),this.canvas.contentEditable=!0,this.resize(),this.beginResizing(),this.beginPainting()}function o(t){if(d){for(var e=0;e<c.length;e++)try{c[e].tickPainter(t)}catch(i){console.error(i)}requestAnimationFrame(o)}}function r(t){if(g)for(var e=0;e<h.length;e++)try{h[e].tickResizer(t)}catch(i){console.error(i)}}function s(){for(var t=[],e=["",""],i=0;i<256;i++)t[i]=e;return t[27]=["ESC","ESCSHIFT"],t[192]=["`","~"],t[49]=["1","!"],t[50]=["2","@"],t[51]=["3","#"],t[52]=["4","$"],t[53]=["5","%"],t[54]=["6","^"],t[55]=["7","&"],t[56]=["8","*"],t[57]=["9","("],t[48]=["0",")"],t[189]=["-","_"],t[187]=["=","+"],t[8]=["BACKSPACE","BACKSPACESHIFT"],t[46]=["DELETE","DELETESHIFT"],t[9]=["TAB","TABSHIFT"],t[81]=["q","Q"],t[87]=["w","W"],t[69]=["e","E"],t[82]=["r","R"],t[84]=["t","T"],t[89]=["y","Y"],t[85]=["u","U"],t[73]=["i","I"],t[79]=["o","O"],t[80]=["p","P"],t[219]=["[","{"],t[221]=["]","}"],t[220]=["\\","|"],t[220]=["CAPSLOCK","CAPSLOCKSHIFT"],t[65]=["a","A"],t[83]=["s","S"],t[68]=["d","D"],t[70]=["f","F"],t[71]=["g","G"],t[72]=["h","H"],t[74]=["j","J"],t[75]=["k","K"],t[76]=["l","L"],t[186]=[";",":"],t[222]=["'","|"],t[13]=["RETURN","RETURNSHIFT"],t[16]=["SHIFT","SHIFT"],t[90]=["z","Z"],t[88]=["x","X"],t[67]=["c","C"],t[86]=["v","V"],t[66]=["b","B"],t[78]=["n","N"],t[77]=["m","M"],t[188]=[",","<"],t[190]=[".",">"],t[191]=["/","?"],t[16]=["SHIFT","SHIFT"],t[17]=["CTRL","CTRLSHIFT"],t[18]=["ALT","ALTSHIFT"],t[91]=["COMMANDLEFT","COMMANDLEFTSHIFT"],t[32]=["SPACE","SPACESHIFT"],t[93]=["COMMANDRIGHT","COMMANDRIGHTSHIFT"],t[18]=["ALT","ALTSHIFT"],t[38]=["UP","UPSHIFT"],t[37]=["LEFT","LEFTSHIFT"],t[40]=["DOWN","DOWNSHIFT"],t[39]=["RIGHT","RIGHTSHIFT"],t[33]=["PAGEUP","PAGEUPSHIFT"],t[34]=["PAGEDOWN","PAGEDOWNSHIFT"],t[35]=["PAGERIGHT","PAGERIGHTSHIFT"],t[36]=["PAGELEFT","PAGELEFTSHIFT"],t[112]=["F1","F1SHIFT"],t[113]=["F2","F2SHIFT"],t[114]=["F3","F3SHIFT"],t[115]=["F4","F4SHIFT"],t[116]=["F5","F5SHIFT"],t[117]=["F6","F6SHIFT"],t[118]=["F7","F7SHIFT"],t[119]=["F8","F8SHIFT"],t[120]=["F9","F9SHIFT"],t[121]=["F10","F10SHIFT"],t[122]=["F11","F1S1HIFT"],t[123]=["F12","F121HIFT"],t}var a=t("rectangular"),l=t("./js/GraphicsContext.js"),u=200,c=[],h=[],d=!0,g=!0,f=s();n.prototype={constructor:n.prototype.constructor,div:null,component:null,canvas:null,canvasCTX:null,focuser:null,buffer:null,ctx:null,mouseLocation:null,dragstart:null,origin:null,
bounds:null,dirty:!1,size:null,mousedown:!1,dragging:!1,repeatKeyCount:0,repeatKey:null,repeatKeyStartTime:0,currentKeys:[],hasMouse:!1,lastDoubleClickTime:0,dragEndTime:0,lastRepaintTime:0,currentPaintCount:0,currentFPS:0,lastFPSComputeTime:0,addEventListener:function(t,e){this.canvas.addEventListener(t,e)},stopPaintLoop:function(){d=!1},restartPaintLoop:function(){d||(d=!0,requestAnimationFrame(o))},stopResizeLoop:function(){g=!1},restartResizeLoop:function(){g||(g=!0,setInterval(r,200))},detached:function(){this.stopPainting(),this.stopResizing()},useHiDPI:function(){return this.component.resolveProperty("useHiDPI")},useBitBlit:function(){return this.component.resolveProperty("useBitBlit")},getFPS:function(){var t=this.component.resolveProperty("repaintIntervalRate");return t?parseInt(t):0},getEnableContinuousRepaint:function(){return this.component.resolveProperty("enableContinuousRepaint")},getCurrentFPS:function(){return this.currentFPS},tickPaint:function(t){var e=this.getFPS(),i=this.getEnableContinuousRepaint();if(0!==e){var n=1e3/e,o=t-this.lastRepaintTime;o>n&&(i||this.dirty)&&(this.paintNow(),this.lastRepaintTime=t,i&&(this.currentPaintCount++,t-this.lastFPSComputeTime>=1e3&&(this.currentFPS=1e3*this.currentPaintCount/(t-this.lastFPSComputeTime),this.currentPaintCount=0,this.lastFPSComputeTime=t)))}},beginPainting:function(){var t=this;this.dirty=!0,this.tickPainter=function(e){t.tickPaint(e)},c.push(this)},stopPainting:function(){c.splice(c.indexOf(this),1)},beginResizing:function(){var t=this;this.tickResizer=function(){t.checksize()},h.push(this)},stopResizing:function(){h.splice(h.indexOf(this),1)},start:function(){this.beginPainting(),this.beginResizing()},stop:function(){this.stopPainting(),this.stopResizing()},checksize:function(){var t=this.div.getBoundingClientRect();t.width===this.size.width&&t.height===this.size.height||this.sizeChangedNotification()},sizeChangedNotification:function(){this.resize()},resize:function(){var t=this.size=this.div.getBoundingClientRect();this.width=t.width,this.height=t.height;var e=1,i=this.useBitBlit(),n=window.devicePixelRatio&&this.useHiDPI();if(n){var o=window.devicePixelRatio||1,r=this.canvasCTX.webkitBackingStorePixelRatio||this.canvasCTX.mozBackingStorePixelRatio||this.canvasCTX.msBackingStorePixelRatio||this.canvasCTX.oBackingStorePixelRatio||this.canvasCTX.backingStorePixelRatio||1;e=o/r}this.buffer.width=this.canvas.width=this.width*e,this.buffer.height=this.canvas.height=this.height*e,this.canvas.style.width=this.buffer.style.width=this.width+"px",this.canvas.style.height=this.buffer.style.height=this.height+"px",this.bufferCTX.scale(e,e),n&&!i&&this.canvasCTX.scale(e,e),this.bounds=new a.Rectangle(0,0,this.width,this.height);var s=this.component;s&&s.setBounds(this.bounds),this.resizeNotification(),this.paintNow()},resizeNotification:function(){},getBounds:function(){return this.bounds},paintNow:function(){var t=this;this.safePaintImmediately(function(e){e.clearRect(0,0,t.width,t.height);var i=t.component;i&&i.paint(e),t.dirty=!1})},safePaintImmediately:function(t){var e=this.useBitBlit(),i=e?this.bufferGC:this.gc;try{i.save(),t(i)}catch(n){console.error(n)}finally{i.restore()}e&&this.flushBuffer()},flushBuffer:function(){this.buffer.width>0&&this.buffer.height>0&&this.canvasCTX.drawImage(this.buffer,0,0)},dispatchNewEvent:function(t,e,i){return i={detail:i||{}},i.detail.primitiveEvent=t,this.canvas.dispatchEvent(new CustomEvent(e,i))},dispatchNewMouseKeysEvent:function(t,e,i){return i=i||{},i.mouse=this.mouseLocation,i.keys=this.currentKeys,this.dispatchNewEvent(t,e,i)},finmousemove:function(t){!this.isDragging()&&this.mousedown&&(this.beDragging(),this.dispatchNewMouseKeysEvent(t,"fin-canvas-dragstart",{isRightClick:this.isRightClick(t)}),this.dragstart=new a.Point(this.mouseLocation.x,this.mouseLocation.y)),this.mouseLocation=this.getLocal(t),this.isDragging()&&this.dispatchNewMouseKeysEvent(t,"fin-canvas-drag",{dragstart:this.dragstart,isRightClick:this.isRightClick(t)}),this.bounds.contains(this.mouseLocation)&&this.dispatchNewMouseKeysEvent(t,"fin-canvas-mousemove")},finmousedown:function(t){this.mouseLocation=this.mouseDownLocation=this.getLocal(t),this.mousedown=!0,this.dispatchNewMouseKeysEvent(t,"fin-canvas-mousedown",{isRightClick:this.isRightClick(t)}),this.takeFocus()},finmouseup:function(t){this.isDragging()&&(this.dispatchNewMouseKeysEvent(t,"fin-canvas-dragend",{dragstart:this.dragstart,isRightClick:this.isRightClick(t)}),this.beNotDragging(),this.dragEndtime=Date.now()),this.mousedown=!1,this.dispatchNewMouseKeysEvent(t,"fin-canvas-mouseup",{isRightClick:this.isRightClick(t)})},finmouseout:function(t){this.mousedown||(this.mouseLocation=new a.Point((-1),(-1))),this.dispatchNewMouseKeysEvent(t,"fin-canvas-mouseout")},finwheelmoved:function(t){!this.isDragging()&&this.hasFocus()&&(t.preventDefault(),this.dispatchNewMouseKeysEvent(t,"fin-canvas-wheelmoved",{isRightClick:this.isRightClick(t)}))},finclick:function(t){this.doubleClickTimer&&Date.now()-this.lastClickTime<this.doubleClickDelay?(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=void 0,this.findblclick(t)):(this.lastClickTime=Date.now(),this.doubleClickTimer=setTimeout(function(){this.doubleClickTimer=void 0,this.mouseLocation=this.getLocal(t),this.dispatchNewMouseKeysEvent(t,"fin-canvas-click",{isRightClick:this.isRightClick(t)})}.bind(this),this.doubleClickDelay))},findblclick:function(t){this.mouseLocation=this.getLocal(t),this.lastDoubleClickTime=Date.now(),this.dispatchNewMouseKeysEvent(t,"fin-canvas-dblclick",{isRightClick:this.isRightClick(t)})},getCharMap:function(){return f},finkeydown:function(t){if(this.hasFocus()){var e=t.shiftKey?f[t.keyCode][1]:f[t.keyCode][0];t.repeat?this.repeatKey===e?this.repeatKeyCount++:(this.repeatKey=e,this.repeatKeyStartTime=Date.now()):(this.repeatKey=null,this.repeatKeyCount=0,this.repeatKeyStartTime=0),this.currentKeys.indexOf(e)===-1&&this.currentKeys.push(e),this.dispatchNewEvent(t,"fin-canvas-keydown",{alt:t.altKey,ctrl:t.ctrlKey,"char":e,code:t.charCode,key:t.keyCode,meta:t.metaKey,repeatCount:this.repeatKeyCount,repeatStartTime:this.repeatKeyStartTime,shift:t.shiftKey,identifier:t.key,currentKeys:this.currentKeys.slice(0)})}},finkeyup:function(t){var e=t.shiftKey?f[t.keyCode][1]:f[t.keyCode][0];this.currentKeys.splice(this.currentKeys.indexOf(e),1),this.hasFocus()&&(this.repeatKeyCount=0,this.repeatKey=null,this.repeatKeyStartTime=0,this.dispatchNewEvent(t,"fin-canvas-keyup",{alt:t.altKey,ctrl:t.ctrlKey,"char":e,code:t.charCode,key:t.keyCode,meta:t.metaKey,repeat:t.repeat,shift:t.shiftKey,identifier:t.key,currentKeys:this.currentKeys.slice(0)}))},finfocusgained:function(t){this.dispatchNewEvent(t,"fin-canvas-focus-gained")},finfocuslost:function(t){this.dispatchNewEvent(t,"fin-canvas-focus-lost")},fincontextmenu:function(t){t.ctrlKey&&this.currentKeys.indexOf("CTRL")===-1&&this.currentKeys.push("CTRL"),this.doubleRightClickTimer&&Date.now()-this.lastClickTime<this.doubleClickDelay?(clearTimeout(this.doubleRightClickTimer),this.doubleRightClickTimer=void 0,this.findblclick(t)):(this.lastClickTime=Date.now(),this.doubleRightClickTimer=setTimeout(function(){this.doubleRightClickTimer=void 0,this.dispatchNewMouseKeysEvent(t,"fin-canvas-context-menu",{isRightClick:this.isRightClick(t)})}.bind(this),this.doubleClickDelay))},repaint:function(){var t=this.getFPS();this.dirty=!0,d&&0!==t||this.paintNow()},getMouseLocation:function(){return this.mouseLocation},getOrigin:function(){var t=this.canvas.getBoundingClientRect(),e=new a.Point(t.left,t.top);return e},getLocal:function(t){var e=this.canvas.getBoundingClientRect(),i=new a.Point(t.clientX-e.left,t.clientY-e.top);return i},hasFocus:function(){return document.activeElement===this.canvas},takeFocus:function(){var t=this;this.hasFocus()||setTimeout(function(){t.canvas.focus()},10)},beDragging:function(){this.dragging=!0,this.disableDocumentElementSelection()},beNotDragging:function(){this.dragging=!1,this.enableDocumentElementSelection()},isDragging:function(){return this.dragging},disableDocumentElementSelection:function(){var t=document.body.style;t.cssText=t.cssText+"-webkit-user-select: none"},enableDocumentElementSelection:function(){var t=document.body.style;t.cssText=t.cssText.replace("-webkit-user-select: none","")},setFocusable:function(t){this.focuser.style.display=t?"":"none"},isRightClick:function(t){var e;return t=t||window.event,"which"in t?e=3===t.which:"button"in t&&(e=2===t.button),e},dispatchEvent:function(t){return this.canvas.dispatchEvent(t)}},requestAnimationFrame(o),setInterval(r,u),e.exports=n},{"./js/GraphicsContext.js":21,rectangular:53}],21:[function(t,e,i){"use strict";function n(t,e){function i(i){i in n.prototype||s.test(i)||("function"==typeof t[i]?r[i]=e?function(){return e(i,arguments,t[i].apply(t,arguments))}:t[i].bind(t):Object.defineProperty(r,i,{get:function(){var n=t[i];return e?e(i,"getter",n):n},set:function(n){t[i]=e?e(i,"setter",n):n}}))}this.gc=t;var r=this,s=/^webkit/;switch(typeof e){case"string":e=o.bind(void 0,e+".");break;case"boolean":e===!0&&(e=o.bind(void 0,"gc."));break;case"function":if(3!==e.length)throw"GraphicsContext: User-supplied API logger function does not accept three parameters.";break;default:e=!1}Object.keys(Object.getPrototypeOf(t)).forEach(i),Object.keys(t).forEach(i)}var o=t("./gc-console-logger");e.exports=n},{"./gc-console-logger":22}],22:[function(t,e,i){"use strict";function n(t,e,i,n){var r=n;switch("string"==typeof n&&(r='"'+r+'"'),e=t+e,i){case"getter":console.log(e,"=",r);break;case"setter":console.log(e,o,r);break;default:e+="("+Array.prototype.slice.call(i).join(", ")+")",void 0===r?console.log(e):console.log(e,o,r)}return n}var o="⟹";e.exports=n},{}],23:[function(t,e,i){"use strict";e.exports={JSDataSource:t("./js/DataSource"),DataSourceSorter:t("./js/DataSourceSorter"),DataSourceSorterComposite:t("./js/DataSourceSorterComposite"),DataSourceGlobalFilter:t("./js/DataSourceGlobalFilter"),DataSourceGroupView:t("./js/DataSourceGroupView"),DataSourceAggregator:t("./js/DataSourceAggregator"),DataSourceTreeview:t("./js/DataSourceTreeview"),DataSourceTreeviewSorter:t("./js/DataSourceTreeviewSorter"),DataNodeGroupSorter:t("./js/DataNodeGroupSorter"),util:{aggregations:t("./js/util/aggregations"),Mappy:t("./js/util/Mappy"),stableSort:t("./js/util/stableSort"),headerify:t("./js/util/headerify")}}},{"./js/DataNodeGroupSorter":31,"./js/DataSource":34,"./js/DataSourceAggregator":35,"./js/DataSourceGlobalFilter":37,"./js/DataSourceGroupView":38,"./js/DataSourceSorter":40,"./js/DataSourceSorterComposite":41,"./js/DataSourceTreeview":42,"./js/DataSourceTreeviewSorter":43,"./js/util/Mappy":44,"./js/util/aggregations":45,"./js/util/headerify":46,"./js/util/stableSort":47}],24:[function(t,e,i){"use strict";var n={getRowData:function(t){var e=this.getIndex();if(e.length){var i=Number(t.hasGroups()),n=this.data;n.length=i+t.aggregates.length;var o=t.sorterInstance;o.index=e,t.aggregates.forEach(function(t,e){n[i+e]=t(o)})}}};e.exports=n},{}],25:[function(t,e,i){"use strict";var n=t("./AggregatorNodeBaseMixin"),o=t("./DataNodeGroup"),r=o.extend("AggregatorNodeGroup",{getRowData:function(t){n.getRowData.apply(this,arguments),this.expanded&&this.children.forEach(function(e){e.getRowData(t)})}});e.exports=r},{"./AggregatorNodeBaseMixin":24,"./DataNodeGroup":30}],26:[function(t,e,i){"use strict";var n=t("./AggregatorNodeBaseMixin"),o=t("./DataNodeLeaf"),r=o.extend("AggregatorNodeLeaf",n);e.exports=r},{"./AggregatorNodeBaseMixin":24,"./DataNodeLeaf":32}],27:[function(t,e,i){"use strict";var n=t("./AggregatorNodeBaseMixin"),o=t("./DataNodeTree"),r=o.extend("AggregatorNodeTree",{getRowData:function(t){n.getRowData.apply(this,arguments),this.expanded&&this.children.forEach(function(e){e.getRowData(t)})}});e.exports=r},{"./AggregatorNodeBaseMixin":24,"./DataNodeTree":33}],28:[function(t,e,i){"use strict";function n(){}n.extend=t("extend-me"),n.prototype={constructor:n.prototype.constructor,replaceIndent:"_",getHeaders:function(){if(this.dataSource)return this.dataSource.getHeaders.apply(this.dataSource,arguments)},getProperty:function o(t){return t in this?this[t]:this.dataSource?o.call(this.dataSource,t):void 0},click:function(){if(this.dataSource)return this.dataSource.click.apply(this.dataSource,arguments)},findRow:function(){if(this.dataSource)return this.dataSource.findRow.apply(this.dataSource,arguments)},revealRow:function(){if(this.dataSource)return this.dataSource.revealRow.apply(this.dataSource,arguments)},getColumnInfo:function(t,e){var i,n;if(void 0===t&&(t=e),"number"==typeof t?i=this.getFields()[n=t]:n=this.getFields().indexOf(i=t),i&&n>=0)return{name:i,index:n}},fixIndentForTableDisplay:function(t){var e=t.search(/\S/),i=t.substring(e),n=Array(e+1).join(this.replaceIndent)+i;return n},dump:function(t){t=Math.min(this.getRowCount(),t||Math.max(100,this.getRowCount()));for(var e=[],i=this.getHeaders(),n=this.getColumnCount(),o=this.viewMakesSense,r=0;r<t;r++){for(var s={},a=0;a<n;a++){var l=this.getValue(a,r);0===a&&o&&(l=this.fixIndentForTableDisplay(l)),s[i[a]]=l}e[r]=s}console.table(e)}},e.exports=n},{"extend-me":7}],29:[function(t,e,i){"use strict";var n=t("./Base"),o=n.extend("DataNodeBase",{isNullObject:!1,INDENT:"   ",initialize:function(t){this.label=t,this.data=[""],this.index=[],this.hasChildren=!0,this.depth=0,this.height=1,this.expanded=!1},getValue:function(t){return this.data[t]},toArray:function(t){this.depth=t,this.data[0]=this.computeDepthString()},computeDepthString:function(){return Array(this.depth+1).join(this.INDENT)+"  "+this.label},computeHeight:function(){return 1},getIndex:function(){return this.index},getRowData:function(t){var e=this.getIndex();e.length&&(this.data.length=t.getColumnCount())},buildView:function(t){t.addView(this)},toggleExpansionState:function(){},sortGroups:function(t){}});e.exports=o},{"./Base":28}],30:[function(t,e,i){"use strict";function n(t){return this.splice.bind(this,this.length,0).apply(this,t),this}var o=t("./util/Mappy"),r=t("./DataNodeBase"),s={"true":"▼","false":"▶"},a=r.extend("DataNodeGroup",{extendable:!0,initialize:function(t){this.children=new o},toArray:function(t){this.depth=t,this.children=this.children.values,this.children.forEach(function(e){e.toArray(t+1)}),this.data[0]=this.computeDepthString()},computeDepthString:function(){var t=Array(this.depth+1).join(this.INDENT)+s[this.expanded]+" "+this.label;return t},getIndex:function(){return 0===this.index.length&&(this.index=this.computeIndex()),this.index},computeIndex:function(){var t=[];return t.append=n,this.children.forEach(function(e){t.append(e.getIndex())}),t},toggleExpansionState:function(t,e){void 0===e&&(e=!this.expanded);var i=this.expanded^e;return this.expanded=e,this.data[0]=this.computeDepthString(),this.expanded&&this.getRowData(t),!!i},getRowData:function(t){r.prototype.getRowData.call(this,t),this.expanded&&this.children.forEach(function(e){e.getRowData(t)})},buildView:function(t){t.view.push(this),this.expanded&&this.children.forEach(function(e){e.buildView(t)})},computeHeight:function(){var t=1;return this.expanded&&this.children.forEach(function(e){t+=e.computeHeight()}),this.height=t},sortWith:function(t){this.expanded&&(t.sortGroup(this),this.children.forEach(function(e){e.sortWith(t)}))},clearGroupSorts:function(){if(this.originalOrder)for(var t=0;t<this.originalOrder.length;t++)this.children[t]=this.originalOrder[t];this.children.forEach(function(t){t.clearGroupSorts()})}});e.exports=a},{"./DataNodeBase":29,"./util/Mappy":44}],31:[function(t,e,i){"use strict";var n=t("./Base"),o=t("./util/stableSort").sort,r=n.extend("DataNodeGroupSorter",{initialize:function(t){this.dataSource=t,this.sorts=[]},getRow:function(t){return this.last.getRow(t)},sortOn:function(t,e){this.sorts.push({columnIndex:t,direction:e})},set:function(t){this.sorts=t||[]},apply:function(){this.dataSource.sortGroups(this)},clearSorts:function(){this.sorts.length=0,this.dataSource.buildView()},sortGroup:function(t){t.originalOrder||(t.originalOrder=t.children.slice(0));for(var e=this.sorts,i=e.length-1;i>=0;i--)this.sortGroupOnEach(t,e[e.length-i-1])},sortGroupOnEach:function(t,e){for(var i=t.children.slice(0),n=[],r=0;r<i.length;r++)n[r]=r;for(o(n,function(t){var n=i[t];return 0===e.columnIndex?n.label:n.data[e.columnIndex]},e.direction),r=0;r<i.length;r++)t.children[r]=i[n[r]]}});r.prototype.applySorts=function(){(console.warn||console.log).call(console,"applySorts deprecated; use apply"),this.apply()},e.exports=r},{"./Base":28,"./util/stableSort":47}],32:[function(t,e,i){"use strict";var n=t("./DataNodeBase"),o=n.extend("DataNodeLeaf",{initialize:function(t){this.hasChildren=!1},toArray:function(t){this.depth=t,this.data[0]=this.computeDepthString()},getIndex:function(){return this.index},buildView:function(t){t.addView(this)},getRowData:function(t){var e=this.getIndex();if(e.length){var i=Number(t.hasGroups()),n=this.data,o=t.getColumnCount()+i,r=0,s=t.sorterInstance;for(s.index=e,r;r<o;r++)n[i+r]=s.getValue(r,0)}},computeHeight:function(){return 1},sortWith:function(t){},clearGroupSorts:function(){}});e.exports=o},{"./DataNodeBase":29}],33:[function(t,e,i){"use strict";var n=t("./DataNodeGroup"),o=n.extend("DataNodeTree",{initialize:function(t){this.height=0,this.expanded=!0},toArray:function(){this.children=this.children.values,this.children.forEach(function(t){t.toArray(0)})},buildView:function(t){this.children.forEach(function(e){e.buildView(t)})},computeHeight:function(){var t=1;return this.children.forEach(function(e){t+=e.computeHeight()}),this.height=t}});e.exports=o},{"./DataNodeGroup":30}],34:[function(t,e,i){"use strict";function n(t,e){throw new Error("DataSource."+t+": "+e)}function o(t){return t?Object.getOwnPropertyNames(t||[]).filter(function(t){return"__"!==t.substr(0,2)}):[]}var r=t("./Base"),s=t("./util/headerify"),a=r.extend("DataSource",{initialize:function(t,e,i){this.fields=e||o(t[0]),this.calculators=i||Array(this.fields.length),this.data=t},isNullObject:!1,getDataIndex:function(t){return t},getRow:function(t){return this.data[t]},findRow:function(t,e,i){var n,o,r,s,a;if("object"==typeof t){if(s=t,e instanceof Array){if(a=2,r=e,r.reduce(function(t,e){return e in s&&t++,t},0)!==r.length)throw"Expected all keys given in 2nd arg to be found in hash given in 1st arg."}else a=1,r=Object.keys(s),i=e;1===r.length?(t=r[0],e=s[t],s=void 0):r.length&&(n=this.data.find(function(e,i){if(e){o=i;for(var n in r)if(t=r[n],e[t]!==s[t])return;return!0}}))}else{if(arguments.length<2)throw"Expected at least 2 arguments when first argument not object but found "+arguments.length+".";a=2}if(s||(n=this.data.find(function(i,n){if(i)return o=n,i[t]===e})),n)if(this.foundRowIndex=o,null===i)this.data.splice(o,1);else if("object"==typeof i)this.data[o]=i;else{if(void 0!==i)throw"Expected null, undefined, or object but found "+typeof i+".";arguments.length>a&&delete this.data[o]}else this.foundRowIndex=void 0;return n},getValue:function(t,e){var i=this.getRow(e);return i?i[this.fields[t]]:null},setValue:function(t,e,i){this.getRow(e)[this.fields[t]]=i},getRowCount:function(){return this.data.length},getColumnCount:function(){return this.getFields().length},getFields:function(){return this.fields},getHeaders:function(){return this.headers=this.headers||this.getDefaultHeaders().map(function(t){return s.transform(t)})},getDefaultHeaders:function(){return this.getFields()},setFields:function(t){this.fields=t},setHeaders:function(t){t instanceof Array||n("setHeaders","param #1 `headers` not array"),this.headers=t},getGrandTotals:function(){},setData:function(t){this.data=t}});e.exports=a},{"./Base":28,"./util/headerify":46}],35:[function(t,e,i){"use strict";function n(t){return new u(t)}function o(t){return new l(t)}var r=t("./Base"),s=t("./DataSourceSorter"),a=t("./AggregatorNodeTree"),l=t("./AggregatorNodeGroup"),u=t("./AggregatorNodeLeaf"),c=t("./util/headerify"),h=r.extend("DataSourceAggregator",{initialize:function(t){this.dataSource=t,this.treeColumnIndex=0,this.tree=new a("Totals"),this.index=[],this.aggregates=[],this.groupBys=[],this.view=[],this.sorterInstance={},this.presortGroups=!0,this.lastAggregate={},this.setAggregates({})},isNullObject:!1,setAggregateGroups:function(t,e){this.setGroupBys(e),this.setAggregates(t)},setAggregates:function(t){this.lastAggregate=t,this.clearAggregations();for(var e in t)this.addAggregate(e,t[e])},getFields:function(){if(!this.viewMakesSense())return this.dataSource.getFields();var t=this.getHeaders().map(function(t){return t.toLowerCase().split(" ").join("_")});return t},getHeaders:function(){if(!this.viewMakesSense())return this.dataSource.getHeaders();var t=this.aggregates.map(function(t){return t.header});return this.hasGroups()&&t.unshift("Tree"),t},addAggregate:function(t,e){e.header=c.transform(t),this.aggregates.push(e)},setGroupBys:function(t){var e=this.groupBys;e.length=0,t.forEach(function(t){e.push(t)}),this.setAggregates(this.lastAggregate)},addGroupBy:function(t){this.groupBys.push(t)},hasGroups:function(){return!!this.groupBys.length},hasAggregates:function(){return!!this.aggregates.length},apply:function(t){t=t||{},t.rowClick||t.columnSort||this.buildGroupTree()},clearGroups:function(){this.groupBys.length=0},clearAggregations:function(){this.aggregates.length=0},buildGroupTree:function(){var t=this.groupBys.slice(0).reverse(),e=this.groupBys.length-1,i=this.dataSource,r=i.getRowCount(),l=this.tree=new a("Totals");this.presortGroups&&t.forEach(function(t){i=new s(i),i.sortOn(t)});for(var u=0;u<r;u++){var c=l;this.groupBys.forEach(function(t,r){var s=i.getValue(t,u),a=r===e?n:o;c=c.children.getIfUndefined(s,a)}),c.index.push(u)}this.sorterInstance=new s(i),l.toArray(),l.getRowData(this),this.buildView()},addView:function(t){this.view.push(t)},buildView:function(){this.view.length=0,this.tree.computeHeight(),this.tree.buildView(this)},viewMakesSense:function(){return this.hasAggregates()&&this.hasGroups()},getDataIndex:function(t){return this.viewMakesSense()?t:this.dataSource.getDataIndex(t)},getValue:function(t,e){if(!this.viewMakesSense())return this.dataSource.getValue(t,e);var i=this.view[e];return i?i.getValue(t):null},setValue:function(t,e,i){if(!this.viewMakesSense())return this.dataSource.setValue(t,e,i)},getColumnCount:function(){return this.viewMakesSense()?this.getHeaders().length:this.dataSource.getColumnCount()},getRowCount:function(){return this.viewMakesSense()?this.view.length:this.dataSource.getRowCount()},click:function(t,e,i){if(!this.viewMakesSense())return this.dataSource.click.apply(this.dataSource,arguments);var n,o,r=this.view[t];return r&&(void 0===i||i>0&&r.depth<i||i<=0&&r.depth>=-i)&&(o=r.toggleExpansionState(this,e),(n=r.children)&&this.buildView()),n?o:void 0},setHeaders:function(t){this.dataSource.setHeaders(t)},setFields:function(t){return this.dataSource.setFields(t)},getGrandTotals:function(){var t=this.tree;return[t.data]},getRow:function(t){if(!this.viewMakesSense())return this.dataSource.getRow(t);var e=this.view[t];return e?e:this.tree},setData:function(t){this.dataSource.setData(t),this.apply()},sortGroups:function(t){this.tree.clearGroupSorts(),this.tree.sortWith(t),this.buildView()}});e.exports=h},{"./AggregatorNodeGroup":25,"./AggregatorNodeLeaf":26,"./AggregatorNodeTree":27,"./Base":28,"./DataSourceSorter":40,"./util/headerify":46}],36:[function(t,e,i){"use strict";function n(t){var e=this.dataSource.getRow(t);if(e.__DEPTH<this.depth)return this.edge;for(t=this.getDataIndex(t);void 0===e.__EXPANDED||e.__DEPTH>this.depth;)e=this.findRow(this.idColumnName,e[this.parentIdColumnName]),t=this.getProperty("foundRowIndex");return t}function o(t){var e=this.dataSource.getRow(t);if(e.__DEPTH<this.depth)return this.edge;for(;void 0===e.__EXPANDED||e.__DEPTH>this.depth;)e=this.findRow(this.idColumnName,e[this.parentIdColumnName]);return r.valOrFunc(e,this.columnName,this.calculator)}var r=t("./DataSourceIndexed"),s=t("./util/stableSort"),a=r.extend("DataSourceDepthSorter",{initialize:function(t,e){this.idColumnName=e.idColumn.name,this.parentIdColumnName=e.parentIdColumn.name},sortOn:function(t,e,i){switch(e){case 0:this.clearIndex();break;case void 0:case 1:case-1:if(this.dataSource.getRowCount()){var r;this.buildIndex(),this.depth=0,this.edge=e===-1?+(1/0):-(1/0),void 0===i?r=n.bind(this):(r=o.bind(this),this.columnName=this.dataSource.getFields()[i],this.calculator=this.dataSource.getProperty("calculators")[i],"string"==typeof r(0)&&(this.edge=e===-1?"￿":"")),this.depth=t,s.sort(this.index,r,e)}}}});e.exports=a},{"./DataSourceIndexed":39,"./util/stableSort":47}],37:[function(t,e,i){"use strict";var n=t("./DataSourceIndexed"),o=n.extend("DataSourceGlobalFilter",{set:function(t){t?this.filter=t:delete this.filter},get:function(t){return this.filter},apply:function(){this.filter?this.buildIndex(function(t,e){return this.filter.test(e)}):this.clearIndex()},getRowCount:function(){return this.filter?this.index.length:this.dataSource.getRowCount()}});e.exports=o},{"./DataSourceIndexed":39}],38:[function(t,e,i){"use strict";function n(t){return new u(t)}function o(t){return new l(t)}var r=t("./Base"),s=t("./DataSourceSorter"),a=t("./DataNodeTree"),l=t("./DataNodeGroup"),u=t("./DataNodeLeaf"),c=r.extend("DataSourceGroupView",{initialize:function(t){this.dataSource=t,this.tree=new a("Group"),this.index=[],this.groupBys=[],this.view=[],this.treeColumnIndex=0,this.sorterInstance={},this.presortGroups=!0},isNullObject:!1,getFields:function(){if(!this.viewMakesSense())return this.dataSource.getFields();var t=this.getHeaders().map(function(t){return t.toLowerCase().split(" ").join("_")});return t},getHeaders:function(){if(!this.viewMakesSense())return this.dataSource.getHeaders();var t=this.dataSource.getHeaders().slice(0);return this.hasGroups()&&t.unshift("Tree"),t},setGroupBys:function(t){var e=this.groupBys;e.length=0,t.forEach(function(t){e.push(t)})},addGroupBy:function(t){this.groupBys.push(t)},hasGroups:function(){return!!this.groupBys.length},apply:function(t){t=t||{},t.rowClick||t.columnSort||this.buildGroupTree()},clearGroups:function(){this.groupBys.length=0},buildGroupTree:function(){var t=this.groupBys.slice(0).reverse(),e=this.groupBys.length-1,i=this.dataSource,r=i.getRowCount(),l=this.tree=new a("Group");this.presortGroups&&t.forEach(function(t){i=new s(i),i.sortOn(t)});for(var u=0;u<r;u++){var c=l;this.groupBys.forEach(function(t,r){var s=i.getValue(t,u),a=r===e?n:o;c=c.children.getIfUndefined(s,a)}),c.index.push(u)}this.sorterInstance=new s(i),l.toArray(),l.getRowData(this),this.buildView()},addView:function(t){this.view.push(t)},buildView:function(){this.view.length=0,this.tree.computeHeight(),this.tree.buildView(this)},viewMakesSense:function(){return this.hasGroups()},getDataIndex:function(t){return this.viewMakesSense()?t:this.dataSource.getDataIndex(t)},getValue:function(t,e){if(!this.viewMakesSense())return this.dataSource.getValue(t,e);var i=this.view[e];return i?i.getValue(t):null},setValue:function(t,e,i){if(!this.viewMakesSense())return this.dataSource.setValue(t,e,i)},getColumnCount:function(){return this.viewMakesSense()?this.getHeaders().length:this.dataSource.getColumnCount()},getRowCount:function(){return this.viewMakesSense()?this.view.length:this.dataSource.getRowCount()},click:function(t,e,i){if(!this.viewMakesSense())return this.dataSource.click.apply(this.dataSource,arguments);var n,o,r=this.view[t];return r&&(void 0===i||i>0&&r.depth<i||i<=0&&r.depth>=-i)&&(o=r.toggleExpansionState(this,e),(n=r.children)&&this.buildView()),n?o:void 0},setHeaders:function(t){this.dataSource.setHeaders(t)},setFields:function(t){return this.dataSource.setFields(t)},getRow:function(t){if(!this.viewMakesSense())return this.dataSource.getRow(t);var e=this.view[t];return e?e:this.tree},setData:function(t){this.dataSource.setData(t),this.apply()},getGrandTotals:function(){},sortGroups:function(t){this.tree.clearGroupSorts(),this.tree.sortWith(t),this.buildView()}});e.exports=c},{"./Base":28,"./DataNodeGroup":30,"./DataNodeLeaf":32,"./DataNodeTree":33,"./DataSourceSorter":40}],39:[function(t,e,i){"use strict";var n=t("./Base"),o=n.extend("DataSourceIndexed",{isNullObject:!1,initialize:function(t){this.dataSource=t,this.index=[]},transposeY:function(t){return this.index.length?this.index[t]:t},getDataIndex:function(t){return this.dataSource.getDataIndex(this.transposeY(t))},getRow:function(t){return this.dataSource.getRow(this.transposeY(t))},getValue:function(t,e){return this.dataSource.getValue(t,this.transposeY(e))},setValue:function(t,e,i){this.dataSource.setValue(t,this.transposeY(e),i)},getRowCount:function(){return this.index.length||this.dataSource.getRowCount()},getColumnCount:function(){return this.dataSource.getColumnCount()},getFields:function(){return this.dataSource.getFields()},setFields:function(t){return this.dataSource.setFields(t)},setHeaders:function(t){return this.dataSource.setHeaders(t)},getHeaders:function(){return this.dataSource.getHeaders()},getGrandTotals:function(){return this.dataSource.getGrandTotals()},setData:function(t){return this.dataSource.setData(t)},clearIndex:function(){this.index.length=0},buildIndex:function(t){var e=this.dataSource.getRowCount(),i=this.index;this.clearIndex();for(var n=0;n<e;n++)t&&!t.call(this,n,this.dataSource.getRow(n))||i.push(n);return i}});o.valOrFunc=function(t,e,i){var n;return t&&(n=t[e],i="f"===(typeof n)[0]&&n||i,i&&(n=i(t,e))),n},e.exports=o},{"./Base":28}],40:[function(t,e,i){"use strict";var n=t("./DataSourceIndexed"),o=t("./util/stableSort"),r=n.extend("DataSourceSorter",{sortOn:function(t,e){function i(t){var e=r.getRow(t);return n.valOrFunc(e,s,a)}var r=this.dataSource,s=r.getFields()[t],a=r.getProperty("calculators")[t];switch(e){case 0:this.clearIndex();break;case void 0:case 1:case-1:o.sort(this.buildIndex(),i,e)}}});e.exports=r},{"./DataSourceIndexed":39,"./util/stableSort":47}],41:[function(t,e,i){"use strict";var n=t("./DataSourceIndexed"),o=t("./DataSourceSorter"),r=n.extend("DataSourceSorterComposite",{initialize:function(){this.sorts=[],this.last=this.dataSource},getRow:function(t){return this.last.getRow(t)},sortOn:function(t,e){this.sorts.push({columnIndex:t,direction:e})},set:function(t){this.sorts=t||[]},apply:function(){var t=this.dataSource;this.sorts.forEach(function(e){t=new o(t),t.sortOn(e.columnIndex,e.direction)}),this.last=t},clearSorts:function(){this.sorts.length=0,this.last=this.dataSource},getDataIndex:function(t){return this.last.getDataIndex(t)},getValue:function(t,e){return this.last.getValue(t,e)},setValue:function(t,e,i){this.last.setValue(t,e,i)}});r.prototype.applySorts=function(){(console.warn||console.log).call(console,"applySorts deprecated; use apply"),this.apply()},e.exports=r},{"./DataSourceIndexed":39,"./DataSourceSorter":40}],42:[function(t,e,i){"use strict";function n(t,e){for(var i;void 0!=(i=e[this.parentIdColumn.name]);)if(e=this.findRow(this.idColumn.name,i),e.__EXPANDED===!1)return!1;return!0}var o=t("./DataSourceIndexed"),r={"true":"▼ ","false":"▶ ",undefined:"  "},s=o.extend("DataSourceTreeview",{initialize:function(t){t.treeView=this},setRelation:function(t){var e,i,n,o,r,s;if(this.joined=!!(t&&(this.idColumn=this.getColumnInfo(t.idColumn,"ID"))&&(this.parentIdColumn=this.getColumnInfo(t.parentIdColumn,"parentID"))&&(this.treeColumn=this.getColumnInfo(t.treeColumn,"name"))&&(this.groupColumn=this.getColumnInfo(t.groupColumn,this.treeColumn.name))),this.buildIndex(),e=this.getRowCount(),this.joined){var a=this.idColumn.name,l=this.parentIdColumn.name;for(this.maxDepth=0;e--;){for(n=0,o=this.getRow(e),r=o,s=r[a];void 0!=(i=r[l]);)r=this.findRow(a,i),++n;this.maxDepth<n&&(this.maxDepth=n),o.__DEPTH=n,this.findRow(l,s)?void 0===o.__EXPANDED&&(o.__EXPANDED=!1):delete o.__EXPANDED}}else for(;e--;)this.getRow(e).__DEPTH=0;return this.joined},apply:function(){this.viewMakesSense()&&this.buildIndex(this.joined&&n)},getValue:function(t,e){var i=o.prototype.getValue.call(this,t,e);
if(this.viewMakesSense()&&t===this.treeColumn.index){var n=this.getRow(e);""===i&&void 0===n.__EXPANDED||(i=Array(n.__DEPTH+1).join("   ")+r[n.__EXPANDED]+i)}return i},viewMakesSense:function(){return this.joined},click:function(t,e,i){if(!this.viewMakesSense())return this.dataSource.click.apply(this.dataSource,arguments);var n,o=this.getRow(t);return o&&void 0!==o.__EXPANDED&&(void 0!==i&&(i>0&&o.__DEPTH>=i||i<=0&&o.__DEPTH<-i)?n=!1:(void 0===e&&(e=!o.__EXPANDED),n=o.__EXPANDED&&!e||!o.__EXPANDED&&e,o.__EXPANDED=e)),n},revealRow:function(t){if(!this.viewMakesSense())return this.dataSource.revealRow.apply(this.dataSource,arguments);for(var e,i,n=!1;e=this.findRow(this.idColumn.name,t);)i&&e.__EXPANDED===!1&&(e.__EXPANDED=n=!0),i=!0,t=e[this.parentIdColumn.name];return n}});e.exports=s},{"./DataSourceIndexed":39}],43:[function(t,e,i){"use strict";var n=t("./DataSourceSorterComposite"),o=t("./DataSourceDepthSorter"),r=t("./DataSourceSorter"),s=n.extend("DataSourceTreeviewSorter",{apply:function(){var t,e,i,n=this.dataSource;if(this.sorts.length&&(this.treeView.joined&&(t=this.sorts[this.sorts.length-1],t=t.columnIndex===this.treeView.groupColumn.index&&t),this.sorts.forEach(function(e){e!==t&&(n=new r(n),n.sortOn(e.columnIndex,e.direction))})),this.treeView.joined){t?(e=t.columnIndex,i=t.direction):(e=void 0,i=1);for(var s=this.treeView.maxDepth;s>=0;--s)n=new o(n,this.treeView),n.sortOn(s,i,e)}this.last=n}});e.exports=s},{"./DataSourceDepthSorter":36,"./DataSourceSorter":40,"./DataSourceSorterComposite":41}],44:[function(t,e,i){"use strict";function n(){this.keys=[],this.data={},this.values=[]}function o(t){var e=typeof t;switch(e){case"number":case"string":case"boolean":case"symbol":return a+e+"_"+t;case"undefined":return"UNDEFINED";case"object":if(null===t)return"NULL";case"function":return t.___finhash=t.___finhash||a+l++}}function r(t){return t}function s(t,e){if(e!=e||0===e)for(var i=t.length;i--&&!u(t[i],e););else i=[].indexOf.call(t,e);return i}n.prototype={constructor:n.prototype.constructor,set:function(t,e){var i=o(t);i in this.data||(this.keys.push(t),this.values.push(e)),this.data[i]=e},get:function(t){var e=o(t);return this.data[e]},getIfUndefined:function(t,e){var i=this.get(t);return void 0===i&&(i=e(t),this.set(t,i)),i},size:function(){return this.keys.length},clear:function(){this.keys.length=0,this.values.length=0,this.data={}},"delete":function(t){var e=o(t);if(void 0!==this.data[e]){var i=s(this.keys,t);this.keys.splice(i,1),this.values.splice(i,1),delete this.data[e]}},forEach:function(t){if("function"==typeof t){var e=this.keys,i=this;e.forEach(function(e){var n=i.get(e);t(n,e,i)})}},map:function(t){var e=this.keys,i=new n,o=this;return"function"!=typeof t&&(t=r),e.forEach(function(e){var n=o.get(e),r=t(n,e,o);i.set(e,r)}),i},copy:function(){var t=this.keys,e=new n,i=this;return t.forEach(function(t){var n=i.get(t);e.set(t,n)}),e}};var a=".~.#%_",l=0,u=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};e.exports=n},{}],45:[function(t,e,i){"use strict";function n(t){return t.getRowCount()}function o(t,e){for(var i=e.getRowCount(),n=0;i--;)n+=e.getValue(t,i);return n}function r(t,e,i,n){for(var o=n.getRowCount();o--;)i=e(i,n.getValue(t,o));return i}function s(t,e){return o(t,e)/e.getRowCount()}function a(t,e){return e.getValue(t,0)}function l(t,e){return e.getValue(t,e.getRowCount()-1)}function u(t,e){for(var i,n=e.getRowCount(),o=s(t,e),r=n,a=0;r--;a+=i*i)i=e.getValue(t,r)-o;return Math.sqrt(a/n)}e.exports={count:function(t){return n},sum:function(t){return o.bind(this,t)},min:function(t){return r.bind(this,t,Math.min,1/0)},max:function(t){return r.bind(this,t,Math.max,-(1/0))},avg:function(t){return s.bind(this,t)},first:function(t){return a.bind(this,t)},last:function(t){return l.bind(this,t)},stddev:function(t){return u.bind(this,t)}}},{}],46:[function(t,e,i){"use strict";function n(t){return(/[a-z]/.test(t)?t:t.toLowerCase()).replace(/[\s\-_]*([^\s\-_])([^\s\-_]+)/g,o).replace(/[A-Z]/g," $&").trim()}function o(t,e,i){return e.toUpperCase()+i}function r(t){n.transform=n[t]}function s(t){return t}n.transform=s,n.set=r,n.passthrough=s,n.capitalize=n,e.exports=n},{}],47:[function(t,e,i){"use strict";function n(t,e,i,n){var o=i[0],r=n[0];if(o===r)o=e?n[1]:i[1],r=e?i[1]:n[1];else{if(null===r)return-1;if(null===o)return 1}return t(o,r)}function o(t,e){return t-e}function r(t,e){return e-t}function s(t,e){return t<e?-1:1}function a(t,e){return e<t?-1:1}function l(t){return n.bind(this,"number"===t?o:s,!1)}function u(t){return n.bind(this,"number"===t?r:a,!0)}function c(t,e,i){var n,o;if(void 0===i&&(i=1),t.length){switch(i){case 0:return;case void 0:i=1;case 1:n=l(typeof e(0));break;case-1:n=u(typeof e(0))}var r=new Array(t.length);for(o=0;o<t.length;o++)r[o]=[e(o),o];for(r.sort(n),o=0;o<t.length;o++)t[o]=r[o][1]}}i.sort=c},{}],48:[function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))throw d('Not called with "new" keyword.');var i,o,s=this;e=e||{},"string"==typeof t?(o=r(document.querySelectorAll(t)),i=c(o)):t[0]instanceof Element?(o=r(t),i=c(o)):(o=[],i=u(t,e),i.forEach(function(t){o=o.concat(r(t.element.querySelectorAll("li")))})),i.forEach(function(t){t.element.addEventListener("wheel",h)}),o.forEach(function(t,e){var i=t!==t.parentElement.lastElementChild?s.addEvt(t,"mousedown",t,!0):{element:t};o[e]=i}),g="transform"in o[0].element.style?"transform":"-webkit-transform",this.modelLists=i,this.items=o,this.bindings={},this.callback={},v(m,"list-dragon-base",e.cssStylesheetReferenceElement)}function o(t,e,i){if(t){var n=p<0&&t>=0||0===p&&0!==t||p>0&&t<=0;p=t>0?Math.min(50,t):Math.max(-50,t),n&&(clearInterval(f),f=setInterval(function(t){var e=i.scrollTop+p;p<0&&e<t||p>0&&e>t?(i.scrollTop=t,clearInterval(f)):i.scrollTop=e},125))}else clearInterval(f),p=0}function r(t){return Array.prototype.slice.call(t)}function s(t,e){return e.top<=t.y&&t.y<=e.bottom&&e.left<=t.x&&t.x<=e.right}function a(t,e){return"translate("+Math.floor(t+window.scrollX)+"px,"+Math.floor(e+window.scrollY)+"px)"}function l(t){var e=document.createTextNode(t);return document.createElement("a").appendChild(e).parentNode.innerHTML}function u(t,e){var i=e.label||"{label}";return t.forEach(function(n,o){var r=n.label||i,s=void 0!==n.htmlEncode&&n.htmlEncode||e.htmlEncode,a=document.createElement("div"),u=document.createElement("ul");if(n.models)Object.keys(n).forEach(function(t){"models"!==t&&(n.models[t]=n[t])}),t[o]=n=n.models;else{if(!(n instanceof Array))throw d("List [{1}] not an array of models (with or without additional properties) OR an object (with a `models` property containing an array of models).",o);n.models=n}n.forEach(function(t){var i=t.label||r,o=void 0!==t.htmlEncode&&t.htmlEncode||s,a="object"==typeof t?t:{label:t},c=C.call([a,n,e],i),h=document.createElement("li");h.innerHTML=o?l(c):c,u.appendChild(h)});var c=document.createElement("li");if(c.innerHTML="&nbsp;",u.appendChild(c),n.title){var h=document.createElement("div");h.innerHTML=s?l(n.title):n.title,a.appendChild(h)}a.appendChild(u),a.className=n.cssClassNames||e.cssClassNames||"dragon-list",n.element=u,n.container=a}),t}function c(t){var e=[];return t.forEach(function(t){var i=t.parentElement,n=i.parentElement,o=[];e.find(function(t){return t.element===i})||(r(i.querySelectorAll("li")).forEach(function(t){t!==i.lastElementChild&&o.push(t.innerHTML)}),o.element=i,o.container=n,e.push(o))}),e}function h(t){t.stopPropagation()}function d(){return"list-dragon: "+C.apply(this,Array.prototype.slice.call(arguments))}var g,f,p,m,v=t("css-injector"),C=t("templex"),b=null;m="div.dragon-list{position:relative;background-color:#fff}div.dragon-list>div,div.dragon-list>ul{position:absolute;left:0;right:0}div.dragon-list>div{text-align:center;background-color:#00796b;color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);overflow:hidden;white-space:nowrap}div.dragon-list>ul{overflow-y:auto;bottom:0;margin:0;padding:0;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}div.dragon-list>ul>li,li.dragon-pop{white-space:nowrap;list-style-type:none;border:0 solid #f4f4f4;border-bottom:1px solid #e0e0e0;cursor:move;transition:border-top-width .2s}div.dragon-list>ul>li:last-child{height:0;border-bottom:none}li.dragon-pop{position:fixed;background-color:#fff;border:1px solid #e0e0e0;left:0;top:0;overflow-x:hidden;box-shadow:rgba(0,0,0,.188235) 0 10px 20px,rgba(0,0,0,.227451) 0 6px 6px}",n.prototype={addEvt:function(t,e,i,n){var o={handler:y[e].bind(t,this),element:i||window};return n||(this.bindings[e]=o),o.element.addEventListener(e,o.handler),o},removeEvt:function(t){var e=this.bindings[t];delete this.bindings[t],e.element.removeEventListener(t,e.handler)},removeAllEventListeners:function(){for(var t in this.bindings){var e=this.bindings[t];e.element.removeEventListener(t,e.handler)}this.items.forEach(function(t){t.handler&&t.element.removeEventListener("mousedown",t.handler)}),this.modelLists.forEach(function(t){t.element.removeEventListener("wheel",h)})},pointInListRects:function(t){return this.modelLists.find(function(e){var i=e.element.getBoundingClientRect();return i={left:window.scrollX+i.left,top:window.scrollY+i.top,right:window.scrollX+i.right,bottom:window.scrollY+i.bottom,width:i.width,height:i.height},e.rect=i,!!s(t,i)&&(e.rect=i,!0)})},pointInItemRects:function(t,e,i){return this.items.find(function(n){var o=n.element;return o!==e&&o!==i&&s(t,n.rect)})},getAllItemBoundingRects:function(){var t,e=this.modelLists;this.items.forEach(function(i){var n=i.element,o=n.parentElement,r=e.find(function(t){return t.element===o});if(void 0===r.isDropTarget||"function"==typeof r.isDropTarget&&r.isDropTarget()||r.isDropTarget){var s=n.getBoundingClientRect(),a=s.bottom;n===o.lastElementChild?(a=o.getBoundingClientRect().bottom,a<s.top&&(a=s.top+(t||50))):t=s.height,s={left:window.scrollX+s.left,right:window.scrollX+s.right,top:window.scrollY+s.top+o.scrollTop,bottom:window.scrollY+a+o.scrollTop},i.rect=s}})},reinsert:function(t){var e=t.style;e.width=e[g]=e.transition=b,t.classList.remove("dragon-pop"),this.drop.style.transitionDuration="0s",this.drop.style.borderTopWidth=b,this.drop.parentElement.insertBefore(t,this.drop),delete this.drop},itemCoordinates:function(t){for(var e=t.parentElement,i={item:0};t=t.previousElementSibling;)++i.item;return this.modelLists.find(function(t,n){return i.list=n,t.element===e}),i}};var y={mousedown:function(t,e){if(e.stopPropagation(),e.preventDefault(),!t.drop){var i=this.getBoundingClientRect();if(t.rect=i={left:Math.round(i.left-1),top:Math.round(i.top-1),right:Math.round(i.right),bottom:Math.round(i.bottom),width:Math.round(i.width),height:Math.round(i.height)},t.pin={x:window.scrollX+e.clientX,y:window.scrollY+e.clientY},t.origin=t.itemCoordinates(this),t.callback.grabbed&&t.callback.grabbed.call(this,t),t.getAllItemBoundingRects(),t.drop=this.nextElementSibling,t.drop.style.transitionDuration="0s",t.drop.style.borderTopWidth=i.height+"px",this.style.width=i.width+"px",this.style.transitionDuration="0s",this.style[g]=a(i.left-window.scrollX,i.top-window.scrollY),this.classList.add("dragon-pop"),this.style.zIndex=window.getComputedStyle(t.modelLists[0].container.parentElement).zIndex,!t.container){for(var n=this;n.parentNode&&(n=n.parentNode,!("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot||"BODY"===n.tagName)););t.container=n}t.container.appendChild(this),i.left+=window.scrollX,i.top+=window.scrollY,i.right+=window.scrollX,i.bottom+=window.scrollY,t.addEvt(this,"mousemove"),t.addEvt(this,"mouseup")}},mousemove:function(t,e){t.drop.style.transition=b;var i=t.pointInListRects({x:e.clientX,y:e.clientY})||t.mostRecentHoverList;if(i){var n=e.clientX-t.pin.x,r=e.clientY-t.pin.y;t.mostRecentHoverList=i;var s,l=i.element.scrollHeight-i.rect.height,u=e.clientY+window.scrollY;l>0&&(i.element.scrollTop>0&&(s=u-(i.rect.top+5))<0?o(s,0,i.element):i.element.scrollTop<l&&(s=u-(i.rect.bottom-1-5))>0?o(s,l,i.element):o());var c=t.pointInItemRects({x:e.clientX,y:t.rect.bottom+window.scrollY+r+i.element.scrollTop},this,t.drop);if(this.style[g]=a(t.rect.left-window.scrollX+n,t.rect.top-window.scrollY+r),c){var h=c.element;h.style.transition=b,h.style.borderTopWidth=t.drop.style.borderTopWidth,t.drop.style.borderTopWidth=null,t.drop=h}}},mouseup:function(t,e){o(),t.removeEvt("mousemove"),t.removeEvt("mouseup"),e.stopPropagation();var i=this.getBoundingClientRect();if(window.scrollX+i.left===t.rect.left&&window.scrollY+i.top===t.rect.top)t.reinsert(this);else{var n=t.drop.getBoundingClientRect();t.addEvt(this,"transitionend",this),this.style.transitionDuration=b,this.style.transitionProperty=g,this.style[g]=a(n.left-window.scrollX,n.top-window.scrollY)}},transitionend:function(t,e){if(e.propertyName===g){t.removeEvt("transitionend"),t.reinsert(this),this.style.transitionProperty=b;var i=t.modelLists[t.origin.list],n=i.splice(t.origin.item,1)[0],o=t.itemCoordinates(this),r=t.modelLists[o.list],s=i!==r,a=s||t.origin.item!==o.item;r.splice(o.item,0,n),a&&(i.element.dispatchEvent(new CustomEvent("listchanged")),s&&r.element.dispatchEvent(new CustomEvent("listchanged"))),t.callback.dropped&&t.callback.dropped.call(this,t)}}};e.exports=n},{"css-injector":6,templex:57}],49:[function(t,e,i){!function(){function t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function i(){return 1}function n(t){return this instanceof n?("number"==typeof t&&(t={max:t}),t||(t={}),this._max=t.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=t.length||i,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=i),this._allowStale=t.stale||!1,this._maxAge=t.maxAge||null,this._dispose=t.dispose,void this.reset()):new n(t)}function o(t,e,i){var n=t._cache[e];return n&&(r(t,n)?(u(t,n),t._allowStale||(n=void 0)):i&&s(t,n),n&&(n=n.value)),n}function r(t,e){if(!e||!e.maxAge&&!t._maxAge)return!1;var i=!1,n=Date.now()-e.now;return i=e.maxAge?n>e.maxAge:t._maxAge&&n>t._maxAge}function s(t,e){l(t,e),e.lu=t._mru++,t._lruList[e.lu]=e}function a(t){for(;t._lru<t._mru&&t._length>t._max;)u(t,t._lruList[t._lru])}function l(t,e){for(delete t._lruList[e.lu];t._lru<t._mru&&!t._lruList[t._lru];)t._lru++}function u(t,e){e&&(t._dispose&&t._dispose(e.key,e.value),t._length-=e.length,t._itemCount--,delete t._cache[e.key],l(t,e))}function c(t,e,i,n,o,r){this.key=t,this.value=e,this.lu=i,this.length=n,this.now=o,r&&(this.maxAge=r)}"object"==typeof e&&e.exports?e.exports=n:this.LRUCache=n,Object.defineProperty(n.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this._max=t,this._length>this._max&&a(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(n.prototype,"lengthCalculator",{set:function(t){if("function"!=typeof t){this._lengthCalculator=i,this._length=this._itemCount;for(var e in this._cache)this._cache[e].length=1}else{this._lengthCalculator=t,this._length=0;for(var e in this._cache)this._cache[e].length=this._lengthCalculator(this._cache[e].value),this._length+=this._cache[e].length}this._length>this._max&&a(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(n.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),n.prototype.forEach=function(t,e){e=e||this;for(var i=0,n=this._itemCount,o=this._mru-1;o>=0&&i<n;o--)if(this._lruList[o]){i++;var s=this._lruList[o];r(this,s)&&(u(this,s),this._allowStale||(s=void 0)),s&&t.call(e,s.value,s.key,this)}},n.prototype.keys=function(){for(var t=new Array(this._itemCount),e=0,i=this._mru-1;i>=0&&e<this._itemCount;i--)if(this._lruList[i]){var n=this._lruList[i];t[e++]=n.key}return t},n.prototype.values=function(){for(var t=new Array(this._itemCount),e=0,i=this._mru-1;i>=0&&e<this._itemCount;i--)if(this._lruList[i]){var n=this._lruList[i];t[e++]=n.value}return t},n.prototype.reset=function(){if(this._dispose&&this._cache)for(var t in this._cache)this._dispose(t,this._cache[t].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},n.prototype.dump=function(){for(var t=[],e=0,i=this._mru-1;i>=0&&e<this._itemCount;i--)if(this._lruList[i]){var n=this._lruList[i];r(this,n)||(++e,t.push({k:n.key,v:n.value,e:n.now+(n.maxAge||0)}))}return t},n.prototype.dumpLru=function(){return this._lruList},n.prototype.set=function(e,i,n){n=n||this._maxAge;var o=n?Date.now():0,r=this._lengthCalculator(i);if(t(this._cache,e))return r>this._max?(u(this,this._cache[e]),!1):(this._dispose&&this._dispose(e,this._cache[e].value),this._cache[e].now=o,this._cache[e].maxAge=n,this._cache[e].value=i,this._length+=r-this._cache[e].length,this._cache[e].length=r,this.get(e),this._length>this._max&&a(this),!0);var s=new c(e,i,(this._mru++),r,o,n);return s.length>this._max?(this._dispose&&this._dispose(e,i),!1):(this._length+=s.length,this._lruList[s.lu]=this._cache[e]=s,this._itemCount++,this._length>this._max&&a(this),!0)},n.prototype.has=function(e){if(!t(this._cache,e))return!1;var i=this._cache[e];return!r(this,i)},n.prototype.get=function(t){return o(this,t,!0)},n.prototype.peek=function(t){return o(this,t,!1)},n.prototype.pop=function(){var t=this._lruList[this._lru];return u(this,t),t||null},n.prototype.del=function(t){u(this,this._cache[t])},n.prototype.load=function(t){this.reset();for(var e=Date.now(),i=t.length-1;i>=0;i--){var n=t[i],o=n.e||0;if(0===o)this.set(n.k,n.v);else{var r=o-e;r>0&&this.set(n.k,n.v,r)}}}}()},{}],50:[function(t,e,i){!function(t,e){"object"==typeof i&&i&&"string"!=typeof i.nodeName?e(i):"function"==typeof define&&define.amd?define(["exports"],e):(t.Mustache={},e(Mustache))}(this,function(t){function e(t){return"function"==typeof t}function i(t){return p(t)?"array":typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}function r(t,e){return m.call(t,e)}function s(t){return!r(v,t)}function a(t){return String(t).replace(/[&<>"'\/]/g,function(t){return C[t]})}function l(e,i){function o(){if(v&&!C)for(;m.length;)delete f[m.pop()];else m=[];v=!1,C=!1}function r(t){if("string"==typeof t&&(t=t.split(y,2)),!p(t)||2!==t.length)throw new Error("Invalid tags: "+t);a=new RegExp(n(t[0])+"\\s*"),l=new RegExp("\\s*"+n(t[1])),d=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var a,l,d,g=[],f=[],m=[],v=!1,C=!1;r(i||t.tags);for(var E,A,R,D,k,M,F=new h(e);!F.eos();){if(E=F.pos,R=F.scanUntil(a))for(var T=0,P=R.length;T<P;++T)D=R.charAt(T),s(D)?m.push(f.length):C=!0,f.push(["text",D,E,E+1]),E+=1,"\n"===D&&o();if(!F.scan(a))break;if(v=!0,A=F.scan(S)||"name",F.scan(b),"="===A?(R=F.scanUntil(w),F.scan(w),F.scanUntil(l)):"{"===A?(R=F.scanUntil(d),F.scan(x),F.scanUntil(l),A="&"):R=F.scanUntil(l),!F.scan(l))throw new Error("Unclosed tag at "+F.pos);if(k=[A,R,E,F.pos],f.push(k),"#"===A||"^"===A)g.push(k);else if("/"===A){if(M=g.pop(),!M)throw new Error('Unopened section "'+R+'" at '+E);if(M[1]!==R)throw new Error('Unclosed section "'+M[1]+'" at '+E)}else"name"===A||"{"===A||"&"===A?C=!0:"="===A&&r(R)}if(M=g.pop())throw new Error('Unclosed section "'+M[1]+'" at '+F.pos);return c(u(f))}function u(t){for(var e,i,n=[],o=0,r=t.length;o<r;++o)e=t[o],e&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function c(t){for(var e,i,n=[],o=n,r=[],s=0,a=t.length;s<a;++s)switch(e=t[s],e[0]){case"#":case"^":o.push(e),r.push(e),o=e[4]=[];break;case"/":i=r.pop(),i[5]=e[2],o=r.length>0?r[r.length-1][4]:n;break;default:o.push(e)}return n}function h(t){this.string=t,this.tail=t,this.pos=0}function d(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function g(){this.cache={}}var f=Object.prototype.toString,p=Array.isArray||function(t){return"[object Array]"===f.call(t)},m=RegExp.prototype.test,v=/\S/,C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b=/\s*/,y=/\s+/,w=/\s*=/,x=/\s*\}/,S=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},h.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},d.prototype.push=function(t){return new d(t,this)},d.prototype.lookup=function(t){var i,n=this.cache;if(n.hasOwnProperty(t))i=n[t];else{for(var r,s,a=this,l=!1;a;){if(t.indexOf(".")>0)for(i=a.view,r=t.split("."),s=0;null!=i&&s<r.length;)s===r.length-1&&(l=o(i,r[s])),i=i[r[s++]];else i=a.view[t],l=o(a.view,t);if(l)break;a=a.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},g.prototype.clearCache=function(){this.cache={}},g.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=l(t,e)),n},g.prototype.render=function(t,e,i){var n=this.parse(t),o=e instanceof d?e:new d(e);return this.renderTokens(n,o,i,t)},g.prototype.renderTokens=function(t,e,i,n){for(var o,r,s,a="",l=0,u=t.length;l<u;++l)s=void 0,o=t[l],r=o[0],"#"===r?s=this.renderSection(o,e,i,n):"^"===r?s=this.renderInverted(o,e,i,n):">"===r?s=this.renderPartial(o,e,i,n):"&"===r?s=this.unescapedValue(o,e):"name"===r?s=this.escapedValue(o,e):"text"===r&&(s=this.rawValue(o)),void 0!==s&&(a+=s);return a},g.prototype.renderSection=function(t,i,n,o){function r(t){return s.render(t,i,n)}var s=this,a="",l=i.lookup(t[1]);if(l){if(p(l))for(var u=0,c=l.length;u<c;++u)a+=this.renderTokens(t[4],i.push(l[u]),n,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(t[4],i.push(l),n,o);else if(e(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");l=l.call(i.view,o.slice(t[3],t[5]),r),null!=l&&(a+=l)}else a+=this.renderTokens(t[4],i,n,o);return a}},g.prototype.renderInverted=function(t,e,i,n){var o=e.lookup(t[1]);if(!o||p(o)&&0===o.length)return this.renderTokens(t[4],e,i,n)},g.prototype.renderPartial=function(t,i,n){if(n){var o=e(n)?n(t[1]):n[t[1]];return null!=o?this.renderTokens(this.parse(o),i,n,o):void 0}},g.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);if(null!=i)return i},g.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);if(null!=n)return t.escape(n)},g.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.0",t.tags=["{{","}}"];var E=new g;t.clearCache=function(){return E.clearCache()},t.parse=function(t,e){return E.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(t,e,n)},t.to_html=function(i,n,o,r){var s=t.render(i,n,o);return e(r)?void r(s):s},t.escape=a,t.Scanner=h,t.Context=d,t.Writer=g})},{}],51:[function(t,e,i){"use strict";function n(t){return t instanceof n?t:this instanceof n?(this.originalValue=t,void(this.o=t||{})):new n(t)}n.chain=function(t){var e=n(t);return e.chaining=!0,e},n.prototype={value:function(){return this.originalValue},each:function(t,e){var i=this.o;return Object.keys(i).forEach(function(e){t.call(this,i[e],e,i)},e||i),this},find:function(t,e){var i,n=this.o;return n&&(i=Object.keys(n).find(function(e){return t.call(this,n[e],e,n)},e||n),void 0!==i&&(i=n[i])),i},filter:function(t,e){var i=this.o,n=[];return i&&Object.keys(i).forEach(function(e){t.call(this,i[e],e,i)&&n.push(i[e])},e||i),n},map:function(t,e){var i=this.o,n=[];return i&&Object.keys(i).forEach(function(e){n.push(t.call(this,i[e],e,i))},e||i),n},reduce:function(t,e,i){var n=this.o;return n&&Object.keys(n).forEach(function(i,o){e=o||void 0!==e?t(e,n[i],i,n):n[i]},i||n),e},extend:function(t){var e=this.o;return Array.prototype.slice.call(arguments).forEach(function(t){if(t)for(var i in t)e[i]=t[i]}),this.chaining?this:e},extendOwn:function(t){var e=this.o;return Array.prototype.slice.call(arguments).forEach(function(t){n(t).each(function(t,i){e[i]=t})}),this.chaining?this:e}},Array.prototype.find||(Array.prototype.find=function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,o=arguments[1],r=0;r<n;r++)if(e=i[r],t.call(o,e,r,i))return e}),e.exports=n},{}],52:[function(t,e,i){"use strict";function n(t,e,i){i=i||{};var r,s=i.prompt,a=i.blacklist,l=i.sort,u=i.breadcrumbs||[],d=u.length?u.join(".")+".":"",g=h.subtree,f=0;if(t instanceof Element?(r=t.tagName,i.append||(t.innerHTML="")):(r=t,t=document.createElement(r)),e){var p,m;"SELECT"===r?(p=t.add,s?(m=new Option(s,""),m.innerHTML+="&hellip;",t.add(m)):null!==s&&t.add(new Option)):(p=t.appendChild,t.label=s),l&&(e=e.slice().sort(o)),e.forEach(function(e){if(i&&"string"==typeof e){var o=e.match(c);if(o){var r=o[1],s=o[2],h=i[r];if("function"!=typeof h)throw"build: Expected options."+r+" to be a function.";e=h(s)}}var m=e[g]||e;if(m instanceof Array){var v={breadcrumbs:u.concat(++f),prompt:e.label||"Group "+d+f,options:l,blacklist:a},C=n("OPTGROUP",m,v);C.childElementCount&&t.appendChild(C)}else if("object"!=typeof e)a&&a.indexOf(e)>=0||p.call(t,new Option(e));else if(!e.hidden){var b=e.name||e.alias;a&&a.indexOf(b)>=0||p.call(t,new Option(e.alias||e.name,b))}})}else t.type="text";return t}function o(t,e){return t=t.alias||t.name||t.label||t,e=e.alias||e.name||e.label||e,t<e?-1:t>e?1:0}function r(t,e){1===arguments.length&&(e=t,t=void 0);var i,n,o,a,l=t&&t.keys||[h.defaultKey],u=t&&t.caseSensitive;return e=s(e,u),i=this.find(function(i){var o=i[h.subtree]||i;if(o instanceof Array)return n=r.call(o,t,e);if("object"!=typeof i)return s(i,u)===e;for(var c=0;c<l.length;++c)if(a=i[l[c]],a&&s(a,u)===e)return!0}),o=n||i,o&&(o.name?o:{name:o})}function s(t,e){var i="";return t&&(i+=t,e||(i=i.toUpperCase())),i}function a(t){var e,i,n,o,r=this,s=0,l=h.subtree;for(e=r.length-1;e>=0;--e)i=r[e],n=i[l]||i,n instanceof Array||(n=void 0),n||(o=t(i.name?i:{name:i},s),s+=1,void 0!==o&&(null===o?(r.splice(e,1),s-=1):(r[e]=i=o,n=i[l]||i,n instanceof Array||(n=void 0)))),n&&(s+=a.call(n,t),0===n.length&&(r.splice(e,1),s-=1));return s}function l(t){var e=t.name||t;return t.alias&&(e='"'+t.alias+'" ('+e+")"),e}function u(t){return c.test(t)}var c=/^(\w+)\((\w+)\)$/,h={build:n,walk:a,lookup:r,formatItem:l,isGroupProxy:u,subtree:"submenu",defaultKey:"name"};e.exports=h},{}],53:[function(t,e,i){"use strict";function n(t,e){Object.defineProperty(this,t,{value:e,writable:!1,enumerable:!0,configurable:!1})}function o(t,e){n.call(this,"x",Number(t)||0),n.call(this,"y",Number(e)||0)}function r(t,e,i,r){t=Number(t)||0,e=Number(e)||0,i=Number(i)||0,r=Number(r)||0,i<0&&(t+=i,i=-i),r<0&&(e+=r,r=-r),n.call(this,"origin",new o(t,e)),n.call(this,"extent",new o(i,r)),n.call(this,"corner",new o(t+i,e+r)),n.call(this,"center",new o(t+i/2,e+r/2))}o.prototype={plus:function(t){return new o(this.x+t.x,this.y+t.y)},plusXY:function(t,e){return new o(this.x+(t||0),this.y+(e||0))},minus:function(t){return new o(this.x-t.x,this.y-t.y)},min:function(t){return new o(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new o(Math.max(this.x,t.x),Math.max(this.y,t.y))},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){var e=!1;return t&&(e=this.x===t.x&&this.y===t.y),e},greaterThan:function(t){return this.x>t.x&&this.y>t.y},lessThan:function(t){return this.x<t.x&&this.y<t.y},greaterThanOrEqualTo:function(t){return this.x>=t.x&&this.y>=t.y},lessThanOrEqualTo:function(t){return this.x<=t.x&&this.y<=t.y},within:function(t){var e=t.origin.x,i=e+t.extent.x,n=t.origin.y,o=n+t.extent.y;return t.extent.x<0&&(e=i,i=t.origin.x),t.extent.y<0&&(n=o,o=t.origin.y),e<=this.x&&this.x<i&&n<=this.y&&this.y<o}},o.prototype.EQ=o.prototype.equals,o.prototype.GT=o.prototype.greaterThan,o.prototype.LT=o.prototype.lessThan,o.prototype.GE=o.prototype.greaterThanOrEqualTo,o.prototype.LE=o.prototype.lessThanOrEqualTo,r.prototype={get top(){return this.origin.y},get left(){return this.origin.x},get bottom(){return this.corner.y},get right(){return this.corner.x},get width(){return this.extent.x},get height(){return this.extent.y},get area(){return this.width*this.height},flattenXAt:function(t){return new r(t,this.origin.y,0,this.extent.y)},flattenYAt:function(t){return new r(this.origin.x,t,this.extent.x,0)},contains:function(t){return t.within(this)},within:function(t){return t.origin.lessThanOrEqualTo(this.origin)&&t.corner.greaterThanOrEqualTo(this.corner)},growBy:function(t){return new r(this.origin.x+t,this.origin.y+t,this.extent.x-t-t,this.extent.y-t-t)},shrinkBy:function(t){return this.growBy(-t)},union:function(t){var e=this.origin.min(t.origin),i=this.corner.max(t.corner),n=i.minus(e);return new r(e.x,e.y,n.x,n.y)},forEach:function(t,e){e=e||this;for(var i=this.origin.x,n=this.corner.x;i<n;i++)for(var o=this.origin.y,r=this.corner.y;o<r;o++)t.call(e,i,o)},intersect:function(t,e,i){var n=null,o=this.origin.max(t.origin),s=this.corner.min(t.corner),a=s.minus(o);return a.x>0&&a.y>0?n=new r(o.x,o.y,a.x,a.y):"function"==typeof e&&(n=e.call(i||this,t)),n},intersects:function(t){return t.corner.x>this.origin.x&&t.corner.y>this.origin.y&&t.origin.x<this.corner.x&&t.origin.y<this.corner.y}},i.Point=o,i.Rectangle=r},{}],54:[function(t,e,i){"use strict";function n(t,e){var i,o;if(o=t.match(c)){for(i=0;i<o.length;++i)"["===o[i][0]&&(o[i]=n.reserve(o[i])),o[i]="("+o[i]+")";for(o=t.match(new RegExp(a+o.join(a)+a)),o.shift(),i=1;i<o.length;i+=2){var h=o[i];switch(h){case u:h=r;break;case l:h=s;break;default:var d="^"===h[1]?2:1;h="["+n.reserve(h.substr(d,h.length-(d+1)))+"]"}o[i]=h}}else o=[t];for(i=0;i<o.length;i+=2)o[i]=n.reserve(o[i]);return o=o.join(""),o=o.substr(0,2)===r?o.substr(2):"^"+o,o.substr(-2,2)===r?o=o.substr(0,o.length-2):o+="$",new RegExp(o,e?"i":void 0)}var o=/([\.\\\+\*\?\^\$\(\)\{\}\=\!\<\>\|\:\[\]])/g,r=".*",s=".",a="("+r+")",l="_",u="%",c=new RegExp("("+[l,u,"\\[\\^?[^-\\]]+]","\\[\\^?[^-\\]]\\-[^\\]]]"].join("|")+")","g");n.reserve=function(t){return t.replace(o,"\\$1")};var h,d;(n.clearCache=function(t){return t?h[t]&&(delete h[t],d--):(h={},d=0),d})(),n.getCacheSize=function(){return d},n.cached=function(t,e,i){"string"==typeof t&&(i=e,e=t,t=!1);var o=e+(i?"i":"c"),r=h[o];if(r)r.when=(new Date).getTime(),void 0!==t&&(r.keep=t);else{if(d===n.cacheMax){var s,a,l=[],u=0;for(s in h)if(r=h[s],!r.keep){for(a=0;a<u&&!(r.when<l[a].item.when);++a);l.splice(a,0,{key:s,item:r}),u++}if(!l.length)return n(e,i);for(a=Math.ceil(l.length/10),d-=a;a--;)delete h[l[a].key]}r=h[o]={regex:n(e,i),keep:t,when:(new Date).getTime()},d++}return r.regex},e.exports=n},{}],55:[function(t,e,i){"use strict";(function(t){function e(){this.selection=[],this.states=[],this.storeState=function(){for(var t,e=this.selection,i=[],n=0;n<e.length;n++)t=[].concat(e[n]),i.push(t);this.states.push(i)}}function i(t,e){return t instanceof Array?i.apply(this,t):void 0===e?[t,t]:t<=e?[t,e]:[e,t]}function n(t,e){return t[0]<=e[0]&&e[0]<=t[1]||t[0]<=e[1]&&e[1]<=t[1]||e[0]<t[0]&&t[1]<e[1]}function o(t,e){return t[1]===e[0]-1||e[1]===t[0]-1}function r(t,e){var i=t[0],n=t[1],o=e[0],r=e[1],s=[];return o<=i&&r<n?s.push([r+1,n]):o>i&&r>=n?s.push([i,o-1]):i<o&&r<n?(s.push([i,o-1]),s.push([r+1,n])):(r<i||o>n)&&s.push(t),s}function s(t,e){var i=Math.min(Math.min.apply(Math,t),Math.min.apply(Math,e)),n=Math.max(Math.max.apply(Math,t),Math.max.apply(Math,e));return[i,n]}e.prototype={select:function(t,e){this.storeState();var r=i(t,e),a=[0,1];return this.selection.forEach(function(t){n(t,r)||o(t,r)?r=s(t,r):a.push(t)}),a.push(r),a[1]=this.selection.length,this.selection.splice.apply(this.selection,a),this},deselect:function(t,e){var o=i(t,e),s=[0,0];return this.selection.forEach(function(t){
if(n(t,o)){var e=r(t,o);s=s.concat(e)}else s.push(t)}),s[1]=this.selection.length,this.selection.splice.apply(this.selection,s),this},clear:function(){return this.states.length=0,this.selection.length=0,this},clearMostRecentSelection:function(){0!==this.states.length&&(this.selection=this.states.pop())},isSelected:function(t){return this.selection.some(function(e){return e[0]<=t&&t<=e[1]})},isEmpty:function(){return 0===this.selection.length},getSelections:function(){var t=[];return this.selection.forEach(function(e){for(var i=e[0];i<=e[1];i++)t.push(i)}),t.sort(function(t,e){return t-e}),t}},t.exports=e})("object"==typeof e&&e||(window.RangeSelectionModel={}),"object"==typeof e&&e.exports||(window.RangeSelectionModel.exports={}))||"object"==typeof e||(window.RangeSelectionModel=window.RangeSelectionModel.exports)},{}],56:[function(t,e,i){"use strict";function n(t){var e,i;t=t||{};var n=t.root||document,r=t.unhook,s=t.referenceElement,a=t.defaultTabSelector||".default-tab";if(!r){var h;if(h=".tabz{position:relative;visibility:hidden;height:100%}.tabz>header{position:relative;display:inline-block;background-color:#fff;margin-left:1em;padding:5px .6em;border:1px solid #666;border-bottom-color:transparent;border-radius:6px 6px 0 0;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.tabz>header+section{position:absolute;display:none;background-color:#fff;margin-top:-1px;padding:8px;border:1px solid #666;border-radius:6px;left:0;right:0;bottom:0;top:0;z-index:0}.tabz>header+section.tabz-enable{z-index:1}.tabz>header.tabz-enable{z-index:2}.tabz-bg0{background-color:#eee!important}.tabz-bg1{background-color:#eef!important}.tabz-bg2{background-color:#efe!important}.tabz-bg3{background-color:#eff!important}.tabz-bg4{background-color:#fee!important}.tabz-bg5{background-color:#fef!important}.tabz-bg6{background-color:#ffe!important}",!s){var d=document.querySelector("head").children;for(e=0;!s&&e<d.length;++e)i=d[e],("STYLE"===i.tagName||"LINK"===i.tagName&&"stylesheet"===i.rel)&&(s=i)}c(h,"tabz-css-base",s);for(var g in t)this[g]===l&&(this[g]=t[g]);this.root=n,u(".tabz>header:first-of-type,.tabz>section:first-of-type",function(t){t.classList.add("tabz-enable")},n),this.tabTo(n.querySelector(".tabz > header"+a)),setTimeout(function(){u(".tabz > section",function(t){t.style.display="block",t.style.top=t.previousElementSibling.getBoundingClientRect().bottom-t.parentElement.getBoundingClientRect().top+"px"},n)},0)}var f=r?"removeEventListener":"addEventListener",p=o.bind(this);u(".tabz",function(t){t.style.visibility="visible",t[f]("click",p)},n)}function o(t){s.call(this,t.currentTarget,t.target)}function r(t){if(t instanceof Element)for(;t&&"HEADER"!==t.tagName&&"SECTION"!==t.tagName;)t=t.parentElement;else t=this.root.querySelector(t);return t}function s(t,e){var i,n;return u(":scope>header:not(.tabz-enable)",function(t){t.contains(e)&&(i=t)},t),i&&(n=this.enabledTab(t),a.call(this,n,!1),a.call(this,i,!0)),i}function a(t,e){if(t){var i=this.folder(t),n=e?"onEnable":"onDisable";this[n].call(this,t,i),t.classList.toggle("tabz-enable",e),i.classList.toggle("tabz-enable",e),n+="d",this[n].call(this,t,i)}}function l(){}function u(t,e,i){return Array.prototype.forEach.call((i||document).querySelectorAll(t),e)}var c=t("css-injector");n.prototype.tabTo=function(t){for(;t=this.tab(t);)s.call(this,t.parentElement,t),t=t.parentElement.parentElement},n.prototype.enabledTab=function(t){return t=this.panel(t),t&&t.querySelector(":scope>header.tabz-enable")},n.prototype.tab=function(t){return t=r.call(this,t),t instanceof HTMLElement?"HEADER"===t.tagName?t:"SECTION"===t.tagName?t.previousElementSibling:null:null},n.prototype.folder=function(t){return t=r.call(this,t),t instanceof HTMLElement?"SECTION"===t.tagName?t:"HEADER"===t.tagName?t.nextElementSibling:null:null},n.prototype.panel=function(t){for(;t&&!t.classList.contains("tabz");)t=t.parentElement;return t instanceof HTMLElement&&t.classList.contains("tabz")?t:null},n.prototype.onEnable=l,n.prototype.onDisable=l,n.prototype.onEnabled=l,n.prototype.onDisabled=l,e.exports=n},{"css-injector":6}],57:[function(require,module,exports){function templex(t){var e=this instanceof Array?this:[this];return arguments.length>1&&e.unshift(arguments),t.replace(templex.regexp,templex.merger.bind(e))}templex.regexp=/\{(.*?)\}/g,templex["with"]=function(t,e){return"with(this["+t+"]){"+e+"}"},templex.cache=[],templex.deref=function(key){if(!(this.length in templex.cache)){for(var code="return eval(expr)",i=0;i<this.length;++i)code=templex["with"](i,code);templex.cache[this.length]=eval("(function(expr){"+code+"})")}return templex.cache[this.length].call(this,key)},templex.merger=function(t,e){var i;try{i=isNaN(e)?templex.deref.call(this,e):this[0][e]}catch(n){i="{"+e+"}"}return i},module.exports=templex},{}],58:[function(t,e,i){"use strict";function n(t){var e,i,o="function"==typeof this.toJSON?this.toJSON():this;return n.isArray(o)?(e=[],i=t&&t.nullElements,o.forEach(function(t){var o=n.call(t);void 0!==o?e.push(o):i&&e.push(null)})):"object"==typeof o?(e={},i=t&&t.nullProperties,Object.keys(o).forEach(function(t){var r=o[t];void 0!==r&&(r=n.call(o[t])),void 0!==r?e[t]=r:i&&(e[t]=null)})):e=o,e}n.isArray=function(t){return t.constructor===Array},n.crossFramesIsArray=function(t){return o.call(t)===r};var o=Object.prototype.toString,r="[object Array]";e.exports=n},{}],59:[function(t,e,i){"use strict";function n(t,e){var i=this;this.div="string"==typeof t?document.querySelector(t):t,this.div.style.position||(this.div.style.position="relative"),this.div.clientHeight<1&&(this.div.style.height=A+"px"),C.inject("grid"),this.lastEdgeSelection=[0,0],this.lnfProperties=Object.create(R),this.isWebkit=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,this.selectionModel=new v(this),this.renderOverridesCache={},e=e||{};var o=e.Behavior||y.JSON;this.behavior=new o(this,e.data,e);var r=e.localization||{};this.localization=new b(r.locale||n.localization.locale,r.numberOptions||n.localization.numberOptions,r.dateOptions||n.localization.dateOptions),this.div.oncontextmenu=function(t){return t.stopPropagation(),t.preventDefault(),!1},this.clearMouseDown(),this.dragExtent=new h(0,0),this.numRows=0,this.numColumns=0,this.pluginsDo(function(t){t.installOn&&t.installOn(i)});var a=e.margin||{};a.top=a.top||0,a.right=a.right||0,a.bottom=a.bottom||0,a.left=a.left||0,this.cellRenderers=new w,this.cellEditors=new x(this),this.allowEventHandlers=!0,S||(S=!0,s()),this.initRenderer(),this.initCanvas(a),this.initScrollbars(),document.body.addEventListener("copy",function(t){i.checkClipboardCopy(t)}),this.getCanvas().resize(),this.refreshProperties()}function o(t,e){return g(e).each(function(e,i){"object"==typeof t[i]&&"object"==typeof e?o(t[i],e):void 0===e?delete t[i]:t[i]=e}),t}function r(t){var e=t.origin,i=t.corner,n=Math.min(e.x,i.x),o=Math.min(e.y,i.y),r=Math.max(e.x,i.x),s=Math.max(e.y,i.y),a=new d(n,o,r-n,s-o);return a}function s(){a(E);var t=document.createElement("paper-button");t.style.display="none",t.setAttribute("disabled",!0),document.body.appendChild(t);var e=window.getComputedStyle(t),i=document.createElement("section");i.style.display="none",i.setAttribute("hero",!0),document.body.appendChild(i);var n=window.getComputedStyle(document.querySelector("html")),o=window.getComputedStyle(document.querySelector("html, body")),r=window.getComputedStyle(i);E.columnHeaderBackgroundColor=e.color,E.rowHeaderBackgroundColor=e.color,E.topLeftBackgroundColor=e.color,E.lineColor=e.backgroundColor,E.backgroundColor2=o.backgroundColor,E.color=n.color,E.fontFamily=n.fontFamily,E.backgroundColor=r.backgroundColor,t.setAttribute("disabled",!1),t.setAttribute("secondary",!0),t.setAttribute("raised",!0),e=window.getComputedStyle(t),E.columnHeaderColor=e.color,E.rowHeaderColor=e.color,E.topLeftColor=e.color,E.backgroundSelectionColor=e.backgroundColor,E.foregroundSelectionColor=e.color,t.setAttribute("secondary",!1),t.setAttribute("warning",!0),E.columnHeaderForegroundSelectionColor=e.color,E.columnHeaderBackgroundSelectionColor=e.backgroundColor,E.rowHeaderForegroundSelectionColor=e.color,E.fixedColumnBackgroundSelectionColor=e.backgroundColor,"rgba(0, 0, 0, 0)"!==E.columnHeaderBackgroundSelectionColor&&"transparent"!==E.lineColor||a(E),document.body.removeChild(t),document.body.removeChild(i)}function a(t){for(var e in t)t.hasOwnProperty(e)&&delete t[e]}function l(t,e){var i,n;return t&&(i=t[e.name],n="f"===(typeof i)[0]&&i||e.calculator,n&&(i=n(t,e.name))),i||0===i||i===!1?i:""}t("./lib/polyfills");var u=t("finbars"),c=t("fincanvas"),h=t("rectangular").Point,d=t("rectangular").Rectangle,g=t("object-iterators"),f=t("./lib/deprecated"),p=t("./defaults"),m=t("./lib/Renderer"),v=t("./lib/SelectionModel"),C=t("./lib/stylesheet"),b=t("./lib/Localization"),y=t("./behaviors"),w=t("./cellRenderers"),x=t("./cellEditors"),S=!1,E=Object.create(p),A=300,R=Object.create(E);n.prototype={constructor:n.prototype.constructor,deprecated:f,registerCellEditor:function(t,e){return this.deprecated("registerCellEditor(Constructor, name)","cellEditors.add(name, Constructor)","1.0.6",arguments)},createCellEditor:function(t){return this.deprecated("createCellEditor(name)","cellEditors.create(name)","1.0.6",arguments)},getCellProvider:function(t){return this.deprecated("getCellProvider()","cellRenderers","1.0.6",arguments)},registerLocalizer:function(t,e,i,n){return this.deprecated("registerLocalizer(name, localizer, baseClassName, newClassName)","localization.add(name, localizer)","1.0.6",arguments,"STRUCTURAL CHANGE: No longer supports deriving and registering a new cell editor class. Use .cellEditors.get(baseClassName).extend(newClassName || name, {...}) for that.")},behavior:null,isWebkit:!0,mouseDown:[],dragExtent:null,vScrollValue:0,hScrollValue:0,selectionModel:null,cellEditor:null,sbHScroller:null,sbVScroller:null,sbPrevVScrollValue:null,sbPrevHScrollValue:null,renderOverridesCache:{},hoverCell:null,scrollingNow:!1,lastEdgeSelection:null,setAttribute:function(t,e){this.div.setAttribute(t,e)},reset:function(){this.lastEdgeSelection=[0,0],this.lnfProperties=Object.create(R),this.selectionModel=new v(this),this.renderOverridesCache={},this.clearMouseDown(),this.dragExtent=new h(0,0),this.numRows=0,this.numColumns=0,this.vScrollValue=0,this.hScrollValue=0,this.cellEditor=null,this.sbPrevVScrollValue=null,this.sbPrevHScrollValue=null,this.hoverCell=null,this.scrollingNow=!1,this.lastEdgeSelection=[0,0],this.behavior.reset(),this.getRenderer().reset(),this.getCanvas().resize(),this.behaviorChanged(),this.refreshProperties()},getProperties:function(){return this.getPrivateState()},_getProperties:function(){return this.lnfProperties},computeCellsBounds:function(){var t=this.getRenderer();t&&t.computeCellsBounds()},isHovered:function(t,e){var i=this.getHoverCell();return i&&i.x===t&&i.y===e},getFormatter:function(t){return this.localization.get(t).format},formatValue:function(t,e){var i=this.getFormatter(t);return i(e)},isColumnHovered:function(t){var e=this.getHoverCell();return e&&e.x===t},isRowResizeable:function(){return this.resolveProperty("rowResize")},isCheckboxOnlyRowSelections:function(){return this.resolveProperty("checkboxOnlyRowSelections")},isRowHovered:function(t){var e=this.getHoverCell();return e&&e.y===t},getHoverCell:function(){return this.hoverCell},setHoverCell:function(t){var e=this.hoverCell,i=new h(t.x,t.y);e&&e.equals(i)||(this.hoverCell=i,this.fireSyntheticOnCellEnterEvent(i),this.repaint())},addGlobalProperties:function(t){if(R)this._addGlobalProperties(t);else{var e=this;setTimeout(function(){e.addGlobalProperties(t)},10)}},_addGlobalProperties:function(t){g(t).each(function(t,e){R[e]=t})},refreshProperties:function(){var t=this.getProperties();this.selectionModel.multipleSelections=t.multipleSelections,this.renderer.computeCellsBounds(),this.checkScrollbarVisibility(),this.behavior.defaultRowHeight=null,this.isColumnAutosizing()&&this.behavior.autosizeAllColumns()},addProperties:function(t){var e=this.getProperties();o(e,t),this.refreshProperties()},getPrivateState:function(){return this.behavior.getPrivateState()},setState:function(t){var e=this;this.behavior.setState(t),this.refreshProperties(),setTimeout(function(){e.behaviorChanged(),e.synchronizeScrollingBoundries()},100)},getState:function(){return this.behavior.getState()},getMouseDown:function(){var t=this.mouseDown.length-1;return t<0?null:this.mouseDown[t]},popMouseDown:function(){0!==this.mouseDown.length&&(this.mouseDown.length=this.mouseDown.length-1)},clearMouseDown:function(){this.mouseDown=[new h((-1),(-1))],this.dragExtent=null},setMouseDown:function(t){this.mouseDown.push(t)},getDragExtent:function(){return this.dragExtent},setDragExtent:function(t){this.dragExtent=t},pluginsDo:function(t){},gridRenderedNotification:function(){this.updateRenderedSizes(),this.cellEditor&&this.cellEditor.gridRenderedNotification(),this.checkColumnAutosizing(),this.fireSyntheticGridRenderedEvent()},checkColumnAutosizing:function(){var t=this.behavior;t.autoSizeRowNumberColumn(),this.isColumnAutosizing()&&t.checkColumnAutosizing(!1)&&setTimeout(function(){t.grid.synchronizeScrollingBoundries()})},updateRenderedSizes:function(){this.behavior.setRenderedColumnCount(this.getVisibleColumns()+1),this.behavior.setRenderedRowCount(this.getVisibleRows()+1)},checkClipboardCopy:function(t){if(this.hasFocus()){t.preventDefault();var e=this.getSelectionAsTSV();t.clipboardData.setData("text/plain",e)}},hasSelections:function(){if(this.getSelectionModel)return this.selectionModel.hasSelections()},getSelectionAsTSV:function(){var t=this.selectionModel;if(t.hasSelections()){var e=this.getSelectionMatrix();return e=e[e.length-1],this.getMatrixSelectionAsTSV(e)}return t.hasRowSelections()?this.getMatrixSelectionAsTSV(this.getRowSelectionMatrix()):t.hasColumnSelections()?this.getMatrixSelectionAsTSV(this.getColumnSelectionMatrix()):void 0},getMatrixSelectionAsTSV:function(t){var e="";if(t.length){var i=t.length,n=t[0].length,o=i*n,r=i-1,s=n>1?"\n":"";if(o>2e4)return alert("selection size is too big to copy to the paste buffer"),"";for(var a=0;a<n;a++)for(var l=0;l<i;l++)e+=t[l][a]+(l<r?"\t":s)}return e},hasFocus:function(){return this.getCanvas().hasFocus()},clearSelections:function(){var t=this.isCheckboxOnlyRowSelections();this.selectionModel.clear(t),this.clearMouseDown()},clearMostRecentSelection:function(){var t=this.isCheckboxOnlyRowSelections();this.selectionModel.clearMostRecentSelection(t)},clearMostRecentColumnSelection:function(){this.selectionModel.clearMostRecentColumnSelection()},clearMostRecentRowSelection:function(){},clearRowSelection:function(){this.selectionModel.clearRowSelection(),this.behavior.dataModel.clearSelectedData()},select:function(t,e,i,n){t<0||e<0||this.selectionModel.select(t,e,i,n)},isSelected:function(t,e){return this.selectionModel.isSelected(t,e)},isCellSelectedInRow:function(t){var e=this.selectionModel,i=e.isCellSelectedInRow(t);return i},isCellSelectedInColumn:function(t){var e=this.selectionModel,i=e.isCellSelectedInColumn(t);return i},setBehavior:function(t){t.changed=this.behaviorChanged.bind(this),t.shapeChanged=this.behaviorShapeChanged.bind(this),t.stateChanged=this.behaviorStateChanged.bind(this),this.behavior=t},behaviorChanged:function(){this.numColumns!==this.getColumnCount()||this.numRows!==this.getRowCount()?(this.numColumns=this.getColumnCount(),this.numRows=this.getRowCount(),this.behaviorShapeChanged()):(this.computeCellsBounds(),this.repaint())},getBounds:function(){var t=this.getRenderer();return t&&t.getBounds()},resolveProperty:function(t){for(var e=t.split("."),i=this.getProperties();e.length;)i=i[e.shift()];return i},behaviorShapeChanged:function(){this.synchronizeScrollingBoundries()},behaviorStateChanged:function(){this.computeCellsBounds(),this.repaint()},repaint:function(){var t=this.resolveProperty("repaintImmediately"),e=this.getCanvas();e&&(t===!0?e.paintNow():e.repaint())},paintNow:function(){this.getCanvas().paintNow()},useHiDPI:function(){return this.resolveProperty("useHiDPI")!==!1},initCanvas:function(t){var e=this,i=this.divCanvas=document.createElement("div");this.div.appendChild(i),this.canvas=new c(i,this.renderer),this.canvas.canvas.classList.add("hypergrid");var n=i.style;n.position="absolute",n.top=t.top,n.right=t.right,n.bottom=t.bottom,n.left=t.left,this.canvas.resizeNotification=function(){e.resized()},this.addEventListener("fin-canvas-mousemove",function(t){if(!e.resolveProperty("readOnly")){var i=t.detail.mouse,n=e.getGridCellFromMousePoint(i);n.primitiveEvent=t,e.delegateMouseMove(n)}}),this.addEventListener("fin-canvas-mousedown",function(t){if(!e.resolveProperty("readOnly")){var i=t.detail.mouse,n=e.getGridCellFromMousePoint(i);n.keys=t.detail.keys,n.primitiveEvent=t,e.mouseDownState=n,e.delegateMouseDown(n),e.fireSyntheticMouseDownEvent(n),e.repaint()}}),this.addEventListener("fin-canvas-click",function(t){if(!e.resolveProperty("readOnly")){var i=t.detail.mouse,n=e.getGridCellFromMousePoint(i);n.primitiveEvent=t,n.keys=t.detail.keys,e.fireSyntheticClickEvent(n),e.delegateClick(n)}}),this.addEventListener("fin-canvas-mouseup",function(t){if(!e.resolveProperty("readOnly")){e.dragging=!1,e.isScrollingNow()&&e.setScrollingNow(!1),e.columnDragAutoScrolling&&(e.columnDragAutoScrolling=!1);var i=t.detail.mouse,n=e.getGridCellFromMousePoint(i);n.primitiveEvent=t,e.delegateMouseUp(n),e.mouseDownState&&e.fireSyntheticButtonPressedEvent(e.mouseDownState),e.mouseDownState=null,e.fireSyntheticMouseUpEvent(n)}}),this.addEventListener("fin-canvas-dblclick",function(t){if(!e.resolveProperty("readOnly")){var i=t.detail.mouse,n=e.getGridCellFromMousePoint(i);n.primitiveEvent=t,e.fireSyntheticDoubleClickEvent(n,t),e.delegateDoubleClick(n)}}),this.addEventListener("fin-canvas-drag",function(t){if(!e.resolveProperty("readOnly")){e.dragging=!0;var i=t.detail.mouse,n=e.getGridCellFromMousePoint(i);n.primitiveEvent=t,e.delegateMouseDrag(n)}}),this.addEventListener("fin-canvas-keydown",function(t){e.resolveProperty("readOnly")||(e.fireSyntheticKeydownEvent(t),e.delegateKeyDown(t))}),this.addEventListener("fin-canvas-keyup",function(t){e.resolveProperty("readOnly")||(e.fireSyntheticKeyupEvent(t),e.delegateKeyUp(t))}),this.addEventListener("fin-canvas-wheelmoved",function(t){var i=t.detail.mouse,n=e.getGridCellFromMousePoint(i);n.primitiveEvent=t.detail.primitiveEvent,e.delegateWheelMoved(n)}),this.addEventListener("fin-canvas-mouseout",function(t){if(!e.resolveProperty("readOnly")){var i=t.detail.mouse,n=e.getGridCellFromMousePoint(i);n.primitiveEvent=t.detail.primitiveEvent,e.delegateMouseExit(n)}}),this.addEventListener("fin-canvas-context-menu",function(t){var i=t.detail.mouse,n=e.getGridCellFromMousePoint(i);n.primitiveEvent=t.detail.primitiveEvent,e.delegateContextMenu(n)}),this.div.removeAttribute("tabindex")},convertViewPointToDataPoint:function(t){return this.behavior.convertViewPointToDataPoint(t)},convertDataPointToViewPoint:function(t){return this.behavior.convertDataPointToViewPoint(t)},addEventListener:function(t,e){var i=this,n=function(t){i.allowEventHandlers&&e(t)};this.canvas.addEventListener(t,n)},allowEvents:function(t){(this.allowEventHandlers=!!t)?this.behavior.featureChain.attachChain():this.behavior.featureChain.detachChain(),this.behavior.changed()},addFinEventListener:function(t,e){console.warn(".addFinEventListener() method is deprecated as of v0.2. Use .addEventListener() instead. (Will be removed in a future release.)"),this.addEventListener(t,e)},setScrollingNow:function(t){this.scrollingNow=t},isScrollingNow:function(){return this.scrollingNow},overColumnDivider:function(t){var e=t.primitiveEvent.detail.mouse.x,i=this.getRenderer().overColumnDivider(e);return i},overRowDivider:function(t){var e=t.primitiveEvent.detail.mouse.y,i=this.getRenderer().overRowDivider(e);return i},beCursor:function(t){t||(t="default"),this.div.style.cursor=t},delegateWheelMoved:function(t){this.behavior.onWheelMoved(this,t)},delegateMouseExit:function(t){this.behavior.handleMouseExit(this,t)},delegateContextMenu:function(t){this.behavior.onContextMenu(this,t)},delegateMouseMove:function(t){this.behavior.onMouseMove(this,t)},delegateMouseDown:function(t){this.behavior.handleMouseDown(this,t)},delegateMouseUp:function(t){this.behavior.onMouseUp(this,t)},delegateClick:function(t){this.behavior.onClick(this,t)},delegateMouseDrag:function(t){this.behavior.onMouseDrag(this,t)},delegateDoubleClick:function(t){this.behavior.onDoubleClick(this,t)},delegateKeyDown:function(t){this.behavior.onKeyDown(this,t)},delegateKeyUp:function(t){this.behavior.onKeyUp(this,t)},stopEditing:function(){var t=!!this.cellEditor;return t&&this.cellEditor.stopEditing(),t},cancelEditing:function(){var t=!!this.cellEditor;return t&&this.cellEditor.cancelEditing(),t},getDataBounds:function(){var t=this.canvas.bounds;return new d(0,0,t.origin.x+t.extent.x,t.origin.y+t.extent.y)},getRowNumbersWidth:function(){return this.isShowRowNumbers()?this.getRenderer().getRowNumbersWidth():0},getCanvas:function(){return this.canvas},editAt:function(t){var e;if(2===arguments.length)return this.deprecated("editAt(cellEditor, editPoint)","editAt(editPoint)","1.0.6",arguments);if(this.stopEditing(),t.x>=0&&t.y>=0){var i=this.behavior.getActiveColumn(t.x),n=i&&i.getProperties().editable;(n||this.isFilterRow(t.y))&&(this.setMouseDown(t),this.setDragExtent(new h(0,0)),e=this.getCellEditorAt(t),e&&e.beginEditing())}return e},isColumnVisible:function(t){return this.getRenderer().isColumnVisible(t)},isDataRowVisible:function(t){return this.getRenderer().isRowVisible(t)},isDataVisible:function(t,e){return this.isDataRowVisible(e)&&this.isColumnVisible(t)},insureModelColIsVisible:function(t,e){var i=this.getColumnCount()-1,n=t+(e>0),o=!this.isColumnVisible(n)||t===i;return o&&this.scrollBy(e,0),o},insureModelRowIsVisible:function(t,e){var i=this.getRowCount()-1,n=t+(e>0),o=!this.isDataRowVisible(n)||t===i;return o&&this.scrollBy(0,e),o},scrollBy:function(t,e){this.scrollHBy(t),this.scrollVBy(e)},scrollVBy:function(t){var e=this.sbVScroller.range.max,i=this.getVScrollValue(),n=Math.min(e,Math.max(0,i+t));n!==i&&this.setVScrollValue(n)},scrollHBy:function(t){var e=this.sbHScroller.range.max,i=this.getHScrollValue(),n=Math.min(e,Math.max(0,i+t));n!==i&&this.setHScrollValue(n)},scrollToMakeVisible:function(t,e){var i,n=this.renderer.getScrollLeft(),o=this.renderer.getScrollTop(),r=2,s=3,a=-1;((i=t-(n+this.renderer.getFixedColumnCount()))<0||(i=t-(n+this.getVisibleColumnsCount()-r+a))>0)&&(this.sbHScroller.index+=i),((i=e-(o+this.renderer.getFixedRowCount()))<0||(i=e-(o+this.renderer.rowEdges.length-s))>0)&&(this.sbVScroller.index+=i)},selectCellAndScrollToMakeVisible:function(t,e){this.selectCell(t,e,!0),this.scrollToMakeVisible(t,e)},getGridCellFromMousePoint:function(t){var e=this.getRenderer().getGridCellFromMousePoint(t);return e},getBoundsOfCell:function(t){var e=this.getRenderer().getBoundsOfCell(t),i=new d(e.x,e.y,e.width,e.height);return i},resized:function(){this.synchronizeScrollingBoundries()},cellClicked:function(t){var e=!1,i=t.gridCell;if(i.x<=this.getColumnCount()&&i.y<=this.getRowCount()){var n=this.getHoverCell(),o=n.x,r=n.y;r>=0&&(r+=this.getVScrollValue()),e=this.behavior.cellClicked(new h(o,r),t)}return e},setTotalsValueNotification:function(t,e,i,n){this.fireSyntheticSetTotalsValue(t,e,i,n)},fireSyntheticSetTotalsValue:function(t,e,i,n){var o=new CustomEvent("fin-set-totals-value",{detail:{x:t,y:e,value:i,areas:n}});this.canvas.dispatchEvent(o)},fireSyntheticEditorKeyUpEvent:function(t,e){var i=new CustomEvent("fin-editor-keyup",{detail:{input:t,keyEvent:e,"char":this.canvas.getCharMap()[e.keyCode][e.shiftKey?1:0]}});this.canvas.dispatchEvent(i)},fireSyntheticEditorKeyDownEvent:function(t,e){var i=new CustomEvent("fin-editor-keydown",{detail:{input:t,keyEvent:e,"char":this.canvas.getCharMap()[e.keyCode][e.shiftKey?1:0]}});this.canvas.dispatchEvent(i)},fireSyntheticEditorKeyPressEvent:function(t,e){var i=new CustomEvent("fin-editor-keypress",{detail:{input:t,keyEvent:e,"char":this.canvas.getCharMap()[e.keyCode][e.shiftKey?1:0]}});this.canvas.dispatchEvent(i)},fireSyntheticEditorDataChangeEvent:function(t,e,i){var n=new CustomEvent("fin-editor-data-change",{detail:{input:t,oldValue:e,newValue:i},cancelable:!0});return this.canvas.dispatchEvent(n)},fireSyntheticRowSelectionChangedEvent:function(){var t=new CustomEvent("fin-row-selection-changed",{detail:{rows:this.getSelectedRows(),columns:this.getSelectedColumns(),selections:this.selectionModel.getSelections()}});this.canvas.dispatchEvent(t)},fireSyntheticColumnSelectionChangedEvent:function(){var t=new CustomEvent("fin-column-selection-changed",{detail:{rows:this.getSelectedRows(),columns:this.getSelectedColumns(),selections:this.selectionModel.getSelections()}});this.canvas.dispatchEvent(t)},selectionChanged:function(){var t=this.getSelectedRows(),e=new CustomEvent("fin-selection-changed",{detail:{rows:t,columns:this.getSelectedColumns(),selections:this.selectionModel.getSelections()}});this.canvas.dispatchEvent(e)},getRowSelection:function(t){function e(t,e){var o=r.getRow(t);n[e]=l(o,i)}var i,n,o,r=this,s=this.selectionModel.getSelectedRows(),a=this.getColumnCount(),u={};t?(a+=this.getHiddenColumns().length,o=this.behavior.getColumn):o=this.behavior.getActiveColumn,o=o.bind(this.behavior);for(var c=0;c<a;c++)i=o(c),n=u[i.name]=new Array(s.length),s.forEach(e);return u},getHiddenColumns:function(){return this.behavior.getHiddenColumns()},getRowSelectionMatrix:function(){function t(t,i){var n=e.getRow(t);o[r][i]=l(n,s)}for(var e=this,i=this.selectionModel.getSelectedRows(),n=this.getColumnCount(),o=new Array(n),r=0;r<n;r++){var s=this.behavior.getActiveColumn(r);o[r]=new Array(i.length),i.forEach(t)}return o},getColumnSelectionMatrix:function(){var t,e=this,i=this.getHeaderRowCount(),n=this.getSelectedColumns(),o=this.getRowCount(),r=new Array(n.length);return n.forEach(function(n,s){for(var a=e.behavior.getActiveColumn(n),u=r[s]=new Array(o),c=i;c<o;c++)t=e.getRow(c),u[c]=l(t,a)}),r},getColumnSelection:function(){var t,e=this,i=this.getHeaderRowCount(),n=this.getSelectedColumns(),o={},r=this.getRowCount();return n.forEach(function(n){for(var s=e.behavior.getActiveColumn(n),a=o[s.name]=new Array(r),u=i;u<r;u++)t=e.getRow(u),a[u]=l(t,s)}),o},getSelection:function(){function t(t,n){for(var s=r(t),a=s.extent.x+1,u=s.extent.y+1,c={},h=0,d=s.origin.x;h<a;h++,d++)for(var g=i.behavior.getActiveColumn(d),f=c[g.name]=new Array(u),p=0,m=s.origin.y;p<u;p++,m++)e=i.getRow(m),f[p]=l(e,g);o[n]=c}var e,i=this,n=this.getSelections(),o=new Array(n.length);return n.forEach(t),o},getSelectionMatrix:function(){function t(t,n){for(var s=r(t),a=s.extent.x+1,u=s.extent.y+1,c=[],h=0,d=s.origin.x;h<a;h++,d++)for(var g=c[h]=new Array(u),f=i.behavior.getActiveColumn(d),p=0,m=s.origin.y;p<u;p++,m++)e=i.getRow(m),g[p]=l(e,f);o[n]=c}var e,i=this,n=this.getSelections(),o=new Array(n.length);return n.forEach(t),o},fireSyntheticContextMenuEvent:function(t){t.gridCell=this.convertViewPointToDataPoint(t.gridCell);var e=new CustomEvent("fin-context-menu",{detail:{gridCell:t.gridCell,mousePoint:t.mousePoint,viewPoint:t.viewPoint,primitiveEvent:t.primitiveEvent,rows:this.getSelectedRows(),columns:this.getSelectedColumns(),selections:this.selectionModel.getSelections()}});this.canvas.dispatchEvent(e)},fireSyntheticMouseUpEvent:function(t){var e=new CustomEvent("fin-mouseup",{detail:{gridCell:t.gridCell,mousePoint:t.mousePoint,viewPoint:t.viewPoint,primitiveEvent:t.primitiveEvent,rows:this.getSelectedRows(),columns:this.getSelectedColumns(),selections:this.selectionModel.getSelections()}});this.canvas.dispatchEvent(e)},fireSyntheticMouseDownEvent:function(t){this.stopEditing();var e=new CustomEvent("fin-mousedown",{detail:{gridCell:t.gridCell,mousePoint:t.mousePoint,viewPoint:t.viewPoint,primitiveEvent:t.primitiveEvent,rows:this.getSelectedRows(),columns:this.getSelectedColumns(),selections:this.selectionModel.getSelections()}});this.canvas.dispatchEvent(e)},isViewableButton:function(t,e){return this.getRenderer().isViewableButton(t,e)},fireSyntheticButtonPressedEvent:function(t){var e=t.dataCell,i=t.gridCell;if(this.isViewableButton(e.x,e.y)){var n=new CustomEvent("fin-button-pressed",{detail:{gridCell:i}});this.canvas.dispatchEvent(n)}},fireSyntheticOnColumnsChangedEvent:function(){var t={time:Date.now(),grid:this},e=new CustomEvent("fin-column-changed-event",{detail:t});console.log("column changed"),this.canvas.dispatchEvent(e)},fireSyntheticKeydownEvent:function(t){var e=new CustomEvent("fin-keydown",{detail:t.detail});this.canvas.dispatchEvent(e)},fireSyntheticKeyupEvent:function(t){var e=new CustomEvent("fin-keyup",{detail:t.detail});this.canvas.dispatchEvent(e)},fireSyntheticFilterAppliedEvent:function(){var t=new CustomEvent("fin-filter-applied");this.canvas.dispatchEvent(t)},fireSyntheticOnCellEnterEvent:function(t){var e={gridCell:t,time:Date.now(),grid:this},i=new CustomEvent("fin-cell-enter",{detail:e});this.canvas.dispatchEvent(i)},fireSyntheticOnCellExitEvent:function(t){var e={gridCell:t,time:Date.now(),grid:this},i=new CustomEvent("fin-cell-exit",{detail:e});this.canvas.dispatchEvent(i)},fireSyntheticClickEvent:function(t){var e=t.gridCell,i={gridCell:e,mousePoint:t.mousePoint,keys:t.keys,primitiveEvent:t,time:Date.now(),grid:this};this.behavior.enhanceDoubleClickEvent(i);var n=new CustomEvent("fin-click",{detail:i});this.canvas.dispatchEvent(n)},fireSyntheticDoubleClickEvent:function(t){this.stopEditing();var e=t.gridCell,i={gridCell:e,mousePoint:t.mousePoint,time:Date.now(),grid:this};this.behavior.enhanceDoubleClickEvent(t);var n=new CustomEvent("fin-double-click",{detail:i});this.behavior.cellDoubleClicked(e,t),this.canvas.dispatchEvent(n)},fireSyntheticGridRenderedEvent:function(){var t=new CustomEvent("fin-grid-rendered",{detail:{source:this,time:Date.now()}});this.canvas&&this.canvas.dispatchEvent(t)},fireScrollEvent:function(t,e,i){var n=new CustomEvent(t,{detail:{oldValue:e,value:i,time:Date.now()}});this.canvas.dispatchEvent(n)},setVScrollValue:function(t){var e=this;if(t=Math.min(this.sbVScroller.range.max,Math.max(0,Math.round(t))),t!==this.vScrollValue){this.behavior._setScrollPositionY(t);var i=this.vScrollValue;this.vScrollValue=t,this.scrollValueChangedNotification(),setTimeout(function(){e.fireScrollEvent("fin-scroll-y",i,t)})}},getVScrollValue:function(){return this.vScrollValue},setHScrollValue:function(t){var e=this;if(t=Math.min(this.sbHScroller.range.max,Math.max(0,Math.round(t))),t!==this.hScrollValue){this.behavior._setScrollPositionX(t);var i=this.hScrollValue;this.hScrollValue=t,this.scrollValueChangedNotification(),setTimeout(function(){e.fireScrollEvent("fin-scroll-x",i,t)})}},getHScrollValue:function(){return this.hScrollValue},takeFocus:function(){this.stopEditing()||this.getCanvas().takeFocus()},editorTakeFocus:function(){if(this.cellEditor)return this.cellEditor.takeFocus()},initScrollbars:function(){var t=this,e=new u({orientation:"horizontal",onchange:t.setHScrollValue.bind(t),cssStylesheetReferenceElement:this.div}),i=new u({orientation:"vertical",onchange:t.setVScrollValue.bind(t),paging:{up:t.pageUp.bind(t),down:t.pageDown.bind(t)}});this.sbHScroller=e,this.sbVScroller=i;var n=this.resolveProperty("hScrollbarClassPrefix"),o=this.resolveProperty("vScrollbarClassPrefix");n&&""!==n&&(this.sbHScroller.classPrefix=n),o&&""!==o&&(this.sbVScroller.classPrefix=o),this.div.appendChild(e.bar),this.div.appendChild(i.bar),this.resizeScrollbars()},resizeScrollbars:function(){this.sbHScroller.shortenBy(this.sbVScroller).resize(),this.sbVScroller.resize()},setVScrollbarValues:function(t){this.sbVScroller.range={min:0,max:t}},setHScrollbarValues:function(t){this.sbHScroller.range={min:0,max:t}},scrollValueChangedNotification:function(){this.hScrollValue===this.sbPrevHScrollValue&&this.vScrollValue===this.sbPrevVScrollValue||(this.sbPrevHScrollValue=this.hScrollValue,
this.sbPrevVScrollValue=this.vScrollValue,this.cellEditor&&this.cellEditor.scrollValueChangedNotification(),this.computeCellsBounds())},getValue:function(t,e){return this.behavior.getValue(t,e)},setValue:function(t,e,i){this.behavior.setValue(t,e,i)},getColumnAlignment:function(t){return this.behavior.getColumnAlignment(t)},synchronizeScrollingBoundries:function(){var t=this.getFixedColumnCount(),e=this.getFixedRowCount(),i=this.getColumnCount(),n=this.getRowCount(),o=this.getBounds();if(o){for(var r=o.height-this.behavior.getFixedRowsMaxHeight()-15,s=o.width-this.behavior.getFixedColumnsMaxWidth()-15,a=0,l=0;a<i;a++){var u=this.getColumnWidth(i-a-1);if(l+=u,l>s)break}for(var c=0,h=0;c<n;c++){var d=this.getRowHeight(n-c-1);if(h+=d,h>r)break}var g=Math.max(0,i-t-a);this.setHScrollbarValues(g);var f=1+Math.max(0,n-e-c);this.setVScrollbarValues(f),this.setHScrollValue(Math.min(this.getHScrollValue(),g)),this.setVScrollValue(Math.min(this.getVScrollValue(),f)),this.computeCellsBounds(),this.repaint(),this.resizeScrollbars()}},getVisibleRows:function(){return this.getRenderer().getVisibleRows()},getVisibleColumns:function(){return this.getRenderer().getVisibleColumns()},initRenderer:function(){this.renderer=new m(this)},getRenderer:function(){return this.renderer},getColumnWidth:function(t){return this.behavior.getColumnWidth(t)},setColumnWidth:function(t,e){this.stopEditing(),this.behavior.setColumnWidth(t,e)},getColumnEdge:function(t){return this.behavior.getColumnEdge(t,this.getRenderer())},getFixedColumnsWidth:function(){return this.behavior.getFixedColumnsWidth()},getRowHeight:function(t){return this.behavior.getRowHeight(t)},setRowHeight:function(t,e){this.stopEditing(),this.behavior.setRowHeight(t,e)},getFixedRowsHeight:function(){return this.behavior.getFixedRowsHeight()},getColumnCount:function(){return this.behavior.getActiveColumnCount()},getRowCount:function(){return this.behavior.getRowCount()},getUnfilteredRowCount:function(){return this.behavior.getUnfilteredRowCount()},getFixedColumnCount:function(){return this.behavior.getFixedColumnCount()},getFixedRowCount:function(){return this.behavior.getFixedRowCount()},topLeftClicked:function(t){this.behavior.topLeftClicked(this,t)},rowHeaderClicked:function(t){this.behavior.rowHeaderClicked(this,t)},columnHeaderClicked:function(t){this.behavior.columnHeaderClicked(this,t)},onEditorActivate:function(t){var e=t.gridCell;return this.editAt(e)},getCellEditorAt:function(t){return this.behavior.getCellEditorAt(t)},toggleHiDPI:function(){this.useHiDPI()?this.removeAttribute("hidpi"):this.setAttribute("hidpi",null),this.canvas.resize()},getHiDPI:function(t){if(window.devicePixelRatio&&this.useHiDPI()){var e=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,n=e/i;return n}return 1},getRenderedWidth:function(t){return this.renderer.getRenderedWidth(t)},getRenderedHeight:function(t){return this.renderer.getRenderedHeight(t)},updateCursor:function(){var t=this.behavior.getCursorAt(-1,-1),e=this.getHoverCell();if(e&&e.x>-1&&e.y>-1){var i=e.x+this.getHScrollValue();t=this.behavior.getCursorAt(i,e.y+this.getVScrollValue())}this.beCursor(t)},repaintCell:function(t,e){this.getRenderer().repaintCell(t,e)},isDraggingColumn:function(){return!!this.renderOverridesCache.dragger},pageUp:function(){var t=this.getRenderer().getPageUpRow();return this.setVScrollValue(t),t},pageDown:function(){var t=this.getRenderer().getPageDownRow();return this.setVScrollValue(t),t},pageLeft:function(){console.log("page left")},pageRight:function(){console.log("page right")},getRenderedData:function(){var t,e=this.behavior,i=this.getRenderer(),n=this.getColumnCount(),o=i.getVisibleRows(),r=new Array(n),s=new Array(o);return r.forEach(function(t,i){r[i]=e.getActiveColumn(i).header}),s.forEach(function(i,n){t=s[n]={hierarchy:e.getFixedColumnValue(0,n)},r.forEach(function(i,o){t[i]=e.getValue(o,n)})}),s},getSelectedRow:function(){var t=this.selectionModel.getSelections();if(t.length){for(var e=this.behavior,i=this.getColumnCount(),n=t[0].origin.y,o={},r=0;r<i;r++)o[e.getActiveColumn(r).header]=e.getValue(r,n);return o}},fireRequestCellEdit:function(t,e){var i=new CustomEvent("fin-request-cell-edit",{cancelable:!0,detail:{value:e,gridCell:t,time:Date.now()}});return this.canvas.dispatchEvent(i)},fireBeforeCellEdit:function(t,e,i,n){var o=new CustomEvent("fin-before-cell-edit",{cancelable:!0,detail:{oldValue:e,newValue:i,gridCell:t,time:Date.now(),input:n,row:this.getRow(t.y)}}),r=this.canvas.dispatchEvent(o);return r},fireAfterCellEdit:function(t,e,i,n){var o=new CustomEvent("fin-after-cell-edit",{detail:{newValue:i,oldValue:e,gridCell:t,time:Date.now(),input:n,row:this.getRow(t.y)}});this.canvas.dispatchEvent(o)},autosizeColumn:function(t){var e=this.behavior.getActiveColumn(t);e.checkColumnAutosizing(!0),this.computeCellsBounds()},setFocusable:function(t){this.getCanvas().setFocusable(t)},getVisibleColumnsCount:function(){return this.getRenderer().getVisibleColumnsCount()},getVisibleRowsCount:function(){return this.getRenderer().getVisibleRowsCount()},updateSize:function(){this.canvas.checksize()},stopPaintThread:function(){this.canvas.stopPaintThread()},stopResizeThread:function(){this.canvas.stopResizeThread()},restartResizeThread:function(){this.canvas.restartResizeThread()},restartPaintThread:function(){this.canvas.restartPaintThread()},swapColumns:function(t,e){this.behavior.swapColumns(t,e)},endDragColumnNotification:function(){this.behavior.endDragColumnNotification()},getFixedColumnsMaxWidth:function(){return this.behavior.getFixedColumnsMaxWidth()},isMouseDownInHeaderArea:function(){var t=this.getHeaderColumnCount(),e=this.getHeaderRowCount(),i=this.getMouseDown();return i.x<t||i.y<e},isHeaderWrapping:function(){return this.resolveProperty("headerTextWrapping")},_getBoundsOfCell:function(t,e){return this.getRenderer()._getBoundsOfCell(t,e)},getColumnProperties:function(t){return this.behavior.getColumnProperties(t)},setColumnProperties:function(t,e){this.behavior.setColumnProperties(t,e)},moveSingleSelect:function(t,e){this.behavior.moveSingleSelect(this,t,e)},selectCell:function(t,e,i){var n=this.isCheckboxOnlyRowSelections();this.selectionModel.clear(n),this.selectionModel.select(t,e,0,0,i)},getHeaderColumnCount:function(){return this.behavior.getHeaderColumnCount()},toggleSort:function(t,e){this.stopEditing();var i=this.behavior,n=this;i.toggleSort(t,e),setTimeout(function(){n.synchronizeScrollingBoundries(),n.isColumnAutosizing()&&i.autosizeAllColumns(),n.repaint()},10)},toggleSelectColumn:function(t,e){e=e||[];var i=this.selectionModel,n=i.isColumnSelected(t),o=e.indexOf("CTRL")>-1,r=e.indexOf("SHIFT")>-1;o||r?(o&&(n?i.deselectColumn(t):i.selectColumn(t)),r&&(i.clear(),i.selectColumn(this.lastEdgeSelection[0],t))):(i.clear(),n||i.selectColumn(t)),n||r||(this.lastEdgeSelection[0]=t),this.repaint(),this.fireSyntheticColumnSelectionChangedEvent()},toggleSelectRow:function(t,e){if(t>this.getFilterRowIndex()){e=e||[];var i=this.selectionModel,n=i.isRowSelected(t),o=e.indexOf("SHIFT")>=0;n?i.deselectRow(t):(this.singleSelect(),i.selectRow(t)),o&&(i.clear(),i.selectRow(this.lastEdgeSelection[1],t)),n||o||(this.lastEdgeSelection[1]=t),this.repaint()}},singleSelect:function(){var t,e=this.isCheckboxOnlyRowSelections(),i=this.isSingleRowSelectionMode(),n=!1;return this.mouseDownState&&(n=this.mouseDownState.primitiveEvent.detail.primitiveEvent.ctrlKey),t=e&&i||!e&&(!n||i),t&&this.selectionModel.clearRowSelection(),t},selectViewportCell:function(t,e){var i=this.getHeaderRowCount(),n=this.getRenderer(),o=n.getVisibleColumns()[t],r=n.getVisibleRows()[e];this.clearSelections(),this.select(o,r+i,0,0),this.setMouseDown(this.newPoint(o,r+i)),this.setDragExtent(this.newPoint(0,0)),this.repaint()},selectToViewportCell:function(t,e){var i=this.getSelections();if(i&&i.length){var n=this.getHeaderRowCount(),o=this.getRenderer(),r=o.getVisibleColumns()[t],s=o.getVisibleRows()[e]+n,a=i[0],l=a.origin;this.setDragExtent(this.newPoint(r-l.x,s-l.y)),this.select(l.x,l.y,r-l.x,s-l.y),this.repaint()}},selectFinalCellOfCurrentRow:function(){var t=this.getColumnCount()-1,e=this.getSelectedRows()[0],i=this.getHeaderRowCount();this.clearSelections(),this.scrollBy(this.getColumnCount(),0),this.select(t,e+i,0,0),this.setMouseDown(this.newPoint(t,e+i)),this.setDragExtent(this.newPoint(0,0)),this.repaint()},selectToFinalCellOfCurrentRow:function(){var t=this.getSelections();if(t&&t.length){var e=t[0],i=e.origin,n=e.extent,o=this.getColumnCount();this.scrollBy(o,0),this.clearSelections(),this.select(i.x,i.y,o-i.x-1,n.y),this.repaint()}},selectFirstCellOfCurrentRow:function(){var t=0,e=this.getSelectedRows()[0],i=this.getHeaderRowCount();this.clearSelections(),this.setHScrollValue(0),this.select(t,e+i,0,0),this.setMouseDown(this.newPoint(t,e+i)),this.setDragExtent(this.newPoint(0,0)),this.repaint()},selectToFirstCellOfCurrentRow:function(){var t=this.getSelections();if(t&&t.length){var e=t[0],i=e.origin,n=e.extent;this.clearSelections(),this.select(i.x,i.y,-i.x,n.y),this.setHScrollValue(0),this.repaint()}},selectFinalCell:function(){this.selectCell(this.getColumnCount()-1,this.getRowCount()-1),this.scrollBy(this.getColumnCount(),this.getRowCount()),this.repaint()},selectToFinalCell:function(){var t=this.getSelections();if(t&&t.length){var e=t[0],i=e.origin,n=this.getColumnCount(),o=this.getRowCount();this.clearSelections(),this.select(i.x,i.y,n-i.x-1,o-i.y-1),this.scrollBy(n,o),this.repaint()}},isShowRowNumbers:function(){return this.resolveProperty("showRowNumbers")},isEditable:function(){return this.resolveProperty("editable")===!0},isShowFilterRow:function(){return this.resolveProperty("showFilterRow")},isShowHeaderRow:function(){return this.resolveProperty("showHeaderRow")},getHeaderRowCount:function(){return this.behavior.getHeaderRowCount()},isFilterRow:function(t){return t===this.getFilterRowIndex()},getFilterRowIndex:function(){return this.isShowFilterRow()?this.isShowHeaderRow()?1:0:-1},hasHierarchyColumn:function(){return this.behavior.hasHierarchyColumn()},isHierarchyColumn:function(t){return this.hasHierarchyColumn()&&0===t},checkScrollbarVisibility:function(){},isColumnOrRowSelected:function(){return this.selectionModel.isColumnOrRowSelected()},selectColumn:function(t,e){this.selectionModel.selectColumn(t,e)},selectRow:function(t,e){var i=this.selectionModel,n=this.getFilterRowIndex()+1;this.singleSelect()?t=e:e=e||t;var o=Math.min(t,e);if(o>=n){var r=Math.max(t,e);i.selectRow(o,r)}},isRowNumberAutosizing:function(){return this.resolveProperty("rowNumberAutosizing")},isRowSelected:function(t){return this.selectionModel.isRowSelected(t)},isColumnSelected:function(t){return this.selectionModel.isColumnSelected(t)},lookupFeature:function(t){return this.behavior.lookupFeature(t)},getRow:function(t){return this.behavior.getRow(t)},isCellSelection:function(){return this.resolveProperty("cellSelection")===!0},isRowSelection:function(){return this.resolveProperty("rowSelection")===!0},isColumnSelection:function(){return this.resolveProperty("columnSelection")===!0},getComputedRow:function(t){return this.behavior.getComputedRow(t)},isColumnAutosizing:function(){return this.resolveProperty("columnAutosizing")===!0},getGlobalFilter:function(){return this.behavior.getGlobalFilter()},setGlobalFilter:function(t){this.behavior.setGlobalFilter(t),this.behaviorChanged()},setGlobalFilterCaseSensitivity:function(t){this.behavior.setGlobalFilterCaseSensitivity(t),this.computeCellsBounds(),this.behaviorChanged()},getFilter:function(t,e){return this.behavior.getFilter(t,e)},setFilter:function(t,e,i){this.cellEditor&&this.cellEditor.hideEditor(),this.behavior.setFilter(t,e,i),this.behaviorChanged()},getFilters:function(t){return this.behavior.getFilters(t)},setFilters:function(t,e){this.cellEditor&&this.cellEditor.hideEditor(),this.behavior.setFilters(t,e),this.behaviorChanged()},getTableFilter:function(t){return this.behavior.getTableFilter(t)},setTableFilter:function(t,e){this.behavior.setTableFilter(t,e),this.behaviorChanged()},selectRowsFromCells:function(){if(!this.isCheckboxOnlyRowSelections()){var t,e=this.mouseDownState.primitiveEvent.detail.primitiveEvent.ctrlKey;e&&!this.isSingleRowSelectionMode()?this.selectionModel.selectRowsFromCells(0,e):(t=this.selectionModel.getLastSelection())?this.selectRow(null,t.corner.y):this.clearRowSelection()}},selectColumnsFromCells:function(){this.selectionModel.selectColumnsFromCells()},getSelectedRows:function(){return this.behavior.getSelectedRows()},getSelectedColumns:function(){return this.behavior.getSelectedColumns()},getSelections:function(){return this.behavior.getSelections()},getLastSelectionType:function(){return this.selectionModel.getLastSelectionType()},isCellSelected:function(t,e){return this.selectionModel.isCellSelected(t,e)},isInCurrentSelectionRectangle:function(t,e){return this.selectionModel.isInCurrentSelectionRectangle(t,e)},selectAllRows:function(){this.selectionModel.selectAllRows()},areAllRowsSelected:function(){return this.selectionModel.areAllRowsSelected()},toggleSelectAllRows:function(){this.areAllRowsSelected()?this.selectionModel.clear():this.selectAllRows(),this.repaint()},isSingleRowSelectionMode:function(){return this.resolveProperty("singleRowSelectionMode")},newPoint:function(t,e){return new h(t,e)},newRectangle:function(t,e,i,n){return new d(t,e,i,n)},getFormattedValue:function(t,e){return this.formatValue(this.getColumnProperties(t).format,this.getValue(t,e+this.getHeaderRowCount()))},dialogOptions:{},setDialogOptions:function(t,e){"object"==typeof t&&(e=t,t=void 0);var i=this.dialogOptions.undefined;return e=e||t&&this.dialogOptions[t],e?(this.dialogOptions[t]=e,i&&(e=g({}).extend(i,e))):e=i||{},e},openDialog:function(t,e){this.stopEditing(),e=this.setDialogOptions(t,e),e.terminate=function(){delete this.dialog}.bind(this),this.dialog=this.behavior.openDialog(t,e)},toggleDialog:function(t,e){var i=this.dialog,n=i&&i.$$CLASS_NAME;i&&(this.dialog.close()||n===t)||(i?i.terminate=this.openDialog.bind(this,t,e):this.openDialog(t,e))},getFilterStatus:function(){var t,e=this.getGlobalFilter();return e&&(t=e.invalid()?"error":e.filterCount()?"active":"inactive"),t}},n.localization={locale:"en-US",numberOptions:{maximumFractionDigits:0}},e.exports=n},{"./behaviors":66,"./cellEditors":76,"./cellRenderers":86,"./defaults":92,"./lib/Localization":119,"./lib/Renderer":120,"./lib/SelectionModel":121,"./lib/deprecated":123,"./lib/polyfills":127,"./lib/stylesheet":129,finbars:19,fincanvas:20,"object-iterators":51,rectangular:53}],60:[function(t,e,i){"use strict";e.exports={analytics:t("hyper-analytics"),FilterTree:t("filter-tree")}},{"filter-tree":9,"hyper-analytics":23}],61:[function(t,e,i){"use strict";var n=t("object-iterators"),o=t("../lib/Base"),r=t("./Column"),s=t("../dialogs"),a=t("../filter/DefaultFilter"),l=["columnHeader","columnHeaderColumnSelection","filterProperties","rowHeader","rowHeaderRowSelection","rowNumbersProperties","treeColumnProperties","treeColumnPropertiesColumnSelection"],u={isNull:!0},c=o.extend("Behavior",{initialize:function(t,e,i){this.grid=t,this.dataModel=this.getNewDataModel(),t.setBehavior(this),this.reset(),this.initializeFeatureChain(t)},initializeFeatureChain:function(t){var e=this;this.featureMap={},this.features.forEach(function(t){var i=new t;e.featureMap[i.$$CLASS_NAME]=i,e.featureChain?e.featureChain.setNext(i):e.featureChain=i}),this.featureChain&&this.featureChain.initializeOn(t)},features:[],reset:function(){this.renderedColumnCount=30,this.renderedRowCount=60,this.dataUpdates={},this.scrollPositionX=this.scrollPositionY=0,this.clearColumns(),this.clearState(),this.dataModel.reset(),this.createColumns()},clearColumns:function(){this.columns=[],this.allColumns=[],this.allColumns[-1]=this.columns[-1]=this.newColumn(-1),this.allColumns[-2]=this.columns[-2]=this.newColumn(-2),this.columnEnum={}},getActiveColumn:function(t){return this.columns[t]},getActiveColumnIndex:function(t){for(var e=t instanceof r?t.index:t,i=0;i<this.columns.length;++i)if(this.columns[i].index===e)return i},getVisibleColumn:function(){return this.deprecated("getVisibleColumn(x)","getActiveColumn(x)","1.0.6",arguments)},getVisibleColumnName:function(){return this.deprecated("getVisibleColumnName(x)","getActiveColumn(x).name","1.0.6",arguments)},getColumnId:function(){return this.deprecated("getColumnId(x)","getActiveColumn(x).header","1.0.6",arguments)},getHeader:function(){return this.deprecated("getHeader(x)","getActiveColumn(x).header","1.0.6",arguments)},getColumn:function(t){return this.allColumns[t]},newColumn:function(t){var e=new r(this,t);return this.getPrivateState().columnProperties[e.index]=this.createColumnProperties(),e},addColumn:function(t){var e=this.newColumn(t);return this.columns.push(e),this.allColumns.push(e),e},createColumns:function(){},createColumnProperties:function(){var t=this.getPrivateState(),e=Object.create(t);return e.rowNumbersProperties=Object.create(e,{foregroundSelectionColor:{configurable:!0,get:function(){return this.columnHeaderForegroundSelectionColor},set:function(t){this.columnHeaderForegroundSelectionColor=t}},backgroundSelectionColor:{configurable:!0,get:function(){return this.columnHeaderBackgroundSelectionColor},set:function(t){this.columnHeaderBackgroundSelectionColor=t}}}),e.rowHeader=Object.create(e,{font:{configurable:!0,get:function(){return this.rowHeaderFont},set:function(t){this.rowHeaderFont=t}},color:{configurable:!0,get:function(){return this.rowHeaderColor},set:function(t){this.rowHeaderColor=t}},backgroundColor:{configurable:!0,get:function(){return this.rowHeaderBackgroundColor},set:function(t){this.rowHeaderBackgroundColor=t}},foregroundSelectionFont:{configurable:!0,get:function(){return this.rowHeaderForegroundSelectionFont},set:function(t){this.rowHeaderForegroundSelectionFont=t}},foregroundSelectionColor:{configurable:!0,get:function(){return this.rowHeaderForegroundSelectionColor},set:function(t){this.rowHeaderForegroundSelectionColor=t}},backgroundSelectionColor:{configurable:!0,get:function(){return this.rowHeaderBackgroundSelectionColor},set:function(t){this.rowHeaderBackgroundSelectionColor=t}}}),e.columnHeader=Object.create(e,{font:{configurable:!0,get:function(){return this.columnHeaderFont},set:function(t){this.columnHeaderFont=t}},color:{configurable:!0,get:function(){return this.columnHeaderColor},set:function(t){this.columnHeaderColor=t}},backgroundColor:{configurable:!0,get:function(){return this.columnHeaderBackgroundColor},set:function(t){this.columnHeaderBackgroundColor=t}},foregroundSelectionFont:{configurable:!0,get:function(){return this.columnHeaderForegroundSelectionFont},set:function(t){this.columnHeaderForegroundSelectionFont=t}},foregroundSelectionColor:{configurable:!0,get:function(){return this.columnHeaderForegroundSelectionColor},set:function(t){this.columnHeaderForegroundSelectionColor=t}},backgroundSelectionColor:{configurable:!0,get:function(){return this.columnHeaderBackgroundSelectionColor},set:function(t){this.columnHeaderBackgroundSelectionColor=t}}}),e.columnHeaderColumnSelection=Object.create(e.columnHeader,{foregroundSelectionColor:{configurable:!0,get:function(){return this.columnHeaderForegroundColumnSelectionColor},set:function(t){this.columnHeaderForegroundColumnSelectionColor=t}},backgroundSelectionColor:{configurable:!0,get:function(){return this.columnHeaderBackgroundColumnSelectionColor},set:function(t){this.columnHeaderBackgroundColumnSelectionColor=t}}}),e.rowHeaderRowSelection=Object.create(e.rowHeader,{foregroundSelectionColor:{configurable:!0,get:function(){return this.rowHeaderForegroundRowSelectionColor},set:function(t){this.rowHeaderForegroundRowSelectionColor=t}},backgroundSelectionColor:{configurable:!0,get:function(){return this.rowHeaderBackgroundRowSelectionColor},set:function(t){this.rowHeaderBackgroundRowSelectionColor=t}}}),e.filterProperties=Object.create(e,{font:{configurable:!0,get:function(){return this.filterFont},set:function(t){this.filterFont=t}},color:{configurable:!0,get:function(){return this.filterColor},set:function(t){this.filterColor=t}},backgroundColor:{configurable:!0,get:function(){return this.filterBackgroundColor},set:function(t){this.filterBackgroundColor=t}},foregroundSelectionColor:{configurable:!0,get:function(){return this.filterForegroundSelectionColor},set:function(t){this.filterForegroundSelectionColor=t}},backgroundSelectionColor:{configurable:!0,get:function(){return this.filterBackgroundSelectionColor},set:function(t){this.filterBackgroundSelectionColor=t}},cellBorderStyle:{configurable:!0,get:function(){return this.filterCellBorderStyle},set:function(t){this.filterCellBorderStyle=t}},cellBorderThickness:{configurable:!0,get:function(){return this.filterCellBorderThickness},set:function(t){this.filterCellBorderThickness=t}}}),e.treeColumnProperties=Object.create(e,{font:{configurable:!0,get:function(){return this.treeColumnFont},set:function(t){this.treeColumnFont=t}},color:{configurable:!0,get:function(){return this.treeColumnColor},set:function(t){this.treeColumnColor=t}},backgroundColor:{configurable:!0,get:function(){return this.treeColumnBackgroundColor},set:function(t){this.treeColumnBackgroundColor=t}},foregroundSelectionColor:{configurable:!0,get:function(){return this.treeColumnForegroundSelectionColor},set:function(t){this.treeColumnForegroundSelectionColor=t}},backgroundSelectionColor:{configurable:!0,get:function(){return this.treeColumnBackgroundSelectionColor},set:function(t){this.treeColumnBackgroundSelectionColor=t}}}),e.treeColumnPropertiesColumnSelection=Object.create(e.treeColumnProperties,{foregroundSelectionColor:{configurable:!0,get:function(){return this.treeColumnForegroundColumnSelectionColor},set:function(t){this.treeColumnForegroundColumnSelectionColor=t}},backgroundSelectionColor:{configurable:!0,get:function(){return this.treeColumnBackgroundColumnSelectionColor},set:function(t){this.treeColumnBackgroundColumnSelectionColor=t}}}),e},getColumnWidth:function(t){var e=this.getActiveColumn(t);if(!e)return this.resolveProperty("defaultColumnWidth");var i=e.getWidth();return i},setColumnWidth:function(t,e){this.getActiveColumn(t).setWidth(e),this.stateChanged()},getCellRenderer:function(t,e,i){return this.getActiveColumn(e).getCellRenderer(t,e,i)},getCellProvider:function(t){return this.deprecated("getCellProvider()","grid.cellRenderers","1.0.6",arguments)},createCellProvider:function(t){console.error("getCellProvider() is deprecated as of v1.0.6. No replacement; do not call. Previously called by `Behavior` constructor; `new CellRenderers()` is now called by `Hypergrid` constructor instead.",arguments)},applyAnalytics:function(){this.dataModel.applyAnalytics()},clearObjectProperties:function(t,e){for(var i in t)t.hasOwnProperty(i)&&(void 0===e||!e&&l.indexOf(i)>=0||e&&l.indexOf(i)<0)&&delete t[i]},getPrivateState:function(){return this.tableState||(this.tableState=this.getDefaultState()),this.tableState},getState:function(){var t=JSON.parse(JSON.stringify(this.getPrivateState()));return this.clearObjectProperties(t.columnProperties,!1),t},clearState:function(){this.tableState=null},getDefaultState:function(){var t=this.grid._getProperties(),e=Object.create(t);return n(e).extendOwn({rowHeights:{},columnProperties:[]}),e},setState:function(t){if(!t.columnIndexes){var e=this.dataModel.getFields();t.columnIndexes=[];for(var i=0;i<e.length;i++)t.columnIndexes[i]=i}var o=t.columnProperties;delete t.columnProperties,this.tableState=null;var r=this.getPrivateState();this.createColumns(),this._setColumnOrder(t.columnIndexes),n(r).extendOwn(t),this.setAllColumnProperties(o),t.columnProperties=o,this.setColumnWidth(-1,24.193359375),this.dataModel.applyState()},setAllColumnProperties:function(t){t=t||[];for(var e=0;e<t.length;e++){var i=this.getPrivateState().columnProperties[e];this.clearObjectProperties(i,!1),n(i).extendOwn(t[e])}},_setColumnOrder:function(t){if(Array.isArray(t)){if(!t)return void(this.columns.length=0);this.columns.length=t.length;for(var e=0;e<t.length;e++)this.columns[e]=this.allColumns[t[e]]}},resolveProperty:function(t){return this.grid.resolveProperty(t)},cellClicked:function(t,e){return this.dataModel.cellClicked(t,e)},cellDoubleClicked:function(t,e){},lookupFeature:function(t){return this.featureMap[t]},setGrid:function(t){},getValue:function(t,e){var i=this.getActiveColumn(t);return i&&i.getValue(e)},getUnfilteredValue:function(t,e){var i=this.getActiveColumn(t);return i&&i.getUnfilteredValue(e)},setValue:function(t,e,i){var n=this.getActiveColumn(t);return n&&n.setValue(e,i)},getDataValue:function(t,e){return this.dataModel.getValue(t,e)},setDataValue:function(t,e,i){this.dataModel.setValue(t,e,i)},getCellProperties:function(t,e){var i=this.allColumns[t];return i&&i.getCellProperties(e)},setCellProperties:function(t,e,i){var n=this.allColumns[t];n&&n.setCellProperties(e,i)},getRowCount:function(){return this.dataModel.getRowCount()},getUnfilteredRowCount:function(){return this.dataModel.getUnfilteredRowCount()},getFixedRowsHeight:function(){for(var t=this.getFixedRowCount(),e=0,i=0;i<t;i++)e+=this.getRowHeight(i);return e},getRowHeight:function(t){var e=this.getPrivateState().rowHeights;return e&&e[t]||this.getDefaultRowHeight()},getDefaultRowHeight:function(){return this.defaultRowHeight||(this.defaultRowHeight=this.resolveProperty("defaultRowHeight")),this.defaultRowHeight},setRowHeight:function(t,e){var i=this.getPrivateState();i.rowHeights[t]=Math.max(5,e),this.stateChanged()},getFixedRowsMaxHeight:function(){return this.getFixedRowsHeight()},getFixedColumnsWidth:function(){var t=this.getFixedColumnCount(),e=0;this.grid.isShowRowNumbers()&&(e=this.getColumnWidth(-1));for(var i=0;i<t;i++)e+=this.getColumnWidth(i);return e},getFixedColumnsMaxWidth:function(){return this.getFixedColumnsWidth()},_setScrollPositionY:function(t){this.setScrollPositionY(t),this.changed()},_setScrollPositionX:function(t){this.setScrollPositionX(t),this.changed()},setRenderedColumnCount:function(t){this.renderedColumnCount=t},setRenderedRowCount:function(t){this.renderedRowCount=t},_fixedRowClicked:function(t,e){var i=this.translateColumnIndex(this.getScrollPositionX()+e.gridCell.x-this.getFixedColumnCount()),n=this.grid.newPoint(i,e.gridCell.y);e.gridCell=n,this.fixedRowClicked(t,e)},_fixedColumnClicked:function(t,e){var i=this.grid.newPoint(e.gridCell.x,this.getScrollPositionY()+e.gridCell.y-this.getFixedRowCount());e.gridCell=i,this.fixedColumnClicked(t,e)},moveSingleSelect:function(t,e,i){this.featureChain&&(this.featureChain.moveSingleSelect(t,e,i),this.setCursor(t))},setCursor:function(t){t.updateCursor(),this.featureChain.setCursor(t)},onMouseMove:function(t,e){this.featureChain&&(this.featureChain.handleMouseMove(t,e),this.setCursor(t))},onClick:function(t,e){this.featureChain&&(this.featureChain.handleClick(t,e),this.setCursor(t))},onContextMenu:function(t,e){var i=t.fireSyntheticContextMenuEvent(e);i&&this.featureChain&&(this.featureChain.handleContextMenu(t,e),this.setCursor(t))},onWheelMoved:function(t,e){this.featureChain&&(this.featureChain.handleWheelMoved(t,e),this.setCursor(t))},onMouseUp:function(t,e){this.featureChain&&(this.featureChain.handleMouseUp(t,e),this.setCursor(t))},onMouseDrag:function(t,e){this.featureChain&&(this.featureChain.handleMouseDrag(t,e),this.setCursor(t))},onKeyDown:function(t,e){this.featureChain&&(this.featureChain.handleKeyDown(t,e),this.setCursor(t))},onKeyUp:function(t,e){this.featureChain&&(this.featureChain.handleKeyUp(t,e),this.setCursor(t))},onDoubleClick:function(t,e){this.featureChain&&(this.featureChain.handleDoubleClick(t,e),this.setCursor(t))},openDialog:function(t,e){return new s[t](this.grid,e)},handleMouseDown:function(t,e){this.featureChain&&(this.featureChain.handleMouseDown(t,e),this.setCursor(t))},handleMouseExit:function(t,e){this.featureChain&&(this.featureChain.handleMouseExit(t,e),this.setCursor(t))},changed:function(){},shapeChanged:function(){},isColumnReorderable:function(){return!0},getColumnProperties:function(t){var e=this.columns[t];if(!e)return u;var i=e.getProperties();return i?i:u},setColumnProperties:function(t,e){var i=this.allColumns[t],o=i.getProperties();n(o).extendOwn(e),this.changed()},clearAllCellProperties:function(t){if(void 0===t)for(var e=this.allColumns.length-1;e>=0;--e)this.allColumns[e].clearAllCellProperties();else{var i=this.allColumns[e];i&&i.clearAllCellProperties()}},setColumnIndexes:function(t,e){var i=this.getPrivateState();this._setColumnOrder(t),i.columnIndexes=t,this.changed(),e||this.grid.fireSyntheticOnColumnsChangedEvent()},getHiddenColumnDescriptors:function(){for(var t=this.getPrivateState(),e=t.columnIndexes,i=[],n=this.getActiveColumnCount(),o=0;o<n;o++)if(e.indexOf(o)===-1){var r=this.getActiveColumn(o);i.push({id:o,header:r.header,field:r.name})}return i},hideColumns:function(t){for(var e=this.getPrivateState(),i=e.columnIndexes,n=0;n<t.length;n++){var o=t[n];i.indexOf(o)!==-1&&i.splice(i.indexOf(o),1)}},getFixedColumnCount:function(){return this.getPrivateState().fixedColumnCount||0},setFixedColumnCount:function(t){this.getPrivateState().fixedColumnCount=t},getFixedRowCount:function(){if(!this.tableState)return 0;var t=this.grid.getHeaderRowCount(),e=this.tableState.fixedRowCount||0;return t+e},setFixedRowCount:function(t){this.tableState.fixedRowCount=t},getHeaderRowCount:function(){var t=this.grid.isShowHeaderRow()?1:0,e=this.grid.isShowFilterRow()?1:0,i=this.getTopTotals().length;return t+e+i},getFooterRowCount:function(){return this.getBottomTotals().length},getTopTotals:function(){return this.dataModel.getTopTotals()},setHeaderRowCount:function(t){this.tableState.headerRowCount=t},getHeaderColumnCount:function(){return this.grid.resolveProperty("headerColumnCount")},setHeaderColumnCount:function(t){this.tableState.headerColumnCount=t},endDragColumnNotification:function(){},getCursorAt:function(t,e){return null},getActiveColumnCount:function(){return this.columns.length},getColumnCount:function(){return this.deprecated("getColumnCount()","getActiveColumnCount()","1.0.6",arguments)},getColumnAlignment:function(t){return"center"},setScrollPositionX:function(t){this.scrollPositionX=t},getScrollPositionX:function(){return this.scrollPositionX},setScrollPositionY:function(t){this.scrollPositionY=t},getScrollPositionY:function(){return this.scrollPositionY},getCellEditorAt:function(t){var e,i,n=this.getActiveColumn(t.x);return n&&(i={column:n,editPoint:t},e=this.grid.isFilterRow(t.y)?this.grid.cellEditors.create("filterbox",i):n.getCellEditorAt(t.y,i)),e},toggleSort:function(t,e){var i=this.getActiveColumn(t);i&&i.toggleSort(e)},highlightCellOnHover:function(t,e){return t&&e},cellPropertiesPrePaintNotification:function(t){},cellFixedRowPrePaintNotification:function(t){},cellFixedColumnPrePaintNotification:function(t){},cellTopLeftPrePaintNotification:function(t){},enhanceDoubleClickEvent:function(t){},swapColumns:function(t,e){var i=this.columns,n=i[t];i[t]=i[e],i[e]=n,this.changed()},getColumnEdge:function(t,e){return this.dataModel.getColumnEdge(t,e)},setTotalsValue:function(t,e,i,n){this.grid.setTotalsValueNotification(t,e,i,n)},getRow:function(t){return this.dataModel.getRow(t)},convertViewPointToDataPoint:function(t){var e=this.getActiveColumn(t.x).index,i=this.grid.newPoint(e,t.y);return i},hasHierarchyColumn:function(){return!1},getRowContextFunction:function(t){return function(){return null}},getSelectionMatrixFunction:function(t){return function(){return null}},getComputedRow:function(t){return this.dataModel.getComputedRow(t)},autosizeAllColumns:function(){this.checkColumnAutosizing(!0),this.changed()},checkColumnAutosizing:function(t){t=t===!0,this.autoSizeRowNumberColumn();var e=this.allColumns[-2].checkColumnAutosizing(t);return this.allColumns.forEach(function(i){e=i.checkColumnAutosizing(t)||e}),e},autoSizeRowNumberColumn:function(){
this.grid.isRowNumberAutosizing()&&this.allColumns[-1].checkColumnAutosizing(!0)},getNewFilter:function(){var t=new a({schema:"function"==typeof this.schema?this.schema(this.columns):this.schema,caseSensitiveColumnNames:this.grid.resolveProperty("filterCaseSensitiveColumnNames"),resolveAliases:this.grid.resolveProperty("filterResolveAliases"),defaultColumnFilterOperator:this.grid.resolveProperty("filterDefaultColumnFilterOperator")});return t.loadColumnPropertiesFromSchema(this.columns),t},getGlobalFilter:function(){return this.dataModel.getGlobalFilter()},setGlobalFilter:function(t){this.dataModel.setGlobalFilter(t)},setGlobalFilterCaseSensitivity:function(t){this.dataModel.setGlobalFilterCaseSensitivity(t)},getFilter:function(t,e){return this.dataModel.getFilter(t,e)},setFilter:function(t,e,i){this.dataModel.setFilter(t,e,i)},getFilters:function(t){return this.dataModel.getFilters(t)},setFilters:function(t,e){this.dataModel.setFilters(t,e)},getTableFilter:function(t){return this.dataModel.getTableFilter(t)},setTableFilter:function(t,e){this.dataModel.setTableFilter(t,e)},getSelectedRows:function(){return this.grid.selectionModel.getSelectedRows()},getSelectedColumns:function(){return this.grid.selectionModel.getSelectedColumns()},getSelections:function(){return this.grid.selectionModel.getSelections()},getData:function(){return this.dataModel.getData()},getFilteredData:function(){return this.dataModel.getFilteredData()}});e.exports=c},{"../dialogs":96,"../filter/DefaultFilter":116,"../lib/Base":118,"./Column":62,"object-iterators":51}],62:[function(t,e,i){"use strict";function n(t,e){this.behavior=t,this.dataModel=t.dataModel,this.cellProperties=[];var i="object"==typeof e?e:{index:e},n=i.index;switch(n){case-1:this.index=n,this.name="",this.header="";break;case-2:this.index=n,this.name="tree",this.header="Tree";break;default:if(n<0)throw"`index` out of range";this.set(i)}}var o=t("object-iterators"),r=["index","name","header","calculator","type"];n.prototype={constructor:n.prototype.constructor,set:function(t){var e=this.dataModel.getFields(),i=this;r.forEach(function(n){if(n in t&&(i[n]=t[n]),"name"===n){if(void 0===i.name?i.name=e[i.index]:void 0===i.index&&(i.index=e.indexOf(i.name)),void 0===i.index||void 0===i.name)throw"Expected column name or index.";if(e[i.index]!==i.name)throw"Expected to find `column.name` in position `column.index` in data model's fields list."}})},set header(t){this.dataModel.getHeaders()[this.index]=this._header=t},get header(){return this._header},set calculator(t){var e=this.name,i=this.behavior.grid.getGlobalFilter();if(i&&i.schema){var n=i.schema.find(function(t){return t.name===e});n&&(t?n.calculator=t:n.calculator&&delete n.calculator)}this.dataModel.getCalculators()[this.index]=this._calculator=t},get calculator(){return this._calculator},getUnfilteredValue:function(t){return this.dataModel.getUnfilteredValue(this.index,t)},getValue:function(t){return this.dataModel.getValue(this.index,t)},setValue:function(t,e){return this.dataModel.setValue(this.index,t,e)},getWidth:function(){var t=this.getProperties();return t&&t.width||this.behavior.resolveProperty("defaultColumnWidth")},setWidth:function(t){this.getProperties().width=Math.max(5,t)},getCellRenderer:function(t,e,i){t.untranslatedX=e,t.y=i,t.x=this.index,t.normalizedY=i-this.behavior.getHeaderRowCount();var n=this.getCellProperties(i).renderer||this.getProperties().renderer,o=this.dataModel.getCell(t,n);return o.config=t,o},getCellProperties:function(t){return t=this.dataModel.getDataIndex(t),this.cellProperties[t]||{}},setCellProperties:function(t,e){this.cellProperties[t]=e},clearAllCellProperties:function(){this.cellProperties.length=0},checkColumnAutosizing:function(t){var e,i,n,o,r=this.getProperties();return r&&(e=r.width,i=r.preferredWidth||e,n=r.columnAutosized&&!t,e===i&&n||(r.width=n?Math.max(e,i):i,r.columnAutosized=!isNaN(r.width),o=r.width!==e)),o},getCellType:function(t){var e=this.getValue(t),i=this.typeOf(e);return i},getType:function(){var t=this.getProperties(),e=t.type;return e||(e=this.computeColumnType(),"unknown"!==e&&(t.type=e)),e},computeColumnType:function(){var t=this.behavior.getHeaderRowCount(),e=this.behavior.getRowCount(),i=this.getValue(t),n=this.typeOf(i);if(!n)return"unknown";for(var o=this.typeOf(i),r="number"==typeof i,s=t;s<e;s++)if(i=this.getValue(s),n=this.typeOf(i),o!==n){if(!r||"number"!=typeof i)return"mixed";o="float"}return o},typeOf:function(t){if(null==t)return null;var e=typeof t;switch(e){case"object":return t.constructor.name.toLowerCase();case"number":return parseInt(t)===t?"int":"float";default:return e}},getProperties:function(){return this.behavior.getPrivateState().columnProperties[this.index]},setProperties:function(t){var e=this.getProperties();this.clearObjectProperties(e,!1),o(e).extendOwn(t)},toggleSort:function(t){this.dataModel.toggleSort(this.index,t)},unSort:function(t){this.dataModel.unSortColumn(this.index,t)},getCellEditorAt:function(t,e){var i,n=this.getCellProperties(t),o=this.getProperties(),r=n.editor||o.editor;return e.format=n.format||o.format,i=this.dataModel.getCellEditorAt(this.index,t,r,e),i&&!i.grid&&(i=void 0),i},getFormatter:function(){var t=this.getProperties().format;return this.behavior.grid.localization.get(t).format}},e.exports=n},{"object-iterators":51}],63:[function(t,e,i){"use strict";function n(){return new a(this.columns).schema}function o(t,e){var i=!1;return t.forEach(function(t){for(var n,o=0;o<e.length;){if(n=e[o].index+1,n===t){e[o].unSort(),i=!0;break}o++}}),i}var r=t("./Local"),s=t("../dataModels/JSON"),a=t("../filter/ColumnSchemaFactory"),l=t("../features"),u=r.extend("behaviors.JSON",{initialize:function(t,e,i){this.setData(e,i)},features:[l.CellSelection,l.KeyPaging,l.ColumnPicker,l.ColumnResizing,l.RowResizing,l.Filters,l.RowSelection,l.ColumnSelection,l.ColumnMoving,l.ColumnSorting,l.CellClick,l.CellEditing,l.OnHover],createColumns:function(){var t=this.dataModel,e=t.getColumnCount(),i=t.getHeaders(),n=t.getFields(),o=t.getCalculators(),r=/([^_A-Z])([A-Z]+)/g;this.clearColumns();for(var s=0;s<e;s++){var a=i[s],l=o[s],u=this.addColumn({index:s,header:a,calculator:l});this.columnEnum[u.name.replace(r,"$1_$2").toUpperCase()]=s;var c=u.getProperties();c.field=n[s],c.header=a,c.complexFilter=null,l&&(c.calculator=l)}},getNewDataModel:function(){return new s(this.grid)},setHeaders:function(t){if(t instanceof Array){var e=this.allColumns;t.forEach(function(t,i){e[i].header=t})}else"object"==typeof t&&this.allColumns.forEach(function(e){t[e.name]&&(e.header=t[e.name])})},setFields:function(t){this.dataModel.setFields(t),this.createColumns()},setData:function(t,e){var i=this,o=this.grid,r=e&&e.fields,s=e&&e.calculators;r="function"==typeof r?r():r,s="function"==typeof s?s():s,t="function"==typeof t?t():t,this.dataModel.setData(t,r,s),this.createColumns(),this.schema=e&&e.schema||n,this.setGlobalFilter(this.getNewFilter()),o.cellEditor&&o.cellEditor.cancelEditing(),t=t||this.dataModel.source.data,o.isColumnAutosizing()?(setTimeout(function(){i.autosizeAllColumns()},100),o.allowEvents(t.length)):setTimeout(function(){i.getColumn(-1).checkColumnAutosizing(!0),o.allowEvents(t.length)})},setTopTotals:function(t){this.dataModel.setTopTotals(t)},getTopTotals:function(){return this.dataModel.getTopTotals()},setBottomTotals:function(t){this.dataModel.setBottomTotals(t)},getBottomTotals:function(){return this.dataModel.getBottomTotals()},setColumns:function(t){this.dataModel.setColumns(t)},enhanceDoubleClickEvent:function(t){t.row=this.getRow(t.gridCell.y)},setDataProvider:function(t){this.dataModel.setDataProvider(t)},hasHierarchyColumn:function(){return this.dataModel.hasHierarchyColumn()},getColumnAlignment:function(t){var e;return e=t===-1?"right":0===t&&this.hasHierarchyColumn()?"left":this.getColumnProperties(t).halign},getHiddenColumns:function(){return this.dataModel.getHiddenColumns()},getActiveColumns:function(){return this.dataModel.getActiveColumns()},getVisibleColumns:function(){return this.deprecated("getVisibleColumns()","getActiveColumns()","1.0.6",arguments)},getSelectedRows:function(){var t=-this.grid.getHeaderRowCount(),e=this.grid.selectionModel.getSelectedRows(),i=e.map(function(e){return e+t});return i},getSelectedColumns:function(){return this.grid.selectionModel.getSelectedColumns()},getSelections:function(){return this.grid.selectionModel.getSelections()},getSortedColumnIndexes:function(){return this.dataModel.getSortedColumnIndexes()},sortChanged:function(t){var e=o(this.getSortedColumnIndexes(),t||this.getHiddenColumns());e&&this.applyAnalytics()}});e.exports=u},{"../dataModels/JSON":90,"../features":114,"../filter/ColumnSchemaFactory":115,"./Local":64}],64:[function(t,e,i){"use strict";var n=t("./Behavior"),o=n.extend("Local",{});e.exports=o},{"./Behavior":61}],65:[function(t,e,i){"use strict";var n=t("./Behavior"),o=function(){},r=function(){return 0},s=n.extend("Null",{setScrollPositionY:o,setScrollPositionX:o,getActiveColumnCount:r,getFixedColumnCount:r,getFixedColumnsWidth:r,getFixedColumnsMaxWidth:r,setRenderedWidth:r,getRowCount:r,getFixedRowCount:r,getFixedRowsHeight:r,getFixedRowsMaxHeight:r,setRenderedHeight:r,getCellProvider:o,click:o,doubleClick:o});e.exports=s},{"./Behavior":61}],66:[function(t,e,i){"use strict";e.exports={Behavior:t("./Behavior"),JSON:t("./JSON"),Null:t("./Null")}},{"./Behavior":61,"./JSON":63,"./Null":65}],67:[function(t,e,i){"use strict";function n(){}function o(t){return t+"px"}var r=t("mustache"),s=t("object-iterators"),a=t("../lib/Base"),l=t("../lib/effects"),u=t("../lib/Localization"),c=a.extend("CellEditor",{initialize:function(t,e){for(var i in e)e.hasOwnProperty(i)&&null!==this[i]&&(this[i]=e[i]);var n=t.behavior.getValue(this.editPoint.x,this.editPoint.y);n instanceof Array&&(n=n[1]),this.grid=t,this.grid.cellEditor=this,this.locale=t.localization.locale,this.format&&(this.localizer=this.grid.localization.get(this.format)),this.initialValue=n;var o=document.createElement("DIV");o.innerHTML=r.render(this.template,this),this.el=o.firstChild,this.input=this.el,this.errors=0;var s=this;this.el.addEventListener("keyup",this.keyup.bind(this)),this.el.addEventListener("keydown",function(e){t.fireSyntheticEditorKeyDownEvent(s,e)}),this.el.addEventListener("keypress",function(e){t.fireSyntheticEditorKeyPressEvent(s,e)}),this.el.onblur=function(t){s.cancelEditing()}},localizer:u.prototype["null"],specialKeyups:{9:"stopEditing",13:"stopEditing",27:"cancelEditing"},keyup:function(t){if(t){var e=this.specialKeyups[t.keyCode];e&&(t.preventDefault(),this[e](3)&&(this.grid.repaint(),this.grid.takeFocus())),this.grid.fireSyntheticEditorKeyUpEvent(this,t)}},checkEditorPositionFlag:!1,gridRenderedNotification:function(){this.checkEditor()},scrollValueChangedNotification:function(){this.checkEditorPositionFlag=!0},moveEditor:function(){var t=this.grid._getBoundsOfCell(this.editPoint.x,this.editPoint.y),e=this.grid.div.getBoundingClientRect().left-this.grid.divCanvas.getBoundingClientRect().left;t.x-=e,this.setBounds(t)},beginEditing:function(){this.grid.fireRequestCellEdit(this.editPoint,this.initialValue)&&(this.checkEditorPositionFlag=!0,this.checkEditor())},beginEditAt:function(t,e){return this.deprecated("beginEditAt(point)","beginEditing()","1.0.6")},setEditorValue:function(t){this.input.value=this.localizer.format(t)},showEditor:function(){this.el.style.display="inline"},hideEditor:function(){this.el.style.display="none"},stopEditing:function(t){var e=this.validateEditorValue();if(!e)try{var i=this.getEditorValue()}catch(n){e=n}if(!e&&this.grid.fireSyntheticEditorDataChangeEvent(this,this.initialValue,i))try{this.saveEditorValue(i)}catch(n){e=n}if(e)if(t>=0){var o=this.editPoint;this.grid.selectViewportCell(o.x,o.y-this.grid.getHeaderRowCount()),this.errorEffectBegin(++this.errors%t===0&&e)}else this.cancelEditing();else this.hideEditor(),this.grid.cellEditor=null,this.el.remove();return!e},cancelEditing:function(){return this.grid.cellEditor&&(this.setEditorValue(this.initialValue),this.hideEditor(),this.grid.cellEditor=null,this.el.remove()),!0},errorEffectBegin:function(t){var e={callback:t&&this.errorEffectEnd.bind(this,t)},i=this.errorEffect;if("string"==typeof i&&(i=this.errorEffects[i]),"object"==typeof i&&(s(e).extendOwn(i.options),i=i.effector),"function"!=typeof i)throw"Expected `this.errorEffect` to resolve to an error effect function.";i.call(this,e)},errorEffectEnd:function(t){if(t){var e='Invalid value. To resolve, do one of the following:\n\n   * Correct the error and try again.\n         - or -\n   * Cancel editing by pressing the "esc" (escape) key.';t=t.message||t,"string"!=typeof t&&(t=""),this.localizer.expectation&&(t=t?t+"\n"+this.localizer.expectation:this.localizer.expectation),t&&(/[\n\r]/.test(t)&&(t="\n"+t,t=t.replace(/[\n\r]+/g,"\n\n   * ")),e+="\n\nAdditional information about this error: "+t),alert(e)}},errorEffect:"shaker",errorEffects:{shaker:l.shaker,glower:l.glower},saveEditorValue:function(t){var e=this.editPoint;t&&t===this.initialValue||!this.grid.fireBeforeCellEdit(e,this.initialValue,t,this)||(this.grid.behavior.setValue(e.x,e.y,t),this.grid.fireAfterCellEdit(e,this.initialValue,t,this))},getEditorValue:function(){return this.localizer.parse(this.input.value)},validateEditorValue:function(){return this.localizer.invalid&&this.localizer.invalid(this.input.value)},takeFocus:function(){var t=this.el,e=t.style.left,i=t.style.top;t.style.left=t.style.top=0,this.input.focus(),this.selectAll(),t.style.left=e,t.style.top=i},selectAll:n,setBounds:function(t){var e=this.el;e.style.position="absolute",e.style.left=o(t.x-1),e.style.top=o(t.y-1),e.style.width=o(t.width+2),e.style.height=o(t.height+2)},checkEditor:function(){this.checkEditorPositionFlag&&(this.checkEditorPositionFlag=!1,this.grid.isDataVisible(this.editPoint.x,this.editPoint.y)?(this.setEditorValue(this.initialValue),this.attachEditor(),this.moveEditor(),this.showEditor(),this.takeFocus()):this.hideEditor())},attachEditor:function(){var t=this.el,e=this.grid.div,i=e.querySelectorAll(".finbar-horizontal, .finbar-vertical");e.insertBefore(t,i.length?i[0]:null)},template:""});c["abstract"]=!0,e.exports=c},{"../lib/Base":118,"../lib/Localization":119,"../lib/effects":124,mustache:50,"object-iterators":51}],68:[function(t,e,i){"use strict";var n=t("./CellEditor"),o=n.extend("Color",{template:'<input type="color" lang="{{locale}}" style="{{style}}">'});e.exports=o},{"./CellEditor":67}],69:[function(t,e,i){"use strict";function n(t){var e=t.target;if("SPAN"===e.tagName){var i=Array.prototype.find.call(e.classList,function(t){return 0===t.indexOf(h)}),n=i.substr(h.length),r=this.menuModes[n]^=1;o.call(this,e,n,r)}}function o(t,e,i){var n,o,r,s,a=this.modes.find(function(t){return t.name===e});t.classList.toggle("active",!!i),i?(n=this.el.style,n.cursor="progress",setTimeout(function(){n.cursor=null},333),a.selector?(o=this.dropdown.querySelector(a.selector),r=a.appendOptions.call(this,o),o.label=o.label.replace(/ \(\d+\)$/,""),o.label+=" ("+r+")"):(r=a.appendOptions.call(this,this.dropdown),this.controllable||(t.textContent=r+" values")),s=null):s="none",c.each(a.selector||":scope>option,:scope>optgroup:not([class])",function(t){t.style.display=s},this.dropdown)}function r(){this.selectionStart=this.input.selectionStart,this.selectionEnd=this.input.selectionEnd,this.dropdown.selectedIndex=-1,this.dropdown.style.scrollTop=0,this.options.style.visibility="visible";var t=15*this.dropdown.size;this.options.style.height=17+t+2+"px",this.input.addEventListener("mousedown",this.slideUpBound=s.bind(this)),this.optionsTransition.begin()}function s(){this.input.removeEventListener("mousedown",this.slideUpBound),this.options.style.height=0,this.optionsTransition.begin(function(t){this.style.visibility="hidden"})}var a=t("./Textfield"),l=t("./CellEditor").prototype,u=t("../lib/queueless"),c=t("../lib/elfor"),h="toggle-mode-",d={hidden:r,visible:s},g=a.extend("ComboBox",{initialize:function(){var t=this.el;this.input=t.querySelector("input"),this.dropper=t.querySelector("span"),this.options=t.querySelector("div"),this.controls=this.options.querySelector("div"),this.dropdown=this.options.querySelector("select"),this.controllable=this.modes.length>1,this.optionsTransition=new u(this.options,this),this.menuModesSource=this.column.menuModes||{distinctValues:!0},this.dropper.addEventListener("mousedown",this.toggleDropDown.bind(this)),this.dropdown.addEventListener("mousewheel",function(t){t.stopPropagation()}),this.dropdown.addEventListener("change",this.insertText.bind(this)),t.onblur=null},template:['<div class="hypergrid-input" title="">','    <input type="text" lang="{{locale}}" style="{{style}}">','    <span title="Click for options"></span>',"    <div>","        <div></div>",'        <select size="12" lang="{{locale}}"></select>',"    </div>","</div>"].join("\n"),modes:[{name:"distinctValues",appendOptions:function(t){var e={},i=[],n=this.column.name,o=this.column.getFormatter();this.grid.behavior.getData().forEach(function(t){var i=o(t[n]);e[i]=(e[i]||0)+1});for(var r in e)i.push(r);for(;t.firstElementChild;)t.firstElementChild.remove();return i.sort().forEach(function(i){var n=new Option(i+" ("+e[i]+")",i);t.appendChild(n)}),i.length}}],showEditor:function(){var t=this.menuModesSource,e=this.menuModes={};this.modes.forEach(function(i){var n=i.name;n in t&&(e[n]=t[n])}),this.controllable&&this.controls.addEventListener("click",n.bind(this)),this.modes.forEach(function(t){var i=document.createElement("span");if(this.controllable&&(i.className=h+t.name,i.title="Toggle "+(t.label||t.name).toLowerCase(),i.textContent=t.symbol),this.controls.appendChild(i),t.selector){var n=document.createElement("optgroup");n.label=t.label,n.className="submenu-"+t.name,n.style.backgroundColor=t.backgroundColor,this.dropdown.add(n)}o.call(this,i,t.name,e[t.name])}.bind(this)),l.showEditor.call(this)},hideEditor:function(){l.hideEditor.call(this)},toggleDropDown:function(){if(!this.optionsTransition.transitioning){var t=window.getComputedStyle(this.dropdown).visibility;d[t].call(this)}},insertText:function(t){this.input.focus(),this.input.value=this.dropdown.value,this.input.setSelectionRange(0,this.input.value.length),this.toggleDropDown()}});e.exports=g},{"../lib/elfor":125,"../lib/queueless":128,"./CellEditor":67,"./Textfield":75}],70:[function(t,e,i){"use strict";var n=t("./CellEditor"),o=window.chrome,r=window.navigator,s=r.vendor,a=r.userAgent.indexOf("OPR")>-1,l=r.userAgent.indexOf("Edge")>-1,u=r.userAgent.match("CriOS"),c=!u&&null!==o&&void 0!==o&&"Google Inc."===s&&0==a&&0==l,h=n.extend("Date",{initialize:function(t){var e,i=c;i?(e="chromeDate",this.template='<input type="date">'):(e="date",this.template='<input type="text">',this.selectAll=function(){var t=this.getEditorValue().length;this.input.setSelectionRange(0,t)}),this.localizer=t.localization.get(e)}});e.exports=h},{"./CellEditor":67}],71:[function(t,e,i){"use strict";var n=t("pop-menu"),o=t("../Shared").FilterTree.Conditionals,r=t("./ComboBox"),s=t("./CellEditor").prototype,a=r.extend("FilterBox",{initialize:function(){var t=this.grid.getGlobalFilter(),e=this.column.name,i=t.columnFilters,n=t.getColumnFilter(e)||{},o=t.schema.lookup(e)||{};this.opMenu=o.opMenu||t.typeOpMap&&t.typeOpMap[o.type||n.type]||t.opMenu,this.menuModesSource=this.column.menuModes||n.menuModes||n.menuModes||o.menuModes||i.menuModes},modes:[{name:"operators",symbol:"<",appendOptions:function(t){if(!t.length){n.build(t,this.opMenu,{group:function(t){return o.groups[t]},prompt:null});var e=document.createElement("optgroup");e.label="Conjunctions",e.appendChild(new Option("and"," and ")),e.appendChild(new Option("or"," or ")),e.appendChild(new Option("nor"," nor "))}}},{name:"columnNames",label:"Column Names",selector:"optgroup.submenu-columnNames",symbol:"A",backgroundColor:"#eff",appendOptions:function(t){for(var e=this.grid.behavior.columns,i=this.editPoint.x;t.firstElementChild;)t.firstElementChild.remove();return e.forEach(function(e,n){if(n!==i){var o=e.name,r=new Option(o);r.title="["+o+']\r"'+e.header+'"',t.appendChild(r)}}),e.length}},{name:"distinctValues",label:"Distinct Values",selector:"optgroup.submenu-distinctValues",symbol:"#",backgroundColor:"#fef",appendOptions:r.prototype.modes[0].appendOptions}],hideEditor:function(){var t=this.grid.getGlobalFilter(),e=this.column.name,i=t.getColumnFilter(e);i&&(i.menuModes=this.menuModes),this.column.menuModes=this.menuModes,r.prototype.hideEditor.call(this)},keyup:function(t){t&&(s.keyup.call(this,t),"immediate"===this.grid.resolveProperty("filteringMode")&&(this.saveEditorValue(this.getEditorValue()),this.moveEditor()))},insertText:function(t){var e=this.selectionStart,i=this.selectionEnd,n=this.dropdown,o=n.value,r=n.options[n.selectedIndex],s=r.parentElement,a=!("OPTGROUP"===s.tagName&&s.className);if(this.input.focus(),e===i&&a){var l=this.grid.getGlobalFilter().parserCQL,u=this.input.value,c=l.getOperatorPosition(u,this.selectionStart,o);e=c.start,i=c.end,e>0&&!/\s/.test(u[e-1])&&(o=" "+o),i!==u.length&&/\s/.test(u[i])||(o+=" ")}this.input.setRangeText(o,e,i,"end"),this.toggleDropDown()}});e.exports=a},{"../Shared":60,"./CellEditor":67,"./ComboBox":69,"pop-menu":52}],72:[function(t,e,i){"use strict";var n=t("./Textfield"),o=n.extend("Number",{initialize:function(t){this.localizer=t.localization.get("number")}});e.exports=o},{"./Textfield":75}],73:[function(t,e,i){"use strict";var n=t("./CellEditor"),o=n.extend("Slider",{template:'<input type="range" lang="{{locale}}" style="{{style}}">'});e.exports=o},{"./CellEditor":67}],74:[function(t,e,i){"use strict";var n=t("./CellEditor.js"),o=n.extend("Spinner",{template:'<input type="number" lang="{{locale}}" style="{{style}}">'});e.exports=o},{"./CellEditor.js":67}],75:[function(t,e,i){"use strict";var n=t("./CellEditor.js"),o=t("../lib/Localization"),r=n.extend("Textfield",{template:'<input type="text" lang="{{locale}}" style="{{style}}">',localizer:o.prototype.string,selectAll:function(){var t=this.getEditorValue().length;this.input.setSelectionRange(0,t)}});e.exports=r},{"../lib/Localization":119,"./CellEditor.js":67}],76:[function(t,e,i){"use strict";function n(e,i){this.grid=e,i&&(this.editors={}),!i&&this.get("celleditor")||(this.add(t("./CellEditor")),this.add(t("./ComboBox")),this.add(t("./Color")),this.add(t("./Date")),this.add(t("./FilterBox")),this.add(t("./Number")),this.add(t("./Slider")),this.add(t("./Spinner")),this.add(t("./Textfield")))}n.prototype={constructor:n.prototype.constructor,add:function(t,e){return"function"==typeof t&&(e=t,t=void 0),t=t||e.prototype.$$CLASS_NAME,t=t&&t.toLowerCase(),this.editors[t]=e,e},addSynonym:function(t,e){var i=this.get(e);return this.editors[t]=i},get:function(t){return this.editors[t&&t.toLowerCase()]},create:function(t,e){var i,n=this.get(t);if(n){if(n["abstract"])throw'Attempt to instantiate an "abstract" cell editor class.';i=new n(this.grid,e)}return i},editors:{}},e.exports=n},{"./CellEditor":67,"./Color":68,"./ComboBox":69,"./Date":70,"./FilterBox":71,"./Number":72,"./Slider":73,"./Spinner":74,"./Textfield":75}],77:[function(t,e,i){"use strict";var n=t("./CellRenderer"),o=n.extend("Button",{paint:function(t,e){var i=e.value,n=e.x,o=e.y,r=e.bounds,s=r.x+2,a=r.y+2,l=r.width-3,u=r.height-3,c=u/2,h=t.createLinearGradient(s,a,s,a+u);e.mouseDown?(h.addColorStop(0,"#B5CBED"),h.addColorStop(1,"#4d74ea")):(h.addColorStop(0,"#ffffff"),h.addColorStop(1,"#aaaaaa")),t.fillStyle=h,t.strokeStyle="#000000",this.roundRect(t,s,a,l,u,c,h,!0);var d=(l-e.getTextWidth(t,i))/2,g=(u-e.getTextHeight(t.font).descent)/2;"middle"!==t.textBaseline&&(t.textBaseline="middle"),t.fillStyle="#000000",e.backgroundColor="rgba(0,0,0,0)",t.fillText(i,s+d,a+g),e.buttonCells[n+","+o]=!0}});e.exports=o},{"./CellRenderer":78}],78:[function(t,e,i){"use strict";var n=t("./../lib/Base"),o=n.extend("CellRenderer",{paint:function(t,e){},roundRect:function(t,e,i,n,o,r,s,a){a||(a=!0),r||(r=5),t.beginPath(),t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.quadraticCurveTo(e+n,i,e+n,i+r),t.lineTo(e+n,i+o-r),t.quadraticCurveTo(e+n,i+o,e+n-r,i+o),t.lineTo(e+r,i+o),t.quadraticCurveTo(e,i+o,e,i+o-r),t.lineTo(e,i+r),t.quadraticCurveTo(e,i,e+r,i),t.closePath(),a&&t.stroke(),s&&t.fill(),t.closePath()}});o["abstract"]=!0,e.exports=o},{"./../lib/Base":118}],79:[function(t,e,i){"use strict";var n=t("./CellRenderer"),o=n.extend("ErrorCell",{paint:function(t,e,i){var n=e.bounds.x,o=e.bounds.y,r=e.bounds.width,s=e.bounds.height;t.fillStyle="#FFD500",t.fill(),t.lineWidth=5,t.beginPath(),t.moveTo(n,o),t.lineTo(n+r,o),t.lineTo(n+r,o+s),t.lineTo(n,o+s),t.lineTo(n,o),t.stroke(),t.beginPath(),t.rect(n,o,r-2,s),t.clip(),t.fillStyle="#A00",t.textAlign="start",t.textBaseline="middle",t.font='bold 6pt "arial narrow", verdana, geneva',t.fillText(i,n+4,o+s/2+.5)}});e.exports=o},{"./CellRenderer":78}],80:[function(t,e,i){"use strict";var n=t("./CellRenderer"),o=n.extend("LastSelection",{paint:function(t,e){var i=e.bounds.x,n=e.bounds.y,o=e.bounds.width,r=e.bounds.height;t.rect(i,n,o,r),t.fillStyle=e.selectionRegionOverlayColor,t.fill(),t.lineWidth=1,t.strokeStyle=e.selectionRegionOutlineColor,t.stroke()}});e.exports=o},{"./CellRenderer":78}],81:[function(t,e,i){"use strict";function n(t,e,i,n){return o(t,e,r(i).split(" "),n)}function o(t,e,i,n){if(1===i.length)return i;for(var r,s=[i.shift()];(r=e.getTextWidth(t,s.join(" "))<n)&&i.length;)s.push(i.shift());return!r&&s.length>1&&i.unshift(s.pop()),s=[s.join(" ")],i.length&&(s=s.concat(o(t,e,i,n))),s}function r(t){return(t+"").trim().replace(/\s\s+/g," ")}function s(t,e,i,n,o,r){var s=t.getTextHeight(t.font),a=t.getTextWidth(e,i);switch(o-=.4*s.height,e.textAlign){case"center":n-=a/2;break;case"right":n-=a}e.lineWidth=r,e.moveTo(n+.5,o+.5),e.lineTo(n+a+.5,o+.5)}function a(t,e,i,n,o,r){var s=t.getTextWidth(e,i);switch(e.textAlign){case"center":n-=s/2;break;case"right":n-=s}e.lineWidth=r,e.moveTo(n+.5,o+.5),e.lineTo(n+s+.5,o+.5)}function l(t,e,i,n,o,r){e.forEach(function(e){t.fillStyle=e,t.fillRect(i,n,o,r)})}function u(t,e,i){var n=t;return e.isGridColumn&&e.isGridRow&&e.dataRow&&(i="f"===(typeof t)[0]&&t||i,i&&(n=i(e.dataRow,e.columnName))),n||0===n||n===!1?n:""}function c(t){if(void 0===t)return 0;var e=t.match(c.regex);if(null===e)return 1;var i=e[4];return void 0===i?0:Number(i)}var h=t("./CellRenderer"),d=h.extend("SimpleCell",{paint:function(t,e){var i,n,o,r,s,a,h=e.value,d=e.bounds.x,g=e.bounds.y,f=e.bounds.width,p=e.bounds.height,m=e.headerTextWrapping,v=2,C=0===e.y;h&&h.constructor===Array&&(i=h[0],n=h[2],h=h[1],h&&"object"==typeof h&&"HTMLImageElement"===h.constructor.name&&(o=h,h=null),i&&"IMG"!==i.nodeName&&(i=null),n&&"IMG"!==n.nodeName&&(n=null),o&&"IMG"!==o.nodeName&&(o=null)),h=u(h,e,e.calculator),h=e.formatValue(h),a=e.isSelected?e.foregroundSelectionFont:e.font,t.font!==a&&(t.font=a),"left"!==t.textAlign&&(t.textAlign="left"),"middle"!==t.textBaseline&&(t.textBaseline="middle");var b,y,w,x,S=[];e.isCellHovered&&e.hoverCellHighlight.enabled?w=e.hoverCellHighlight.backgroundColor:e.isRowHovered&&(y=e.hoverRowHighlight).enabled?w=e.isGridColumn||!y.header||void 0===y.header.backgroundColor?y.backgroundColor:y.header.backgroundColor:e.isColumnHovered&&(y=e.hoverColumnHighlight).enabled&&(w=e.isGridRow||!y.header||void 0===y.header.backgroundColor?y.backgroundColor:y.header.backgroundColor),c(w)<1&&(e.isSelected&&(x=u(e.backgroundSelectionColor,e)),c(x)<1&&(b=u(e.backgroundColor,e),c(b)>0&&S.push(b)),void 0!==x&&S.push(x)),void 0!==w&&S.push(w),l(t,S,d,g,f,p);var E=u(e.isSelected?e.foregroundSelectionColor:e.color,e);t.fillStyle!==E&&(t.fillStyle=E,t.strokeStyle=E),C&&m?this.renderMultiLineText(t,e,h):this.renderSingleLineText(t,e,h);var A=0;if(i&&(s=Math.round((p-i.height)/2),t.drawImage(i,d+v,g+s),A=Math.max(i.width+2)),n&&f>1.75*p){s=Math.round((p-n.height)/2);var R=d+f-n.width;void 0!==b?l(t,S,R,g,n.width,p):t.clearRect(R,g,n.width,p),t.drawImage(n,R,g+s),A=Math.max(n.width+2)}o&&(s=Math.round((p-o.height)/2),r=Math.round((f-o.width)/2),t.drawImage(o,d+f-r-o.width,g+s),A=Math.max(o.width+2)),e.cellBorderThickness&&(t.beginPath(),t.rect(d,g,f,p),t.lineWidth=e.cellBorderThickness,t.strokeStyle=e.cellBorderStyle,t.stroke(),t.closePath()),e.minWidth=e.minWidth+2*A},renderMultiLineText:function(t,e,i){var o=e.bounds.x,s=e.bounds.y,a=e.bounds.width,l=e.bounds.height,u=n(t,e,i,a);if(1===u.length)return this.renderSingleLineText(t,e,r(i));var c=e.cellPadding,h=0,d=e.voffset,g=e.halign,f=e.getTextHeight(e.font).height;switch(g){case"right":h=a-c;break;case"center":h=a/2;break;case"left":h=c}var p=0,m=Math.ceil(f/2);d+=Math.ceil((l-(u.length-1)*f)/2),h=Math.max(p,h),d=Math.max(m,d),t.save(),t.beginPath(),t.rect(o,s,a,l),t.clip(),t.textAlign=g;for(var v=0;v<u.length;v++)t.fillText(u[v],o+h,s+d+v*f);t.restore()},renderSingleLineText:function(t,e,i){var n=e.bounds.x,o=e.bounds.y,r=e.bounds.width,l=e.bounds.height,u=e.cellPadding,c=0,h=e.voffset,d=e.halign,g=e.isCellHovered,f=e.link,p=e.getTextHeight(e.font),m=e.getTextWidth(t,i);switch(e.minWidth=m+2*u,d){case"right":c=r-u-m;break;case"center":c=(r-m)/2;break;case"left":c=u}c=Math.max(0,c),h+=Math.ceil(l/2),null!==i&&t.fillText(i,n+c,o+h),g&&(t.beginPath(),f&&(a(e,t,i,n+c,o+h+Math.floor(p.height/2),1),t.stroke()),t.closePath()),e.strikeThrough===!0&&(t.beginPath(),s(e,t,i,n+c,o+h+Math.floor(p.height/2),1),t.stroke(),t.closePath())}});c.regex=/^(transparent|((RGB|HSL)A\(.*,\s*([\d\.]+)\)))$/i,e.exports=d},{"./CellRenderer":78}],82:[function(t,e,i){"use strict";var n=t("./CellRenderer"),o=n.extend("Slider",{paint:function(t,e){var i=e.bounds.x,n=e.bounds.y,o=e.bounds.width,r=e.bounds.height;t.strokeStyle="white";var s=this.config.value,a=r/2,l=o*s,u=this.config.isSelected?this.config.backgroundColor:"#333333",c=t.createLinearGradient(i,n,i,n+r);c.addColorStop(0,u),c.addColorStop(1,"#666666");var h=t.createLinearGradient(i,n,i,n+r);h.addColorStop(0,"#aaaaaa"),h.addColorStop(1,"#777777"),t.fillStyle=c,this.roundRect(t,i,n,o,r,a,c),s<1?t.fillStyle=h:t.fillStyle="#eeeeee",t.beginPath(),t.arc(i+Math.max(l-a,a),n+a,a,0,2*Math.PI),t.fill(),t.closePath(),this.config.minWidth=100}});e.exports=o},{"./CellRenderer":78}],83:[function(t,e,i){"use strict";var n=t("./CellRenderer"),o=n.extend("SparkBar",{paint:function(t,e){var i=e.bounds.x,n=e.bounds.y,o=e.bounds.width,r=e.bounds.height;t.beginPath();var s=this.config.value;if(s&&s.length){var a=s.length,l=o/a,u=this.config.isSelected?this.config.foregroundSelectionColor:this.config.color;(this.config.backgroundColor||this.config.isSelected)&&(t.fillStyle=this.config.isSelected?"blue":this.config.backgroundColor,t.fillRect(i,n,o,r)),t.fillStyle=u;for(var c=0;c<s.length;c++){var h=s[c]/110*r;t.fillRect(i+5,n+r-h,.6666*l,h),i+=l}t.closePath(),this.config.minWidth=10*a}}});e.exports=o},{"./CellRenderer":78}],84:[function(t,e,i){"use strict";var n=t("./CellRenderer"),o=n.extend("SparkLine",{paint:function(t,e){var i=e.bounds.x,n=e.bounds.y,o=e.bounds.width,r=e.bounds.height;t.beginPath();var s=this.config.value;if(s&&s.length){var a=s.length,l=o/a,u=this.config.isSelected?this.config.foregroundSelectionColor:this.config.color;(this.config.backgroundColor||this.config.isSelected)&&(t.fillStyle=this.config.isSelected?this.config.backgroundSelectionColor:this.config.backgroundColor,t.fillRect(i,n,o,r)),t.strokeStyle=u,t.fillStyle=u,t.beginPath();for(var c,h=0;h<s.length;h++){var d=s[h]/110*r;c||(c=d),t.lineTo(i+5,n+r-d),t.arc(i+5,n+r-d,1,0,2*Math.PI,!1),i+=l}this.config.minWidth=10*a,t.stroke(),t.closePath()}}});e.exports=o},{"./CellRenderer":78}],85:[function(t,e,i){"use strict";var n=t("./CellRenderer"),o=n.extend("TreeCell",{paint:function(t,e){var i=e.bounds.x,n=e.bounds.y,o=e.bounds.width,r=e.bounds.height,s=this.config.value.data,a=this.config.value.indent,l=this.config.value.icon;if((this.config.backgroundColor||this.config.isSelected)&&(t.fillStyle=this.config.isSelected?this.config.backgroundColor:this.config.backgroundColor,t.fillRect(i,n,o,r)),s&&s.length){
var u=Math.ceil(r/2);t.fillStyle=this.config.isSelected?this.config.backgroundColor:this.config.backgroundColor,t.fillText(l+s,i+a,n+u);var c=this.config.getTextWidth(t,l+s),h=i+a+c+10;this.config.minWidth=h}}});e.exports=o},{"./CellRenderer":78}],86:[function(t,e,i){"use strict";function n(e){e&&(this.singletons={}),!e&&this.get("emptycell")||(this.add("EmptyCell",t("./CellRenderer")),this.add(t("./Button")),this.add(t("./SimpleCell")),this.add(t("./SliderCell")),this.add(t("./SparkBar")),this.add(t("./LastSelection")),this.add(t("./SparkLine")),this.add(t("./ErrorCell")),this.add(t("./TreeCell")))}n.prototype={constructor:n.prototype.constructor,add:function(t,e){return"function"==typeof t&&(e=t,t=void 0),t=t||e.prototype.$$CLASS_NAME,t=t&&t.toLowerCase(),this.singletons[t]=new e},addSynonym:function(t,e){var i=this.get(e);return this.singletons[t]=i},get:function(t){return this.singletons[t&&t.toLowerCase()]},singletons:{}},e.exports=n},{"./Button":77,"./CellRenderer":78,"./ErrorCell":79,"./LastSelection":80,"./SimpleCell":81,"./SliderCell":82,"./SparkBar":83,"./SparkLine":84,"./TreeCell":85}],87:[function(t,e,i){"use strict";var n=t("../lib/Base"),o="A".charCodeAt(0),r=n.extend("DataModel",{next:null,grid:null,initialize:function(t){this.grid=t},changed:function(){this.grid.behavior.changed()},getPrivateState:function(){return this.grid.getPrivateState()},applyState:function(){},alphaFor:function(t){var e=Math.floor(t/26),i=t%26,n="";return e>0&&(n+=this.alpha(e-1)),n+=this.alpha(i)},alpha:function(t){return String.fromCharCode(o+t)},getCell:function(t,e){return this.grid.cellRenderers.get(e)},getCellEditorAt:function(t,e,i,n){return this.grid.cellEditors.create(i,n)}});e.exports=r},{"../lib/Base":118}],88:[function(t,e,i){"use strict";var n=t("./DataModel"),o=n.extend("Default",{dataUpdates:{},getValue:function(t,e){var i=this.dataUpdates["p_"+t+"_"+e];return i?i:0===t?0===e?"":e:0===e?this.alphaFor(t-1):t-1+", "+this.alpha((e-1)%26)},setValue:function(t,e,i){this.dataUpdates["p_"+t+"_"+e]=i},getColumnCount:function(){return 27},getRowCount:function(){return 53}});e.exports=o},{"./DataModel":87}],89:[function(t,e,i){"use strict";var n=t("./DataModel"),o=n.extend("InMemory",{dataUpdates:{},getValue:function(t,e){var i=this.dataUpdates["p_"+t+"_"+e];return i?i:0===t?0===e?"":e:0===e?this.alphaFor(t-1):t-1+", "+this.alpha((e-1)%26)},setValue:function(t,e,i){this.dataUpdates["p_"+t+"_"+e]=i},getColumnCount:function(){return 27},getRowCount:function(){return 53}});e.exports=o},{"./DataModel":87}],90:[function(t,e,i){"use strict";function n(){var t=this.selectedData,e=this.grid.selectionModel.hasRowSelections(),i=t.length||e;if(i)var n=this.getFilteredData();t.forEach(function(e,i){n.indexOf(e)>=0&&delete t[i]}),e&&this.grid.getSelectedRows().forEach(function(e){var i=n[e];t.indexOf(i)<0&&t.push(i)})}function o(){if(this.selectedData.length){var t=this.grid.selectionModel,e=this.grid.getHeaderRowCount(),i=this.getFilteredData();t.clearRowSelection(),this.selectedData.forEach(function(n){var o=i.indexOf(n);o>=0&&t.selectRow(e+o)})}}function r(t){return t=s[t].prototype.$$CLASS_NAME||t,t.replace(/^Data(Source|Node)/,"").toLowerCase()||"source"}var s=t("../Shared.js").analytics,a=t("./DataModel"),l=t("../../images"),u="▲",c="▼",h={isNullObject:function(){return!0},getFields:function(){return[]},getDataIndex:function(t){return 0},setFields:function(t){},getHeaders:function(){return[]},setHeaders:function(t){},getColumnCount:function(){return 0},getRowCount:function(){return 0},getTopTotals:function(){return[]},setTopTotals:function(){},getBottomTotals:function(){return[]},setBottomTotals:function(){},setData:function(t){},click:function(){},apply:function(){},getRow:function(){return null},getValue:function(t,e){return 0},setValue:function(t,e,i){},get:function(){return null},set:function(){},viewMakesSense:function(){return!1}},d=a.extend("dataModels.JSON",{resetSources:function(){this.sources={source:h,globalfilter:h},this.dataSource=void 0},topTotals:[],bottomTotals:[],initialize:function(){this.resetSources(),this.selectedData=[]},clearSelectedData:function(){this.selectedData.length=0},getDataSource:function(){return this.deprecated("getDataSource()","dataSource","1.0.7")},getGlobalFilterDataSource:function(){return this.sources.globalfilter},getData:function(){return this.source.data},getFilteredData:function(){for(var t=this.dataSource,e=t.getRowCount(),i=new Array(e),n=0;n<e;n++)i[n]=t.getRow(n);return i},getValue:function(t,e){var i,n=this.hasHierarchyColumn(),o=this.grid.getHeaderRowCount();return n?t===-2&&(t=0):this.isDrillDown()&&(t+=1),i=e<o?this.getHeaderRowValue(t,e):this.dataSource.getValue(t,e-o)},getDataIndex:function(t){return this.dataSource.getDataIndex(t-this.grid.getHeaderRowCount())},getHeaderRowValue:function(t,e){var i;if(void 0===e)i=this.getHeaders()[Math.max(t,0)];else if(e<0){var n=this.getBottomTotals();i=n[n.length+e][t]}else{var o=this.grid.isShowFilterRow(),r=this.grid.isShowHeaderRow(),s=(o?1:0)+(r?1:0);if(e>=s)i=this.getTopTotals()[e-s][t];else{if(!r||0!==e){var a=this.getGlobalFilter();i=a&&a.getColumnFilterState(this.getFields()[t])||"";var u=l.filter(i.length);return[null,i,u]}i=this.getHeaders()[t];var c=this.getSortImageForColumn(t);if(c){var h=i.lastIndexOf(this.groupHeaderDelimiter)+1;i=h?i.substr(0,h)+c+i.substr(h):c+i}}}return i},setValue:function(t,e,i){var n=this.hasHierarchyColumn(),o=this.grid.getHeaderRowCount();n?t===-2&&(t=0):this.isDrillDown()&&(t+=1),e<o?this.setHeaderRowValue(t,e,i):this.dataSource.setValue(t,e-o,i),this.changed()},setHeaderRowValue:function(t,e,i){if(void 0===i)return this._setHeader(t,e);var n=this.grid.isShowFilterRow(),o=this.grid.isShowHeaderRow(),r=(n?1:0)+(o?1:0);if(e>=r)this.getTopTotals()[e-r][t]=i;else{if(t===-1)return;if(o&&0===e)return this._setHeader(t,i);if(!n)return this._setHeader(t,i);this.setFilter(t,i)}return""},getColumnProperties:function(t){var e=this.grid.behavior.getColumn(t);if(e)return e.getProperties()},getColumnCount:function(){var t=this.grid.resolveProperty("showTreeColumn")===!0,e=this.isDrillDown()&&!t?-1:0;return this.dataSource.getColumnCount()+e},getRowCount:function(){var t=this.dataSource.getRowCount();return t+=this.grid.getHeaderRowCount()},getHeaders:function(){return this.dataSource&&this.dataSource.getHeaders()||[]},setHeaders:function(t){this.dataSource.setHeaders(t)},setFields:function(t){this.dataSource.setFields(t)},getFields:function(){return this.dataSource.getFields()},getCalculators:function(){return this.dataSource.getProperty("calculators")},pipeline:[{type:"JSDataSource"},{type:"DataSourceGlobalFilter"},{type:"DataSourceSorterComposite"}],setData:function(t,e,i){if(this.resetSources(),!t){var n=this.source;if(!n)throw"Expected dataSource.";t=n.data,e=n.fields,i=n.calculators}this.pipeline.forEach(function(n,o,a){var l=s[o.type];if(o.name=o.name||r(o.type),0===a&&"source"!==o.name)throw"Expected pipeline to begin with source.";if(o.parent&&(this.dataSource=this.dataSource||t,t=n[r(o.parent)],!t))throw"Parent data source not in pipeline.";t=new l(t,e,i),e=i=void 0,n[o.name]=t}.bind(this,this.sources)),this.source=this.sources.source,this.dataSource=this.dataSource||t,this.applyAnalytics()},truncatePipeline:function(t){this.pipeline.length=t||0},addPipe:function(t,e){var i,n=this.pipeline.find(function(e){return e.type===t.type});n||(null===e?i=0:this.pipeline.find(function(t,n){return i=n+1,t.type===e})||(i=this.pipeline.length),this.pipeline.splice(i,0,t))},setTopTotals:function(t){this.topTotals=t},getTopTotals:function(){return this.dataSource.getGrandTotals()||this.topTotals},setBottomTotals:function(t){this.bottomTotals=t},getBottomTotals:function(){return this.dataSource.getGrandTotals()||this.bottomTotals},getActiveColumns:function(){return this.grid.behavior.columns.filter(function(t){return"tree"!==t.name})},getVisibleColumns:function(){return this.deprecated("getVisibleColumns()","getActiveColumns()","1.0.6",arguments)},getHiddenColumns:function(){for(var t=this.grid.behavior.columns,e=this.grid.behavior.allColumns,i=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&i.push(e[n]);return i.sort(function(t,e){return t.header<e.header}),i},hasHierarchyColumn:function(){var t=this.grid.resolveProperty("showTreeColumn")===!0;return this.isDrillDown()&&t},applyAnalytics:function(t){n.call(this),this.pipeline.forEach(function(e,i){var n=e[i.name];n&&(n.sorts&&n.set(this.getSortedColumnIndexes().slice()),n.apply&&n.apply(t))}.bind(this,this.sources)),o.call(this)},toggleSort:function(t,e){this.incrementSortState(t,e),this.applyAnalytics({columnSort:!0})},unSortColumn:function(t,e){var i,n=this.getSortedColumnIndexes();n.find(function(e,n){return i=n,e.columnIndex===t})&&(n.splice(i,1),e||this.applyAnalytics({columnSort:!0}))},getSortedColumnIndexes:function(){var t=this.getPrivateState();return t.sorts=t.sorts||[],t.sorts},incrementSortState:function(t,e){var i=this.getSortedColumnIndexes(),n=i.find(function(e,i){return e.columnIndex===t});n?n.direction>0?n.direction=-1:this.unSortColumn(t,!0):(e.indexOf("CTRL")<0&&(i.length=0),i.unshift({columnIndex:t,direction:1})),i.length>3&&(i.length=3)},getSortImageForColumn:function(t){var e,i=this.getSortedColumnIndexes(),n=i.find(function(i,n){return e=n,i.columnIndex===t}),o=null;if(n){var r=i.length-e,s=n.direction>0?u:c;o=r+s+" "}return o},isDrillDown:function(t){return this.pipeline.find(function(e){var i=e.test,n=typeof i;return i="function"===n&&e.test||"string"===n&&this[e.test],i&&i.call(this,t)}.bind(this))},cellClicked:function(t,e){var i=this.isDrillDown(e);if(i){var n=e.gridCell.y-this.grid.getHeaderRowCount();this.toggleRow(n)}return i},toggleRow:function(t,e){var i;return this.isDrillDown()&&(i=this.dataSource.click(t,e),i&&(this.applyAnalytics({rowClick:!0}),this.changed())),i},getRow:function(t){var e=this.grid.getHeaderRowCount(),i=this.getTopTotals(),n=!!i.length;return t<e&&!n?i[t-(e-i.length)]:this.dataSource.getRow(t-e)},buildRow:function(t){return this.deprecated("buildRow","dataSource","1.0.8")},getComputedRow:function(t){for(var e=this.getRowContextFunction([t]),i=this.getFields(),n={},o=0;o<i.length;o++){var r=i[o];n[r]=e(r)[0]}return n},getValueByField:function(t,e){return this.deprecated("getValueByField","dataSource","1.0.8")},getGlobalFilter:function(){return this.getGlobalFilterDataSource().get()},setGlobalFilter:function(t){this.getGlobalFilterDataSource().set(t),this.applyAnalytics()},setGlobalFilterCaseSensitivity:function(t){this.getGlobalFilter().setCaseSensitivity(t),this.applyAnalytics()},getFilter:function(t,e){var i=!isNaN(Number(t)),n=i?this.getFields()[t]:t;return this.getGlobalFilter().getColumnFilterState(n,e)},setFilter:function(t,e,i){var n=!isNaN(Number(t)),o=n?this.getFields()[t]:t;this.getGlobalFilter().setColumnFilterState(o,e,i),this.grid.fireSyntheticFilterAppliedEvent(),this.applyAnalytics()},getFilters:function(t){return this.getGlobalFilter().getColumnFiltersState(t)},setFilters:function(t,e){this.getGlobalFilter().setColumnFiltersState(t,e),this.grid.fireSyntheticFilterAppliedEvent(),this.applyAnalytics()},getTableFilter:function(t){return this.getGlobalFilter().getTableFilterState(t)},setTableFilter:function(t,e){this.getGlobalFilter().setTableFilterState(t,e),this.grid.fireSyntheticFilterAppliedEvent(),this.applyAnalytics()},applyState:function(){this.applyAnalytics()},reset:function(){this.setData([])},getUnfilteredValue:function(t,e){return this.source.getValue(t,e)},getUnfilteredRowCount:function(){return this.source.getRowCount()},addRow:function(t){return this.getData().push(t),t}});e.exports=d},{"../../images":4,"../Shared.js":60,"./DataModel":87}],91:[function(t,e,i){"use strict";e.exports={DataModel:t("./DataModel"),Default:t("./Default"),InMemory:t("./InMemory"),JSON:t("./JSON")}},{"./DataModel":87,"./Default":88,"./InMemory":89,"./JSON":90}],92:[function(t,e,i){"use strict";function n(t,e){if(null===e||void 0===e)return 0;if(e+="",0===e.length)return 0;var i=t.font+e,n=s.get(i);return n||(n=t.measureText(e).width,s.set(i,n)),n}function o(t){var e=a[t];if(!e){e={};var i=document.createElement("span");i.textContent="Hg",i.style.font=t;var n=document.createElement("div");n.style.display="inline-block",n.style.width="1px",n.style.height="0px";var o=document.createElement("div");o.appendChild(i),o.appendChild(n),o.style.position="absolute",document.body.appendChild(o);try{n.style.verticalAlign="baseline";var r=n.getBoundingClientRect(),s=i.getBoundingClientRect();e.ascent=r.top-s.top,n.style.verticalAlign="bottom",e.height=r.top-s.top,e.descent=e.height-e.ascent}finally{document.body.removeChild(o)}0!==e.height&&(a[t]=e)}return e}var r=t("lru-cache");e.exports={noDataMessage:"no data to display",font:"13px Tahoma, Geneva, sans-serif",color:"rgb(25, 25, 25)",backgroundColor:"rgb(241, 241, 241)",foregroundSelectionFont:"bold 13px Tahoma, Geneva, sans-serif",foregroundSelectionColor:"rgb(0, 0, 128)",sortOnHiddenColumns:!0,backgroundSelectionColor:"rgba(147, 185, 255, 0.625)",columnHeaderFont:"12px Tahoma, Geneva, sans-serif",columnHeaderColor:"rgb(25, 25, 25)",columnHeaderForegroundSelectionFont:"bold 12px Tahoma, Geneva, sans-serif",columnHeaderBackgroundColor:"rgb(223, 227, 232)",columnHeaderForegroundSelectionColor:"rgb(80, 80, 80)",columnHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",columnHeaderForegroundColumnSelectionColor:"rgb(25, 25, 25)",columnHeaderBackgroundColumnSelectionColor:"rgb(255, 180, 0)",rowHeaderFont:"12px Tahoma, Geneva, sans-serif",rowHeaderColor:"rgb(25, 25, 25)",rowHeaderBackgroundColor:"rgb(223, 227, 232)",rowHeaderForegroundSelectionColor:"rgb(80, 80, 80)",rowHeaderForegroundSelectionFont:"bold 12px Tahoma, Geneva, sans-serif",rowHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",rowHeaderForegroundRowSelectionColor:"rgb(25, 25, 25)",rowHeaderBackgroundRowSelectionColor:"rgb(255, 180, 0)",filterFont:"12px Tahoma, Geneva, sans-serif",filterColor:"rgb(25, 25, 25)",filterBackgroundColor:"white",filterForegroundSelectionColor:"rgb(25, 25, 25)",filterBackgroundSelectionColor:"rgb(255, 220, 97)",filterCellBorderStyle:"rgba(0,0,0,0.8)",filterCellBorderThickness:.4,treeColumnFont:"12px Tahoma, Geneva, sans-serif",treeColumnColor:"rgb(25, 25, 25)",treeColumnBackgroundColor:"rgb(223, 227, 232)",treeColumnForegroundSelectionColor:"rgb(25, 25, 25)",treeColumnBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",treeColumnForegroundColumnSelectionColor:"rgb(25, 25, 25)",treeColumnBackgroundColumnSelectionColor:"rgb(255, 180, 0)",backgroundColor2:"rgb(201, 201, 201)",voffset:0,scrollbarHoverOver:"visible",scrollbarHoverOff:"hidden",scrollingEnabled:!0,vScrollbarClassPrefix:"",hScrollbarClassPrefix:"",fixedRowAlign:"center",fixedColAlign:"center",halign:"center",cellPadding:5,gridLinesH:!0,gridLinesV:!0,gridLinesVOverflow:!1,lineColor:"rgb(199, 199, 199)",lineWidth:.4,defaultRowHeight:15,defaultColumnWidth:100,repaintIntervalRate:60,repaintImmediately:!1,useBitBlit:!1,useHiDPI:!0,editorActivationKeys:["alt","esc"],readOnly:!1,getTextWidth:n,getTextHeight:o,fixedColumnCount:0,fixedRowCount:0,headerColumnCount:0,showRowNumbers:!0,showTreeColumn:!0,showHeaderRow:!0,showFilterRow:!0,cellSelection:!0,columnSelection:!0,rowSelection:!0,singleRowSelectionMode:!0,selectionRegionOverlayColor:"rgba(0, 0, 48, 0.2)",selectionRegionOutlineColor:"black",columnAutosizing:!0,rowNumberAutosizing:!0,headerTextWrapping:!1,rowResize:!1,editable:!0,editOnDoubleClick:!0,doubleClickDelay:325,editOnKeydown:!0,checkboxOnlyRowSelections:!1,format:void 0,editor:void 0,renderer:"SimpleCell",hoverCellHighlight:{enabled:!0,backgroundColor:"rgba(160, 160, 40, 0.45)"},hoverRowHighlight:{enabled:!0,backgroundColor:"rgba(100, 100, 25, 0.30)"},hoverColumnHighlight:{enabled:!0,backgroundColor:"rgba(60, 60, 15, 0.15)"},link:!1,strikeThrough:!1,unsortable:!1,multipleSelections:!1,enableContinuousRepaint:!1};var s=new r(2e3),a={}},{"lru-cache":49}],93:[function(t,e,i){"use strict";function n(t,e){return t=t.header.toString().toUpperCase(),e=e.header.toString().toUpperCase(),t<e?-1:t>e?1:0}var o=t("list-dragon"),r=t("./Dialog"),s=t("../lib/stylesheet"),a=r.extend("ColumnPicker",{initialize:function(t,e){var i=t.behavior;if(this.grid=t,i.isColumnReorderable()){var r=s.inject("list-dragon-addendum");if(i.setGroups){this.selectedGroups={title:"Groups",models:i.getGroups()},this.availableGroups={title:"Available Groups",models:i.getAvailableGroups()};var a=new o([this.selectedGroups,this.availableGroups]);this.append(a.modelLists[0].container),this.append(a.modelLists[1].container)}this.inactiveColumns={title:"Inactive Columns",models:i.getHiddenColumns().sort(n)},this.activeColumns={title:"Active Columns",models:i.getActiveColumns()},this.sortOnHiddenColumns=this.wasSortOnHiddenColumns=t.resolveProperty("sortOnHiddenColumns");var l=new o([this.inactiveColumns,this.activeColumns],{cssStylesheetReferenceElement:r,label:"{header}"});this.append(l.modelLists[0].container),this.append(l.modelLists[1].container),l.modelLists[1].element.addEventListener("listchanged",function(e){t.fireSyntheticOnColumnsChangedEvent()}),this.sortOnHiddenColumns=this.grid.resolveProperty("sortOnHiddenColumns")}else{var u=document.createElement("div");u.style.textAlign="center",u.style.marginTop="2em",u.innerHTML="The selection of visible columns in the grid may not be changed.",this.append(u)}var c=document.createElement("label");c.innerHTML='<input type="checkbox"> Allow sorting on hidden columns',c.style.fontWeight="normal",c.style.marginRight="2em";var h=c.querySelector("input");h.checked=this.sortOnHiddenColumns,h.addEventListener("click",function(t){self.sortOnHiddenColumns=h.checked,t.stopPropagation()});var d=this.el.querySelector(".hypergrid-dialog-control-panel");d.insertBefore(c,d.firstChild),this.open(e.container)},onClosed:function(){var t=this.grid.behavior,e=t.columns;if(this.activeColumns){var i=e[0];e.length=0,i&&"Tree"===i.label&&e.push(i),this.activeColumns.models.forEach(function(t){e.push(t)}),this.sortOnHiddenColumns!==this.wasSortOnHiddenColumns&&(this.grid.addProperties({sortOnHiddenColumns:this.sortOnHiddenColumns}),t.sortChanged(this.inactiveColumns.models)),t.changed()}if(this.selectedGroups){var n=this.selectedGroups.models.map(function(t){return t.id});t.dataModel.setGroups(n)}}});e.exports=a},{"../lib/stylesheet":129,"./Dialog":94,"list-dragon":48}],94:[function(t,e,i){"use strict";function n(){}function o(t){t.target===this.el&&"opacity"===t.propertyName&&("BODY"!==this.el.parentElement.tagName&&(this.el.parentElement.style.visibility="hidden"),this.el.remove(),delete this.el,this.onClosed(),this.terminate(),this.closing=!1,this.closed=!0)}function r(t){t.target===this.el&&"opacity"===t.propertyName&&(this.appVisible("hidden"),this.el.removeEventListener("transitionend",this.hideAppBound),this.onOpened(),this.opening=!1,this.opened=!0)}function s(t){this&&(t.target.classList.contains("hypergrid-dialog-close")?(t.preventDefault(),this.close()):t.target.classList.contains("hypergrid-dialog-settings")?(t.preventDefault(),this.settings&&this.settings()):this.onClick&&!this.onClick.call(this,t)&&"A"===t.target.tagName&&t.preventDefault()),t.stopPropagation()}var a=t("automat"),l=t("../lib/Base"),u=t("../../html"),c=t("../../images"),h=t("../lib/elfor"),d=l.extend("Dialog",{initialize:function(t,e){if(e=e||{},this.grid=t,this.el=a.firstChild(e.dialogTemplate||u.dialog,e.dialogReplacements),this.originalFirstChild=this.el.firstElementChild,e.settings===!1){var i=this.el.querySelector(".hypergrid-dialog-settings");i&&i.remove()}e.backgroundImage!==!1&&(this.el.style.backgroundImage="url('"+(e.backgroundImage||c.dialog.src)+"')"),this.el.addEventListener("click",s.bind(this)),e.terminate&&(this.terminate=e.terminate)},append:function(t,e){var i=this.el;if("string"==typeof t||"function"==typeof t){var n=Array.prototype.slice.call(arguments);n.splice(1,0,i,this.originalFirstChild),a.append.apply(null,n)}else if("length"in t)for(var o=0;o<t.length;++o)i.insertBefore(t[o],this.originalFirstChild);else i.insertBefore(t,this.originalFirstChild)},open:function(t){var e;if(!(this.opened||this.opening||this.closed||this.closing||(e=this.onOpen()))){var i=this.el;this.opening=!0,t=t||document.querySelector("body"),"BODY"!==t.tagName&&(t.style.visibility="visible"),t.appendChild(i),setTimeout(function(){i.classList.add("hypergrid-dialog-visible")},50),i.addEventListener("transitionend",this.hideAppBound=r.bind(this))}return e},close:function(){var t;if(this.opened&&!this.closed&&!this.closing&&(t=this.onClose(),!t)){var e=this.el;this.closing=!0,this.appVisible("visible"),e.classList.remove("hypergrid-dialog-visible"),e.addEventListener("transitionend",this.removeDialogBound=o.bind(this))}return t},appSelector:"canvas.hypergrid",appVisible:function(t){h.each(this.appSelector,function(e){e.style.visibility=t})},onOpen:n,onOpened:n,onClose:n,onClosed:n,terminate:n});e.exports=d},{"../../html":2,"../../images":4,"../lib/Base":118,"../lib/elfor":125,automat:5}],95:[function(t,e,i){"use strict";function n(t,e,i,n){return(!n||"tableFilterPanel"===n.id)&&o.call(this,this.filter.tableFilter,t)||(!n||"columnFiltersPanel"===n.id)&&o.call(this,this.filter.columnFilters,t)}function o(t,e){var i,n,o=t===this.filter.columnFilters,s=this.tabz.tab(o?"#columnsQB":"#tableQB"),a=this.tabz.enabledTab(s),l=this.tabz.folder(a),u=a===s,c=e||{alert:!0,focus:!0},h={alert:c.alert,focus:c.focus&&u};if(o||u?i=t.invalid(h):(n=l.querySelector("textarea"),i=this.filter.setTableFilterState(n.value,e)),i&&!u&&o){var d=i.node.el.parentElement.querySelector("input").value;n=l.querySelector('[name="'+d+'"]')}return n&&r(n,i),i}function r(t,e){t.classList.toggle("filter-tree-error",!!e),t.focus();var i;do t=t.parentElement,i=t.querySelector(".filter-tree-warn");while(!i);i.innerHTML=e.message||e||""}function s(t){if(o.call(this,this.filter.columnFilters))t.preventDefault();else{var e=t.target,i=e.options[0].text.replace("…",""),n=this.filter.columnFilters.children.map(function(t){return t.children.length&&t.children[0].column}),r={prompt:i,blacklist:n};d.build(e,this.filter.root.schema,r)}}function a(t){var e=t.target,i=this.tabz.folder("#tableQB"),n=this.tabz.enabledTab(i.parentElement),o=n===i,r=v[n.id];for(this.filter.columnFilters.add({state:{type:"columnFilter",children:[{column:e.value}]},focus:o}),r.isColumnFilter&&r.lanugage&&l.call(this,n),e.selectedIndex=0;e.lastChild!==e.firstChild;)e.removeChild(e.lastChild)}function l(t){var e=v[t.id],i=e.language;if(i){var n=this.filter,o=this.tabz.folder(t);if(e.isTableFilter)o.querySelector("textarea").value=n.tableFilter.getState({syntax:"SQL"});else{var r=n.columnFilters.children,s=o.lastElementChild,a=s.querySelector("span"),l=s.querySelector("ol"),h=s.querySelector("a:first-of-type");a.innerHTML=c(r.length),l.innerHTML="",r.forEach(function(t){var e=t.children[0],n=e.schema[0],o=e.column,r=n.alias||o,s=t.getState({syntax:i}),a="(NULL IS NULL)"===s||""===s,u=a?"":s,c=a?"filter-tree-error":"",h=g.firstChild(p[i],r,o,u,c);l.appendChild(h)}),o.onkeyup=u.bind(this,i),h&&(h.style.display=r.length>1?"block":"none")}}}function u(t,e){var i=e.target;if(i.classList.contains("filter-text-box")){var n,o={syntax:t,alert:!0};try{n=this.filter.setColumnFilterState(i.name,i.value,o)}catch(s){n=s}r(i,n)}}function c(t){var e;switch(t){case 0:e="There are no active column filters.";break;case 1:e="There is 1 active column filter:";break;default:e="There are "+t+" active column filters:"}return e}var h=t("tabz"),d=t("pop-menu"),g=t("automat"),f=t("./Dialog"),p=t("../../html"),m=t("../lib/copy-input"),v={tableQB:{isTableFilter:!0},tableSQL:{isTableFilter:!0,language:"SQL"},columnsQB:{isColumnFilter:!0},columnsSQL:{isColumnFilter:!0,language:"SQL"},columnsCQL:{isColumnFilter:!0,language:"CQL"}},C=f.extend("ManageFilters",{initialize:function(t,e){this.filter=t.getGlobalFilter(),this.append(p.filterTrees);var i=this.tabz=new h({root:this.el,onEnable:l.bind(this),onDisable:n.bind(this,null)}),o=this.el.querySelector("#add-column-filter-subexpression");o.onmousedown=s.bind(this),o.onchange=a.bind(this),i.folder("#tableQB").appendChild(this.filter.tableFilter.el),i.folder("#columnsQB").appendChild(this.filter.columnFilters.el);var r=i.folder("#columnsSQL"),u=i.folder("#tableSQL").firstElementChild.cloneNode(!0);r.insertBefore(u,r.firstChild),this.open(e.container),o.selectedIndex=0},onClose:function(){return n.call(this)},onClosed:function(){var t=this.grid.behavior;t.applyAnalytics(),t.changed()},onClick:function(t){var e=t.target;if(e.classList.contains("more-info"))for(var i=this.el.querySelectorAll(".more-info"),n=0;n<i.length;++n){var o=i[n];if("A"===o.tagName){var r=o===e;o.classList[r?"toggle":"remove"]("hide-info"),o=i[n+1],o.style.display=r&&"block"!==o.style.display?"block":"none"}}else{if(!e.classList.contains("filter-copy"))return!0;var s=e.childNodes.length;s?(e=this.tabz.folder(e).querySelector(m.selectorTextControls),m(e,this.filter.columnFilters.getState({syntax:"SQL"}))):m(e.parentElement.querySelector(m.selectorTextControls))}}});e.exports=C},{"../../html":2,"../lib/copy-input":122,"./Dialog":94,automat:5,"pop-menu":52,tabz:56}],96:[function(t,e,i){"use strict";e.exports.ColumnPicker=t("./ColumnPicker"),e.exports.ManageFilters=t("./ManageFilters")},{"./ColumnPicker":93,"./ManageFilters":95}],97:[function(t,e,i){"use strict";var n=t("./Hypergrid");n.JSON=t("./lib/json"),n.images=t("../images"),n.behaviors=t("./behaviors"),n.dataModels=t("./dataModels"),n.features=t("./features"),n.analytics=t("./Shared.js").analytics,n.DefaultFilter=t("./filter/DefaultFilter"),n.ColumnSchemaFactory=t("./filter/ColumnSchemaFactory"),n.FilterTree=t("./Shared").FilterTree,n.rectangular=t("rectangular"),(window.fin=window.fin||{}).Hypergrid=n},{"../images":4,"./Hypergrid":59,"./Shared":60,"./Shared.js":60,"./behaviors":66,"./dataModels":91,"./features":114,"./filter/ColumnSchemaFactory":115,"./filter/DefaultFilter":116,"./lib/json":126,rectangular:53}],98:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("CellClick",{handleClick:function(t,e){var i;e.gridCell.y>=t.behavior.getHeaderRowCount()&&e.gridCell.x>=t.behavior.getHeaderColumnCount()&&(i=t.cellClicked(e)),!i&&this.next&&this.next.handleClick(t,e)}});e.exports=o},{"./Feature.js":107}],99:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=t("../cellEditors/CellEditor"),r=n.extend("CellEditing",{handleDoubleClick:function(t,e){var i=t.resolveProperty("editOnDoubleClick");this.checkActivateEditor(t,e,i)?t.onEditorActivate(e):this.next&&this.next.handleDoubleClick(t,e)},handleClick:function(t,e){var i=t.resolveProperty("editOnDoubleClick");this.checkActivateEditor(t,e,!i)?t.onEditorActivate(e):this.next&&this.next.handleClick(t,e)},checkActivateEditor:function(t,e,i){var n=t.behavior.getHeaderRowCount(),o=t.behavior.getHeaderColumnCount(),r=e.gridCell,s=t.isFilterRow(r.y);return i&&r.x>=o&&(s||r.y>=n)},handleKeyDown:function(t,e){var i,n,r,s,a;if(t.resolveProperty("editOnKeydown")&&!t.cellEditor&&("F2"===(i=e.detail["char"])||(n=1===i.length&&!(e.detail.meta||e.detail.ctrl))||(r="DELETE"===i||"BACKSPACE"===i))){if(s=t.selectionModel.getLastSelection()){var l={gridCell:s.origin};a=t.onEditorActivate(l),a instanceof o&&(n?a.input.value=i:r&&a.setEditorValue(""),e.detail.primitiveEvent.preventDefault())}}else this.next&&this.next.handleKeyDown(t,e)}});e.exports=r},{"../cellEditors/CellEditor":67,"./Feature.js":107}],100:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("CellSelection",{currentDrag:null,lastDragCell:null,sbLastAuto:0,sbAutoStart:0,handleMouseUp:function(t,e){this.dragging&&(this.dragging=!1),this.next&&this.next.handleMouseUp(t,e)},handleMouseDown:function(t,e){var i=e.primitiveEvent.detail.isRightClick,n=e.gridCell,o=e.viewPoint,r=n.x,s=n.y,a=t.behavior.getHeaderRowCount(),l=t.behavior.getHeaderColumnCount(),u=t.getColumnCount(),c=o.x>=u,h=s<a||r<l;if(t.isCellSelection()&&!(i||h||c)){var d=t.getFixedColumnCount(),g=t.getFixedRowCount();o.x<d&&(r=o.x),o.y<g&&(s=o.y);var f=t.newPoint(r,s),p=e.primitiveEvent,m=p.detail.keys;this.dragging=!0,this.extendSelection(t,f,m)}else this.next&&this.next.handleMouseDown(t,e)},handleMouseDrag:function(t,e){var i=e.primitiveEvent.detail.isRightClick;if(this.dragging&&t.isCellSelection()&&!i){var n=t.getFixedColumnCount(),o=t.getFixedRowCount(),r=e.gridCell,s=e.viewPoint,a=r.x,l=r.y;s.x<n&&(a=s.x),s.y<o&&(l=s.y);var u=t.newPoint(a,l),c=e.primitiveEvent;this.currentDrag=c.detail.mouse,this.lastDragCell=u,this.checkDragScroll(t,this.currentDrag),this.handleMouseDragCellSelection(t,u,c.detail.keys)}else this.next&&this.next.handleMouseDrag(t,e)},handleKeyDown:function(t,e){var i;(i=this["handle"+e.detail["char"]])?i.call(this,t,e.detail):this.next&&this.next.handleKeyDown(t,e)},handleMouseDragCellSelection:function(t,e,i){var n=t.behavior.getHeaderRowCount(),o=t.behavior.getHeaderColumnCount(),r=e.x,s=e.y;r=Math.max(o,r),s=Math.max(n,s);var a=t.getDragExtent(),l=t.getMouseDown(),u=r-l.x,c=s-l.y;a.x===u&&a.y===c||(t.clearMostRecentSelection(),t.select(l.x,l.y,u,c),t.setDragExtent(t.newPoint(u,c)),t.repaint())},checkDragScroll:function(t,e){if(t.resolveProperty("scrollingEnabled")){var i=t.getDataBounds(),n=i.contains(e);n?t.isScrollingNow()&&t.setScrollingNow(!1):t.isScrollingNow()||(t.setScrollingNow(!0),this.scrollDrag(t))}},scrollDrag:function(t){if(t.isScrollingNow()){var e=t.isMouseDownInHeaderArea(),i=this.lastDragCell,n=t.getDataBounds(),o=0,r=0,s=t.getFixedColumnCount(),a=t.getFixedRowCount(),l=i.x<s,u=i.y<a;e||(this.currentDrag.x<n.origin.x&&(o=-1),this.currentDrag.y<n.origin.y&&(r=-1)),this.currentDrag.x>n.origin.x+n.extent.x&&(o=1),this.currentDrag.y>n.origin.y+n.extent.y&&(r=1);var c=o,h=r;l&&(c=0),u&&(h=0),this.lastDragCell=i.plusXY(c,h),t.scrollBy(o,r),this.handleMouseDragCellSelection(t,i,[]),t.repaint(),setTimeout(this.scrollDrag.bind(this,t),25)}},extendSelection:function(t,e,i){var n=i.indexOf("CTRL")>=0,o=i.indexOf("SHIFT")>=0,r=t.getMouseDown(),s=e.x,a=e.y;if(!(s<0||a<0)){if(n&&s===r.x&&a===r.y)return t.clearMostRecentSelection(),t.popMouseDown(),void t.repaint();n||o||t.clearSelections(),o?(t.clearMostRecentSelection(),t.select(r.x,r.y,s-r.x,a-r.y),t.setDragExtent(t.newPoint(s-r.x,a-r.y))):(t.select(s,a,0,0),t.setMouseDown(t.newPoint(s,a)),t.setDragExtent(t.newPoint(0,0))),t.repaint()}},handleDOWNSHIFT:function(t){this.moveShiftSelect(t,0,1)},handleUPSHIFT:function(t){this.moveShiftSelect(t,0,-1)},handleLEFTSHIFT:function(t){this.moveShiftSelect(t,-1,0)},handleRIGHTSHIFT:function(t){this.moveShiftSelect(t,1,0)},handleDOWN:function(t,e){e.primitiveEvent.preventDefault();var i=this.getAutoScrollAcceleration();this.moveSingleSelect(t,0,i)},handleUP:function(t,e){e.primitiveEvent.preventDefault();var i=this.getAutoScrollAcceleration();this.moveSingleSelect(t,0,-i)},handleLEFT:function(t){this.moveSingleSelect(t,-1,0)},handleRIGHT:function(t){this.moveSingleSelect(t,1,0)},getAutoScrollAcceleration:function(){var t=1,e=this.getAutoScrollDuration()/2e3;return t=Math.max(1,Math.floor(e*e*e*e))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){var t=Date.now();t-this.sbLastAuto>500&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return Date.now()-this.sbLastAuto>500?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(t,e,i){var n=t.getColumnCount()-1,o=t.getRowCount()-1,r=t.getVisibleColumns()-1,s=t.getVisibleRows()-1;t.resolveProperty("scrollingEnabled")||(n=Math.min(n,r),o=Math.min(o,s));var a=t.getMouseDown(),l=t.getDragExtent(),u=l.x+e,c=l.y+i;u=Math.min(n-a.x,Math.max(-a.x,u)),c=Math.min(o-a.y,Math.max(-a.y,c)),t.clearMostRecentSelection(),t.select(a.x,a.y,u,c),t.setDragExtent(t.newPoint(u,c)),t.insureModelColIsVisible(u+a.x,e)&&this.pingAutoScroll(),t.insureModelRowIsVisible(c+a.y,i)&&this.pingAutoScroll(),t.repaint()},moveSingleSelect:function(t,e,i){var n=t.getColumnCount()-1,o=t.getRowCount()-1,r=t.getVisibleColumnsCount()-1,s=t.getVisibleRowsCount()-1,a=t.getHeaderRowCount(),l=t.getHeaderColumnCount();
t.resolveProperty("scrollingEnabled")||(n=Math.min(n,r),o=Math.min(o,s));var u=t.getMouseDown().plus(t.getDragExtent()),c=u.x+e,h=u.y+i;c=Math.min(n,Math.max(l,c)),h=Math.min(o,Math.max(a,h)),t.clearSelections(),t.select(c,h,0,0),t.setMouseDown(t.newPoint(c,h)),t.setDragExtent(t.newPoint(0,0)),t.selectCellAndScrollToMakeVisible(c,h),t.repaint()}});e.exports=o},{"./Feature.js":107}],101:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("ColumnAutosizing",{handleDoubleClick:function(t,e){var i=t.getHeaderRowCount(),n=e.gridCell;n.y<=i?t.autosizeColumn(n.x):this.next&&this.next.handleDoubleClick(t,e)}});e.exports=o},{"./Feature.js":107}],102:[function(t,e,i){"use strict";var n,o,r,s,a=t("./Feature.js"),l=150,u=a.extend("ColumnMoving",{floaterAnimationQueue:[],columnDragAutoScrollingRight:!1,columnDragAutoScrollingLeft:!1,dragArmed:!1,dragging:!1,dragCol:-1,dragOffset:0,initializeOn:function(t){this.isFloatingNow=!1,this.initializeAnimationSupport(t),this.next&&this.next.initializeOn(t)},initializeAnimationSupport:function(t){n||(n=document.createElement("canvas"),n.setAttribute("width","0px"),n.setAttribute("height","0px"),document.body.appendChild(n),o=n.getContext("2d")),r||(r=document.createElement("canvas"),r.setAttribute("width","0px"),r.setAttribute("height","0px"),document.body.appendChild(r),s=r.getContext("2d"))},getCanDragCursorName:function(){return"-webkit-grab"},getDraggingCursorName:function(){return"-webkit-grabbing"},handleMouseDrag:function(t,e){var i,n=e.gridCell,o=Math.abs(e.primitiveEvent.detail.dragstart.x-e.primitiveEvent.detail.mouse.x);return o<10||this.isFixedColumn(t,e)?void(this.next&&this.next.handleMouseDrag(t,e)):(this.isHeaderRow(t,e)&&this.dragArmed&&!this.dragging?(this.dragging=!0,this.dragCol=n.x,this.dragOffset=e.mousePoint.x,this.detachChain(),i=e.primitiveEvent.detail.mouse.x-this.dragOffset,this.createDragColumn(t,i,this.dragCol)):this.next&&this.next.handleMouseDrag(t,e),void(this.dragging&&(i=e.primitiveEvent.detail.mouse.x-this.dragOffset,this.dragColumn(t,i))))},handleMouseDown:function(t,e){t.behavior.isColumnReorderable()&&!this.isFixedColumn(t,e)&&this.isHeaderRow(t,e)&&e.gridCell.x!==-1&&(this.dragArmed=!0,this.cursor=this.getDraggingCursorName(),t.clearSelections()),this.next&&this.next.handleMouseDown(t,e)},handleMouseUp:function(t,e){if(this.dragging){this.cursor=null;var i=this;this.endDragColumn(t),setTimeout(function(){i.attachChain()},200)}this.dragCol=-1,this.dragging=!1,this.dragArmed=!1,this.cursor=null,t.repaint(),this.next&&this.next.handleMouseUp(t,e)},handleMouseMove:function(t,e){!this.dragging&&e.mousePoint.y<5&&0===e.viewPoint.y&&!this.isFixedColumn(t,e)?this.cursor=this.getCanDragCursorName():this.cursor=null,this.next&&this.next.handleMouseMove(t,e),this.isHeaderRow(t,e)&&this.dragging&&(this.cursor=this.getDraggingCursorName())},floatColumnTo:function(t,e){this.floatingNow=!0;var i,n,o=t.getRenderer(),r=o.getColumnEdges(),s=t.getHScrollValue(),a=t.renderOverridesCache.floater.columnIndex,l=t.renderOverridesCache.dragger.columnIndex,u=t.renderOverridesCache.dragger.hdpiratio,c=t.getFixedColumnCount(),h=t.getColumnWidth(l),d=t.getColumnWidth(a),g=t.getVisibleColumnsCount(),f=0,p=0;l>=c&&(f=s),a>=c&&(p=s),e?(i=r[Math.min(g,l-f)],n=r[Math.min(g,a-p)],t.renderOverridesCache.dragger.startX=(i+d)*u,t.renderOverridesCache.floater.startX=i*u):(n=r[Math.min(g,a-p)],i=n+h,t.renderOverridesCache.dragger.startX=n*u,t.renderOverridesCache.floater.startX=i*u),t.swapColumns(l,a),t.renderOverridesCache.dragger.columnIndex=a,t.renderOverridesCache.floater.columnIndex=l,this.floaterAnimationQueue.unshift(this.doColumnMoveAnimation(t,n,i)),this.doFloaterAnimation(t)},doColumnMoveAnimation:function(t,e,i){var n=this;return function(){var o=r;o.style.display="inline",n.setCrossBrowserProperty(o,"transform","translate("+e+"px, 0px)"),requestAnimationFrame(function(){n.setCrossBrowserProperty(o,"transition",(n.isWebkit?"-webkit-":"")+"transform "+l+"ms ease"),n.setCrossBrowserProperty(o,"transform","translate("+i+"px, "+-2+"px)")}),t.repaint(),setTimeout(function(){n.setCrossBrowserProperty(o,"transition",""),t.renderOverridesCache.floater=null,t.repaint(),n.doFloaterAnimation(t),requestAnimationFrame(function(){o.style.display="none",n.isFloatingNow=!1})},l+50)}},doFloaterAnimation:function(t){if(0===this.floaterAnimationQueue.length)return this.floatingNow=!1,void t.repaint();var e=this.floaterAnimationQueue.pop();e()},createFloatColumn:function(t,e){var i=t.getFixedColumnCount(),n=t.getHScrollValue();e<i&&(n=0);var o=t.getRenderer(),a=o.getColumnEdges(),l=t.getColumnWidth(e),u=t.div.clientHeight,c=r,h=c.style,d=t.div.getBoundingClientRect();h.top=d.top-2+"px",h.left=d.left+"px",h.position="fixed";var g=t.getHiDPI(s);c.setAttribute("width",Math.round(l*g)+"px"),c.setAttribute("height",Math.round(u*g)+"px"),h.boxShadow="0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)",h.width=l+"px",h.height=u+"px",h.borderTop="1px solid "+o.resolveProperty("lineColor"),h.backgroundColor=o.resolveProperty("backgroundColor");var f=a[e-n];f*=g,s.scale(g,g),t.renderOverridesCache.floater={columnIndex:e,ctx:s,startX:f,width:l,height:u,hdpiratio:g},h.zIndex="4",this.setCrossBrowserProperty(c,"transform","translate("+f+"px, "+-2+"px)"),h.cursor=this.getDraggingCursorName(),t.repaint()},setCrossBrowserProperty:function(t,e,i){var n=e[0].toUpperCase()+e.substr(1);this.setProp(t,"webkit"+n,i),this.setProp(t,"Moz"+n,i),this.setProp(t,"ms"+n,i),this.setProp(t,"O"+n,i),this.setProp(t,e,i)},setProp:function(t,e,i){e in t.style&&(t.style[e]=i)},createDragColumn:function(t,e,i){var r=t.getFixedColumnCount(),s=t.getHScrollValue();i<r&&(s=0);var a=t.getRenderer(),l=a.getColumnEdges(),u=t.getHiDPI(o),c=t.getColumnWidth(i),h=t.div.clientHeight,d=n,g=t.div.getBoundingClientRect(),f=d.style;f.top=g.top+"px",f.left=g.left+"px",f.position="fixed",f.opacity=.85,f.boxShadow="0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22)",f.borderTop="1px solid "+a.resolveProperty("lineColor"),f.backgroundColor=t.renderer.resolveProperty("backgroundColor"),d.setAttribute("width",Math.round(c*u)+"px"),d.setAttribute("height",Math.round(h*u)+"px"),f.width=c+"px",f.height=h+"px";var p=l[i-s];p*=u,o.scale(u,u),t.renderOverridesCache.dragger={columnIndex:i,startIndex:i,ctx:o,startX:p,width:c,height:h,hdpiratio:u},this.setCrossBrowserProperty(d,"transform","translate("+e+"px, -5px)"),f.zIndex="5",f.cursor=this.getDraggingCursorName(),t.repaint()},dragColumn:function(t,e){var i=this,r=this.columnDragAutoScrollingRight||this.columnDragAutoScrollingLeft,s=t.getHiDPI(o),a=t.renderOverridesCache.dragger.columnIndex,u=0,c=t.renderer.getFinalVisableColumnBoundary();e=Math.min(e,c+15),e=Math.max(u-15,e);var h=e<u&&0!==a,d=e>c,g=n;this.setCrossBrowserProperty(g,"transition",(i.isWebkit?"-webkit-":"")+"transform 0ms ease, box-shadow "+l+"ms ease"),this.setCrossBrowserProperty(g,"transform","translate("+e+"px, "+-10+"px)"),requestAnimationFrame(function(){g.style.display="inline"});var f=t.renderer.getColumnFromPixelX(e+g.width/2/s);h&&(f=0),d&&(f=t.getColumnCount()-1);var p=a>f;if(p=p||f-a>=1,!p||d||r){if(e<u-10&&this.checkAutoScrollToLeft(t,e),e>u-10&&(this.columnDragAutoScrollingLeft=!1),d||e>c+10)return void this.checkAutoScrollToRight(t,e);e<c+10&&(this.columnDragAutoScrollingRight=!1)}else{var m=a<f;if(this.isFloatingNow)return;this.isFloatingNow=!0,this.createFloatColumn(t,f),this.floatColumnTo(t,m)}},checkAutoScrollToRight:function(t,e){this.columnDragAutoScrollingRight||(this.columnDragAutoScrollingRight=!0,this._checkAutoScrollToRight(t,e))},_checkAutoScrollToRight:function(t,e){if(this.columnDragAutoScrollingRight){var i=t.getHScrollValue();if(t.dragging&&!(i>t.sbHScroller.range.max-2)){var n=t.renderOverridesCache.dragger.columnIndex;t.scrollBy(1,0);var o=n+1;console.log(o,n),t.swapColumns(o,n),t.renderOverridesCache.dragger.columnIndex=o,setTimeout(this._checkAutoScrollToRight.bind(this,t,e),250)}}},checkAutoScrollToLeft:function(t,e){this.columnDragAutoScrollingLeft||(this.columnDragAutoScrollingLeft=!0,this._checkAutoScrollToLeft(t,e))},_checkAutoScrollToLeft:function(t,e){if(this.columnDragAutoScrollingLeft){var i=t.getHScrollValue();if(t.dragging&&!(i<1)){var n=t.renderOverridesCache.dragger.columnIndex;t.swapColumns(n+i,n+i-1),t.scrollBy(-1,0),setTimeout(this._checkAutoScrollToLeft.bind(this,t,e),250)}}},endDragColumn:function(t){var e=t.getFixedColumnCount(),i=t.getHScrollValue(),o=t.renderOverridesCache.dragger.columnIndex;o<e&&(i=0);var r=t.getRenderer(),s=r.getColumnEdges(),a=this,u=s[o-i],c=n,h=t.renderOverridesCache.dragger.startIndex!==t.renderOverridesCache.dragger.columnIndex;a.setCrossBrowserProperty(c,"transition",(a.isWebkit?"-webkit-":"")+"transform "+l+"ms ease, box-shadow "+l+"ms ease"),a.setCrossBrowserProperty(c,"transform","translate("+u+"px, "+-1+"px)"),c.style.boxShadow="0px 0px 0px #888888",setTimeout(function(){t.renderOverridesCache.dragger=null,t.repaint(),requestAnimationFrame(function(){c.style.display="none",t.endDragColumnNotification(),h&&t.fireSyntheticOnColumnsChangedEvent()})},l+50)},isHeaderRow:function(t,e){var i=e.viewPoint,n=0===i.y;return n}});e.exports=u},{"./Feature.js":107}],103:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("ColumnPicker",{handleKeyUp:function(t,e){var i=e.detail["char"].toLowerCase(),n=t.resolveProperty("editorActivationKeys");n.indexOf(i)>-1&&t.toggleDialog("ColumnPicker")}});e.exports=o},{"./Feature.js":107}],104:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("ColumnResizing",{dragIndex:-2,dragStart:-1,dragIndexStartingSize:-1,getMouseValue:function(t){return t.primitiveEvent.detail.mouse.x},getGridCellValue:function(t){return t.y},getScrollValue:function(t){return t.getHScrollValue()},getAreaSize:function(t,e){return t.getColumnWidth(e)},setAreaSize:function(t,e,i){t.setColumnWidth(e,i)},getPreviousAbsoluteSize:function(t,e){return t.getRenderedWidth(e)},overAreaDivider:function(t,e){return t.overColumnDivider(e)},isFirstFixedOtherArea:function(t,e){return this.isFirstFixedRow(t,e)},getCursorName:function(){return"col-resize"},handleMouseDrag:function(t,e){if(this.dragIndex>-2){var i=this.getMouseValue(e),n=this.getScrollValue(t);this.dragIndex<this.getFixedAreaCount(t)&&(n=0);var o=this.getPreviousAbsoluteSize(t,this.dragIndex-n),r=i-o;this.setAreaSize(t,this.dragIndex,r)}else this.next&&this.next.handleMouseDrag(t,e)},getSize:function(t,e){return this.getAreaSize(t,e)},getOtherFixedAreaCount:function(t){return t.getFixedRowCount()},handleMouseDown:function(t,e){var i=this.isEnabled(t),n=this.overAreaDivider(t,e);if(i&&n>-1&&this.isFirstFixedOtherArea(t,e)){var o=this.getScrollValue(t);n<this.getFixedAreaCount(t)&&(o=0),this.dragIndex=n-1+o,this.dragStart=this.getMouseValue(e),this.dragIndexStartingSize=0,this.detachChain()}else this.next&&this.next.handleMouseDown(t,e)},handleMouseUp:function(t,e){var i=this.isEnabled(t);if(i&&this.dragIndex>-2){this.cursor=null,this.dragIndex=-2,e.primitiveEvent.stopPropagation();var n=this;t.synchronizeScrollingBoundries(),setTimeout(function(){n.attachChain()},200)}else this.next&&this.next.handleMouseUp(t,e)},handleMouseMove:function(t,e){this.dragIndex>-2||(this.cursor=null,this.next&&this.next.handleMouseMove(t,e),this.checkForAreaResizeCursorChange(t,e))},checkForAreaResizeCursorChange:function(t,e){var i=this.isEnabled(t);i&&this.overAreaDivider(t,e)>-1&&this.isFirstFixedOtherArea(t,e)?this.cursor=this.getCursorName():this.cursor=null},getFixedAreaCount:function(t){var e=t.getFixedColumnCount()+(t.isShowRowNumbers()?1:0)+(t.hasHierarchyColumn()?1:0);return e},handleDoubleClick:function(t,e){var i=this.isEnabled(t),n=this.overAreaDivider(t,e)>-1,o=t.getHeaderRowCount(),r=e.gridCell;i&&n&&r.y<=o?t.autosizeColumn(r.x-1):this.next&&this.next.handleDoubleClick(t,e)},isEnabled:function(t){return!0}});e.exports=o},{"./Feature.js":107}],105:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=50,r=n.extend("ColumnSelection",{currentDrag:null,lastDragCell:null,sbLastAuto:0,sbAutoStart:0,handleMouseUp:function(t,e){this.dragging&&(this.dragging=!1),this.next&&this.next.handleMouseUp(t,e)},handleDoubleClick:function(t,e){this.doubleClickTimer&&(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=void 0),this.next&&this.next.handleDoubleClick(t,e)},handleMouseDown:function(t,e){if(!this.doubleClickTimer){if((!t.isColumnSelection()||e.mousePoint.y<5)&&this.next)return void this.next.handleMouseDown(t,e);var i=e.primitiveEvent.detail.isRightClick,n=e.gridCell,r=e.viewPoint,s=n.x,a=n.y,l=t.isShowHeaderRow()&&0===a&&s!==-1;i||!l?this.next&&this.next.handleMouseDown(t,e):this.doubleClickTimer=setTimeout(function(){this.doubleClickTimer=void 0;var i=t.getFixedColumnCount();r.x<i&&(s=r.x);var n=t.newPoint(s,0),o=e.primitiveEvent,a=o.detail.keys;this.dragging=!0,this.extendSelection(t,n,a)}.bind(this),t.resolveProperty("doubleClickDelay")+o)}},handleMouseDrag:function(t,e){if((!t.isColumnSelection()||this.isColumnDragging(t))&&this.next)return void this.next.handleMouseDrag(t,e);var i=e.primitiveEvent.detail.isRightClick;if(i||!this.dragging)this.next&&this.next.handleMouseDrag(t,e);else{var n=t.getFixedColumnCount(),o=e.gridCell,r=e.viewPoint,s=o.x,a=o.y;r.x<n&&(s=r.x);var l=t.newPoint(s,a),u=e.primitiveEvent;this.currentDrag=u.detail.mouse,this.lastDragCell=l,this.checkDragScroll(t,this.currentDrag),this.handleMouseDragCellSelection(t,l,u.detail.keys)}},handleKeyDown:function(t,e){var i;"column"===t.getLastSelectionType()&&(i=this["handle"+e.detail["char"]])?i.call(this,t,e.detail):this.next&&this.next.handleKeyDown(t,e)},handleMouseDragCellSelection:function(t,e,i){var n=e.x,o=t.getMouseDown(),r=n-o.x;t.clearMostRecentColumnSelection(),t.selectColumn(o.x,n),t.setDragExtent(t.newPoint(r,0)),t.repaint()},checkDragScroll:function(t,e){if(t.resolveProperty("scrollingEnabled")){var i=t.getDataBounds(),n=i.contains(e);n?t.isScrollingNow()&&t.setScrollingNow(!1):t.isScrollingNow()||(t.setScrollingNow(!0),this.scrollDrag(t))}},scrollDrag:function(t){if(t.isScrollingNow()){var e=this.lastDragCell,i=t.getDataBounds(),n=0,o=0,r=t.getFixedColumnCount(),s=t.getFixedRowCount(),a=e.x<r,l=e.y<s;this.currentDrag.x<i.origin.x&&(n=-1),this.currentDrag.x>i.origin.x+i.extent.x&&(n=1);var u=n,c=o;a&&(u=0),l&&(c=0),this.lastDragCell=e.plusXY(u,c),t.scrollBy(n,o),this.handleMouseDragCellSelection(t,e,[]),t.repaint(),setTimeout(this.scrollDrag.bind(this,t),25)}},extendSelection:function(t,e,i){t.stopEditing();var n=i.indexOf("SHIFT")!==-1,o=t.getMouseDown(),r=e.x,s=e.y;r<0||s<0||(n?(t.clearMostRecentColumnSelection(),t.selectColumn(r,o.x),t.setDragExtent(t.newPoint(r-o.x,0))):(t.toggleSelectColumn(r,i),t.setMouseDown(t.newPoint(r,s)),t.setDragExtent(t.newPoint(0,0))),t.repaint())},handleDOWNSHIFT:function(t){},handleUPSHIFT:function(t){},handleLEFTSHIFT:function(t){this.moveShiftSelect(t,-1)},handleRIGHTSHIFT:function(t){this.moveShiftSelect(t,1)},handleDOWN:function(t){},handleUP:function(t){},handleLEFT:function(t){this.moveSingleSelect(t,-1)},handleRIGHT:function(t){this.moveSingleSelect(t,1)},getAutoScrollAcceleration:function(){var t=1,e=this.getAutoScrollDuration()/2e3;return t=Math.max(1,Math.floor(e*e*e*e))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){var t=Date.now();t-this.sbLastAuto>500&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return Date.now()-this.sbLastAuto>500?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(t,e){var i=t.getColumnCount()-1,n=t.getVisibleColumns()-1;t.resolveProperty("scrollingEnabled")||(i=Math.min(i,n));var o=t.getMouseDown(),r=t.getDragExtent(),s=r.x+e;s=Math.min(i-o.x,Math.max(-o.x,s)),t.clearMostRecentColumnSelection(),t.selectColumn(o.x,o.x+s),t.setDragExtent(t.newPoint(s,0)),t.insureModelColIsVisible(s+o.x,e)&&this.pingAutoScroll(),t.repaint()},moveSingleSelect:function(t,e){var i=t.getColumnCount()-1,n=t.getVisibleColumnsCount()-1;t.resolveProperty("scrollingEnabled")||(i=Math.min(i,n));var o=t.getMouseDown().plus(t.getDragExtent()),r=o.x+e;r=Math.min(i,Math.max(0,r)),t.clearSelections(),t.selectColumn(r),t.setMouseDown(t.newPoint(r,0)),t.setDragExtent(t.newPoint(0,0)),t.insureModelColIsVisible(r,e)&&this.pingAutoScroll(),t.repaint()},isColumnDragging:function(t){var e=t.lookupFeature("ColumnMoving");if(!e)return!1;var i=e.dragging&&!this.dragging;return i}});e.exports=r},{"./Feature.js":107}],106:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("ColumnSorting",{handleDoubleClick:function(t,e){var i=e.gridCell;if(t.isShowHeaderRow()&&0===i.y&&i.x!==-1&&!t.behavior.getColumnProperties(i.x).unsortable){var n=e.primitiveEvent.detail.keys;t.toggleSort(i.x,n)}else this.next&&this.next.handleDoubleClick(t,e)},handleMouseMove:function(t,e){var i=e.gridCell;this.isFixedRow(t,e)&&i.y<1&&!t.behavior.getColumnProperties(i.x).unsortable?this.cursor="pointer":this.cursor=null,this.next&&this.next.handleMouseMove(t,e)}});e.exports=o},{"./Feature.js":107}],107:[function(t,e,i){"use strict";var n=t("../lib/Base"),o=n.extend("Feature",{next:null,detached:null,cursor:null,currentHoverCell:null,setNext:function(t){this.next?this.next.setNext(t):(this.next=t,this.detached=t)},detachChain:function(){this.next=null},attachChain:function(){this.next=this.detached},handleMouseMove:function(t,e){this.next&&this.next.handleMouseMove(t,e)},handleMouseExit:function(t,e){this.next&&this.next.handleMouseExit(t,e)},handleMouseEnter:function(t,e){this.next&&this.next.handleMouseEnter(t,e)},handleMouseDown:function(t,e){this.next&&this.next.handleMouseDown(t,e)},handleMouseUp:function(t,e){this.next&&this.next.handleMouseUp(t,e)},handleKeyDown:function(t,e){this.next&&this.next.handleKeyDown(t,e)},handleKeyUp:function(t,e){this.next&&this.next.handleKeyUp(t,e)},handleWheelMoved:function(t,e){this.next&&this.next.handleWheelMoved(t,e)},handleDoubleClick:function(t,e){this.next&&this.next.handleDoubleClick(t,e)},handleClick:function(t,e){this.next&&this.next.handleClick(t,e)},handleMouseDrag:function(t,e){this.next&&this.next.handleMouseDrag(t,e)},handleContextMenu:function(t,e){this.next&&this.next.handleContextMenu(t,e)},moveSingleSelect:function(t,e,i){this.next&&this.next.moveSingleSelect(t,e,i)},isFixedRow:function(t,e){return e.viewPoint.y<t.getFixedRowCount()},isFirstFixedRow:function(t,e){return e.viewPoint.y<1},isFixedColumn:function(t,e){return e.viewPoint.x<t.getFixedColumnCount()},isFirstFixedColumn:function(t,e){return 0===e.viewPoint.x},isTopLeft:function(t,e){return this.isFixedRow(t,e)&&this.isFixedColumn(t,e)},setCursor:function(t){this.next&&this.next.setCursor(t),this.cursor&&t.beCursor(this.cursor)},initializeOn:function(t){this.next&&this.next.initializeOn(t)}});e.exports=o},{"../lib/Base":118}],108:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("Filters",{handleDoubleClick:function(t,e){t.isFilterRow(e.gridCell.y)?t.onEditorActivate(e):this.next&&this.next.handleDoubleClick(t,e)},handleClick:function(t,e){t.isFilterRow(e.gridCell.y)?t.onEditorActivate(e):this.next&&this.next.handleClick(t,e)}});e.exports=o},{"./Feature.js":107}],109:[function(t,e,i){"use strict";var n=t("./Feature.js"),o={PAGEDOWN:function(t){t.pageDown()},PAGEUP:function(t){t.pageUp()},PAGELEFT:function(t){t.pageLeft()},PAGERIGHT:function(t){t.pageRight()}},r=n.extend("KeyPaging",{handleKeyDown:function(t,e){var i=o[e.detail["char"]];i?i(t):this.next&&this.next.handleKeyDown(t,e)}});e.exports=r},{"./Feature.js":107}],110:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("OnHover",{handleMouseMove:function(t,e){var i=t.getHoverCell();e.gridCell.equals(i)?this.next&&this.next.handleMouseMove(t,e):(i&&this.handleMouseExit(t,i),this.handleMouseEnter(t,e),t.setHoverCell(e.gridCell))}});e.exports=o},{"./Feature.js":107}],111:[function(t,e,i){"use strict";var n=t("./ColumnResizing"),o=n.extend("RowResizing",{dragArea:-1,dragStart:-1,dragAreaStartingSize:-1,getMouseValue:function(t){return t.primitiveEvent.detail.mouse.y},getGridCellValue:function(t){return t.x},getScrollValue:function(t){return t.getVScrollValue()},getAreaSize:function(t,e){return t.getRowHeight(e)},setAreaSize:function(t,e,i){t.setRowHeight(e,i)},overAreaDivider:function(t,e){return t.overRowDivider(e)},isFirstFixedOtherArea:function(t,e){return this.isFirstFixedColumn(t,e)},getCursorName:function(){return"row-resize"},getPreviousAbsoluteSize:function(t,e){return t.getRenderedHeight(e)},getOtherFixedAreaCount:function(t){return t.getFixedColumnCount()},getFixedAreaCount:function(t){return t.getFixedRowCount()+t.getHeaderRowCount()},isEnabled:function(t){return t.isRowResizeable()}});e.exports=o},{"./ColumnResizing":104}],112:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("RowSelection",{currentDrag:null,lastDragCell:null,sbLastAuto:0,sbAutoStart:0,dragArmed:!1,handleMouseUp:function(t,e){this.dragArmed?(this.dragArmed=!1,e.gridCell.x===-1&&0===e.gridCell.y&&t.toggleSelectAllRows(),t.fireSyntheticRowSelectionChangedEvent()):this.dragging?(this.dragging=!1,t.fireSyntheticRowSelectionChangedEvent()):this.next&&this.next.handleMouseUp(t,e)},handleMouseDown:function(t,e){var i=e.primitiveEvent.detail.isRightClick,n=e.gridCell,o=e.viewPoint,r=n.x,s=n.y,a=t.isShowRowNumbers()&&r<0;if(t.isRowSelection()&&!i&&a){var l=t.getFixedRowCount();o.y<l&&(s=o.y);var u=t.newPoint(0,s),c=e.primitiveEvent,h=c.detail.keys;this.dragArmed=!0,this.extendSelection(t,u,h)}else this.next&&this.next.handleMouseDown(t,e)},handleMouseDrag:function(t,e){var i=e.primitiveEvent.detail.isRightClick;if(this.dragArmed&&t.isRowSelection()&&!i){this.dragging=!0;var n=t.getFixedRowCount(),o=e.gridCell,r=e.viewPoint,s=o.y;r.y<n&&(s=r.y);var a=t.newPoint(0,s),l=e.primitiveEvent;this.currentDrag=l.detail.mouse,this.lastDragCell=a,this.checkDragScroll(t,this.currentDrag),this.handleMouseDragCellSelection(t,a,l.detail.keys)}else this.next&&this.next.handleMouseDrag(t,e)},handleKeyDown:function(t,e){var i;"row"===t.getLastSelectionType()&&(i=this["handle"+e.detail["char"]])?i.call(this,t,e.detail):this.next&&this.next.handleKeyDown(t,e)},handleMouseDragCellSelection:function(t,e,i){var n=e.y,o=t.getMouseDown(),r=n-o.y;t.clearMostRecentRowSelection(),t.selectRow(o.y,n),t.setDragExtent(t.newPoint(0,r)),t.repaint()},checkDragScroll:function(t,e){if(t.resolveProperty("scrollingEnabled")){var i=t.getDataBounds(),n=i.contains(e);n?t.isScrollingNow()&&t.setScrollingNow(!1):t.isScrollingNow()||(t.setScrollingNow(!0),this.scrollDrag(t))}},scrollDrag:function(t){if(t.isScrollingNow()){var e=this.lastDragCell,i=t.getDataBounds(),n=0,o=0,r=t.getFixedColumnCount(),s=t.getFixedRowCount(),a=e.x<r,l=e.y<s;this.currentDrag.y<i.origin.y&&(o=-1),this.currentDrag.y>i.origin.y+i.extent.y&&(o=1);var u=n,c=o;a&&(u=0),l&&(c=0),this.lastDragCell=e.plusXY(u,c),t.scrollBy(n,o),this.handleMouseDragCellSelection(t,e,[]),t.repaint(),setTimeout(this.scrollDrag.bind(this,t),25)}},extendSelection:function(t,e,i){t.stopEditing();var n=i.indexOf("SHIFT")!==-1,o=t.getMouseDown(),r=e.x,s=e.y;r<0||s<0||(n?(t.clearMostRecentRowSelection(),t.selectRow(s,o.y),t.setDragExtent(t.newPoint(0,s-o.y))):(t.toggleSelectRow(s,i),t.setMouseDown(t.newPoint(r,s)),t.setDragExtent(t.newPoint(0,0))),t.repaint())},handleDOWNSHIFT:function(t){this.moveShiftSelect(t,1)},handleUPSHIFT:function(t){this.moveShiftSelect(t,-1)},handleLEFTSHIFT:function(t){},handleRIGHTSHIFT:function(t){},handleDOWN:function(t){this.moveSingleSelect(t,1)},handleUP:function(t){this.moveSingleSelect(t,-1)},handleLEFT:function(t){},handleRIGHT:function(t){var e=t.getMouseDown().plus(t.getDragExtent()),i=t.getColumnCount()-1,n=t.getHeaderColumnCount()+t.getHScrollValue(),o=e.y;n=Math.min(i,n),t.clearSelections(),t.select(n,o,0,0),t.setMouseDown(t.newPoint(n,o)),t.setDragExtent(t.newPoint(0,0)),t.repaint()},getAutoScrollAcceleration:function(){var t=1,e=this.getAutoScrollDuration()/2e3;return t=Math.max(1,Math.floor(e*e*e*e))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){var t=Date.now();t-this.sbLastAuto>500&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return Date.now()-this.sbLastAuto>500?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(t,e){var i=t.getRowCount()-1,n=t.getVisibleRows()-1;t.resolveProperty("scrollingEnabled")||(i=Math.min(i,n));var o=t.getMouseDown(),r=t.getDragExtent(),s=r.y+e;s=Math.min(i-o.y,Math.max(-o.y,s)),t.clearMostRecentRowSelection(),t.selectRow(o.y,o.y+s),t.setDragExtent(t.newPoint(0,s)),t.insureModelRowIsVisible(s+o.y,e)&&this.pingAutoScroll(),t.fireSyntheticRowSelectionChangedEvent(),t.repaint()},moveSingleSelect:function(t,e){var i=t.getRowCount()-1,n=t.getVisibleRowsCount()-1;t.resolveProperty("scrollingEnabled")||(i=Math.min(i,n));var o=t.getMouseDown().plus(t.getDragExtent()),r=o.y+e;r=Math.min(i,Math.max(0,r)),t.clearSelections(),t.selectRow(r),t.setMouseDown(t.newPoint(0,r)),t.setDragExtent(t.newPoint(0,0)),t.insureModelRowIsVisible(r,e)&&this.pingAutoScroll(),t.fireSyntheticRowSelectionChangedEvent(),t.repaint()},isSingleRowSelection:function(){return!0}});e.exports=o},{"./Feature.js":107}],113:[function(t,e,i){"use strict";var n=t("./Feature.js"),o=n.extend("ThumbwheelScrolling",{handleWheelMoved:function(t,e){if(t.resolveProperty("scrollingEnabled")){var i=e.primitiveEvent,n=Math.sign(i.wheelDeltaX||-i.deltaX),o=Math.sign(i.wheelDeltaY||-i.deltaY);(n||o)&&t.scrollBy(-n||0,-o||0)}}});e.exports=o},{"./Feature.js":107}],114:[function(t,e,i){"use strict";e.exports={Feature:t("./Feature"),CellClick:t("./CellClick"),CellEditing:t("./CellEditing"),CellSelection:t("./CellSelection"),ColumnAutosizing:t("./ColumnAutosizing"),ColumnMoving:t("./ColumnMoving"),ColumnResizing:t("./ColumnResizing"),ColumnSelection:t("./ColumnSelection"),ColumnSorting:t("./ColumnSorting"),Filters:t("./Filters"),KeyPaging:t("./KeyPaging"),OnHover:t("./OnHover"),ColumnPicker:t("./ColumnPicker"),RowResizing:t("./RowResizing"),RowSelection:t("./RowSelection"),ThumbwheelScrolling:t("./ThumbwheelScrolling")}},{"./CellClick":98,"./CellEditing":99,"./CellSelection":100,"./ColumnAutosizing":101,"./ColumnMoving":102,"./ColumnPicker":103,"./ColumnResizing":104,"./ColumnSelection":105,"./ColumnSorting":106,"./Feature":107,"./Filters":108,"./KeyPaging":109,"./OnHover":110,"./RowResizing":111,"./RowSelection":112,"./ThumbwheelScrolling":113}],115:[function(t,e,i){"use strict";function n(t,e){this.schema=t.map(function(t){var e={name:t.name,alias:t.header,type:t.getType()};return t.calculator&&(e.calculator=t.calculator),e})}var o=t("pop-menu");n.prototype={constructor:n.prototype.constructor,organize:function(t,e){var i=e&&e.key||"name",n={},o=[];this.schema.forEach(function(e){var r=e[i],s=r.match(t);s?(s=s[0],s in n||(n[s]={label:s.toUpperCase(),submenu:[]}),n[s].submenu.push(e)):o.push(e)});for(var r in n)o.push(n[r]);this.schema=o},lookup:function(t,e){var i=Array.prototype.slice.call(arguments);return o.lookup.apply(this.schema,i)},walk:function(t){return o.walk.call(this.schema,t)},sort:function(t){this.schema.sort(function e(i,n){return i.label&&!i.sorted&&(i.submenu.sort(e),i.sorted=!0),i=i.label?t+i.label:i.alias||i.name||i,n=n.label?t+n.label:n.alias||n.name||n,i<n?-1:i>n?1:0})}},e.exports=n},{"pop-menu":52}],116:[function(t,e,i){"use strict";function n(t){var e=a.qt;return e+t.replace(new RegExp(e,"g"),e+e)+e}function o(t){return l.find(function(e){var i=t.match(e.regex);if(i){var n=(i[1]||"").toLowerCase(),o=e.operator,r=i[2],s=r.replace(u,"");return c.test(s)||(r=r.replace(u,"$1"),t=n+o+" "+r),!0}}),t}var r=t("object-iterators"),s=t("../Shared").FilterTree,a=t("./parser-CQL");s.Node.optionsSchema.menuModes={"default":{operators:1}};var l=[{regex:/^(NOT )?LIKE %(.+)%$/i,operator:"contains"},{regex:/^(NOT )?LIKE (.+)%$/i,operator:"begins"},{regex:/^(NOT )?LIKE %(.+)$/i,operator:"ends"}],u=/\[([_\[\]%])\]/g,c=/[_\[\]%]/,h=new s.Conditionals;h.makeLIKE=function(t,e,i,o,r){return i=o.toLowerCase(),i+" "+n(r.operand)},h.makeIN=function(t,e){return t.toLowerCase()+" ("+e.operand.replace(/\s*,\s*/g,", ")+")"},h.make=function(t,e){var i;return t=t.toLowerCase(),/\w/.test(t)&&(t+=" "),t+="number"!==e.getType()||isNaN(i=Number(e.operand))?n(e.operand):i};var d=s.prototype.addEditor({getState:function(t){var e,i=t&&t.syntax;if("CQL"===i){e=this.getSyntax(h),e=o(e);var n=this.schema.lookup(this.column).defaultOp||this.root.parserCQL.defaultOp;0===e.toUpperCase().indexOf(n)&&(e=e.substr(n.length))}else e=s.Leaf.prototype.getState.call(this,t);return e}});s.prototype.addEditor("Columns"),r(s.Node.prototype.templates).extendOwn({columnFilter:['<span class="filter-tree">',"   <strong><span>{2} </span></strong><br>","   Match",'   <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-or">any</label>','   <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-and">all</label>','   <label><input type="radio" class="filter-tree-op-choice" name="treeOp{1}" value="op-nor">none</label>',"   of the following:","   <select>",'       <option value="">New expression&hellip;</option>',"   </select>","   <ol></ol>","</span>"].join("\n"),columnFilters:['<span class="filter-tree filter-tree-type-column-filters">',"   Match <strong>all</strong> of the following column filter subexpressions:","   <ol></ol>","</span>"].join("\n")});var g=s.extend("DefaultFilter",{preInitialize:function(t){t=t||{};var e=t.state=t.state||this.makeNewRoot();return"columnFilter"===(t.type||e&&e.type)&&(this.schema=[t.parent.root.schema.lookup(e.children[0].column)]),[t]},initialize:function(t){this.cache={},this.parent||this.extractSubtrees()},postInitialize:function(t){this!==this.root||this.parserCQL||(this.parserCQL=new a(this.conditionals.ops,{schema:this.schema,defaultOp:t.defaultColumnFilterOperator})),"columnFilter"===this.type&&(this.dontPersist.schema=!0)},extractSubtrees:function(){var t=this.root.children;this.tableFilter=t[0],this.columnFilters=t[1]},makeNewRoot:function(){this.tableFilter={keep:!0,children:[]},this.columnFilters={keep:!0,type:"columnFilters",children:[]};var t={children:[this.tableFilter,this.columnFilters]};return t},getColumnFilter:function(t){return this.columnFilters.children.find(function(e){return e.children.length&&e.children[0].column===t})},getColumnFilterState:function(t,e){var i="",n=this.schema.lookup(t);if(n){var o=this.getColumnFilter(n.name);o&&(e&&e.syntax||(e=e||{},e.syntax="CQL"),i=o.getState(e))}return i},setColumnFilterState:function(t,e,i){var n,o,s=this.schema.lookup(t).name;if(!s)throw'Unknown column name "'+t+'"';if(o=this.getColumnFilter(s),e){if(i=r({}).extend(i),i.syntax=i.syntax||"CQL","CQL"===i.syntax)try{e=this.root.parserCQL.parse(e,s),e?i.syntax="object":n=new Error("DefaultFilter: No complete expression.")}catch(a){n=a}n||(o?o.setState(e,i):(e=this.parseStateString(e,i),o=this.columnFilters.add(e)),n=o.invalid(i))}if(!o||e&&!n||o.remove(),n)throw n},getColumnFiltersState:function(t){if(t&&"CQL"===t.syntax)throw"The CQL syntax is intended for use on a single column filter only. It does not support multiple columns or subexpressions.";return this.root.columnFilters.getState(t)},setColumnFiltersState:function(t,e){var i;return t&&(this.root.columnFilters.setState(t,e),i=this.root.columnFilters.invalid(e)),i},getTableFilterState:function(t){if(t&&"CQL"===t.syntax)throw"The CQL syntax is intended for use on a single column filter only. It does not support multiple columns or subexpressions.";return this.root.tableFilter.getState(t)},setTableFilterState:function(t,e){var i;return t?(this.root.tableFilter.setState(t,e),i=this.root.tableFilter.invalid(e)):this.root.tableFilter.children.length=0,i},getState:function(t){var e,i=t&&t.syntax;if("CQL"===i){var n=this.operator.substr(3);e="",this.children.forEach(function(i,o){if(i)if(i instanceof d)o&&(e+=" "+n+" "),e+=i.getState(t);else if(i.children.length)throw new Error("DefaultFilter: Expected a conditional but found a subexpression. Subexpressions are not supported in CQL (Column Query Language, the filter cell syntax).");
})}else e=s.prototype.getState.call(this,t);return e},loadColumnPropertiesFromSchema:function(t){this.root.schema.walk(function(e){var i=t.find(function(t){return t.name===e.name||e});i&&(i.type=e.type||i.type,i.header=e.alias||i.header)})}});e.exports=g},{"../Shared":60,"./parser-CQL":117,"object-iterators":51}],117:[function(t,e,i){"use strict";function n(t){this.message=t}function o(t,e){var i=[];this.schema=e&&e.schema,this.defaultOp=(e&&e.defaultOp||"=").toUpperCase(),a(t).each(function(t,e){"undefined"!==e&&i.push(e)}),i=i.sort(r),i=i.map(function(t){return/^[^A-Z]/.test(t)&&(t="\\"+t.split("").join("\\")),t});var n=i.filter(function(t){return"\\"===t[0]}),s=i.filter(function(t){return"\\"!==t[0]}).join("|");s&&(s="\\b("+s+")\\b"),this.REGEX_OPERATOR=new RegExp(n.concat(s).join("|"),"ig"),i=i.join("|").replace(/\s+/g,"\\s+"),this.REGEX_EXPRESSION=new RegExp("^\\s*("+i+")?\\s*(\\(\\s*(.+?)\\s*\\)|(.+?))\\s*$","i"),this.REGEX_LITERAL_TOKENS=new RegExp("\\"+o.qt+"(\\d+)\\"+o.qt,"g")}function r(t,e){return e.length-t.length}function s(t,e,i){i.length=0;for(var o,r,s=0,a=0;(a=t.indexOf(e,a))>=0;a=a+1+(s+"").length+1,s++){o=a;do if(o=t.indexOf(e,o+1),o<0)throw new n("Quotation marks must be paired; nested quotation marks must be doubled.");while(t[++o]===e);r=t.slice(++a,--o).replace(new RegExp(e+e,"g"),e),i.push(r),t=t.substr(0,a)+s+t.substr(o)}return t}var a=t("object-iterators"),l=/\b(AND|OR|NOR)\b/gi,u="(.*?)",c="\\b",h="^"+u+c,d=c+u+c,g=c+u+"$";n.prototype=Object.create(Error.prototype),n.prototype.name="ParserCqlError",o.qt='"',o.prototype={constructor:o.prototype.constructor,captureBooleans:function(t){var e=t.match(l);return e&&e.map(function(t){return t.toLowerCase()})},validateBooleans:function(t){if(t){var e=t.find(function(e,i){return t[i]!==t[0]});if(e)throw new n("Expected homogeneous boolean operators. You cannot mix AND, OR, and NOR operators here because the order of operations is ambiguous.\nTip: In Manage Filters, you can group operations with subexpressions in the Query Builder tab or by using parentheses in the SQL tab.")}return t},captureExpressions:function(t,e){var i,n;return e?(n=new RegExp(h+e.join(d)+g,"i"),i=t.match(n),i.shift()):i=[t],i},makeChildren:function(t,e,i){var o=this;return e.reduce(function(e,r){if(r){var s=r.match(o.REGEX_EXPRESSION);if(s){var a=s[1],l=s[2],u=s.slice(3).find(function(t){return void 0!==t});a=(a||"").replace(/\s+/g," ").trim().toUpperCase();var c=/^\(.*\)$/.test(l),h=u.match(o.REGEX_OPERATOR);if(!c&&h){if(""===a&&l===h[0])throw new n("Expected an operand.");throw new n("Expected operand but found additional operator(s): "+h.toString().toUpperCase().replace(/,/g,", ").replace(/^([^,]+), ([^,]+)$/,"$1 and $2").replace(/(.+,.+), ([^,]+)$/,"$1, and $2"))}a=a||o.schema&&o.schema.lookup(t).defaultOp||o.defaultOp;var d={column:t,operator:a},g=o.schema&&o.schema.lookup(u);g?(d.operand=g.name||g,d.editor="Columns"):d.operand=u.replace(o.REGEX_LITERAL_TOKENS,function(t,e){return i[e]}),e.push(d)}return e}},[])},getOperatorPosition:function(t,e){var i=[];t=s(t,o.qt,i),t=t.replace(this.REGEX_LITERAL_TOKENS,function(t,e){var n=1+i[e].length+1;return Array(n+1).join("x")});var n,r,a,l,u,c,h,d,g;return(n=this.captureBooleans(t))?(r=this.captureExpressions(t,n),a=0,l=r.map(function(t,e){var i=n[e-1]||"";return a+=t.length+i.length}),l.find(function(t,i){return c=i,e<=t}),e=l[c-1]||0,u=e+=(n[c-1]||"").length,h=r[c]):(e=0,u=t.length,h=t),g=h.search(this.REGEX_OPERATOR),g>=0&&(d=h.match(this.REGEX_OPERATOR)[0],e+=g,u=e+d.length),{start:e,end:u}},parse:function(t,e){t=t.replace(/\s\s+/g," ").trim();var i=[];t=s(t,o.qt,i);var n,r=this.validateBooleans(this.captureBooleans(t)),a=this.captureExpressions(t,r),l=this.makeChildren(e,a,i),u=r&&r[0];return l.length&&(n={type:"columnFilter",children:l},u&&(n.operator="op-"+u)),n}},e.exports=o},{"object-iterators":51}],118:[function(t,e,i){"use strict";function n(t){this.message=t}var o=t("./deprecated"),r=t("extend-me").Base;r.prototype.deprecated=o,r.prototype.HypergridError=n,n.prototype=Object.create(Error.prototype),n.prototype.name="HypergridError",e.exports=r},{"./deprecated":123,"extend-me":7}],119:[function(t,e,i){"use strict";function n(t){var e=this.map.indexOf(t)%11;return e<0?"":e<10?e:"."}function o(t){return this.localizedDigits[t]}function r(t){var e=this.localizedDigits.indexOf(t);return e<0&&(e=""),e}function s(t,e,i){this.locale=t,this["int"]=this["float"]=this.construct("number",c,e),this.construct("date",h,i)}var a=t("./Base"),l=t("./deprecated"),u=a.extend({initialize:function(t,e,i){"object"==typeof e&&(i=e,e=t),this.locale=e,i&&("function"==typeof i.invalid&&(this.invalid=i.invalid),i.expectation&&(this.expectation=i.expectation))}});window.Intl||(window.Intl={NumberFormat:function(t,e){var i="0123456789";this.format=function(t){var n=t.toString();if(!e||void 0===e.useGrouping||e.useGrouping){var o=n.indexOf(".");for(o<0&&(o=n.length);(o-=3)>0&&i.indexOf(n[o-1])>=0;)n=n.substr(0,o)+","+n.substr(o)}return n}},DateTimeFormat:function(t,e){this.format=function(t){return null!=t?("object"!=typeof t&&(t=new Date(t)),t=t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear()):t=null,t}}});var c=u.extend("NumberFormatter",{initialize:function(t,e,i){"object"==typeof e&&(i=e),i=i||{},this.format=new Intl.NumberFormat(this.locale,i).format;var o={useGrouping:!1},r=new Intl.NumberFormat(this.locale,o).format;this.demapper=n.bind(this),this.map=r(10123456789.5).substr(1,11),i.acceptStandardDigits&&"0123456789."!==this.map&&(this.map+="0123456789."),this.invalids=new RegExp("[^"+this.format(11111).replace(this.map[1],"")+this.map+"]")},invalid:function(t){return this.invalids.test(t)},expectation:"Expected a number with optional commas (thousands grouping separator), optional decimal point, and an optional fractional part.\nComma separators are part of the format and will always be displayed for values >= 1000.\nEdited values are always saved in their entirety even though the formatted value is rounded to the specified number of decimal places.",parse:function(t){var e=Number(t.split("").map(this.demapper).join(""));if(isNaN(e))throw"Invalid Number";return e}}),h=u.extend("DateFormatter",{initialize:function(t,e,i){"object"==typeof e&&(i=e),i=i||{},this.format=new Intl.DateTimeFormat(this.locale,i).format;var n={useGrouping:!1,style:"decimal"},s=new Intl.NumberFormat(this.locale,n).format,a=this.localizedDigits=s(10123456789).substr(1,10);this.digitFormatter=o.bind(this),this.digitParser=r.bind(this);var l=1987,u=12,c=30,h=this.transformNumber(this.digitFormatter,l),d=this.transformNumber(this.digitFormatter,u),g=this.transformNumber(this.digitFormatter,c),f=new Date(l,u-1,c),p=new Intl.DateTimeFormat(this.locale).format,m=p(f),v=new Intl.NumberFormat(this.locale).format(456),C=this.localizedNumberPattern=new RegExp("["+a+"]+","g"),b=m.match(C);this.partsMap={yy:b.indexOf(h),mm:b.indexOf(d),dd:b.indexOf(g)},i.acceptStandardDigits&&(v+="1234567890"),this.invalids=new RegExp("[^"+m.replace(/-/g,"\\-")+v+"]")},invalid:function(t){return this.invalids.test(t)},parse:function(t){var e,i=t.match(this.localizedNumberPattern);if(!i||3!==i.length)throw"Invalid Date";var n=this.transformNumber(this.digitParser,i[this.partsMap.yy]),o=this.transformNumber(this.digitParser,i[this.partsMap.mm])-1,r=this.transformNumber(this.digitParser,i[this.partsMap.dd]);return e=new Date(n,o,r)},transformNumber:function(t,e){return e.toString().split("").map(t).join("")}});s.prototype={constructor:s.prototype.constructor,construct:function(t,e,i){var n=t[0].toUpperCase()+t.substr(1).toLowerCase()+"Formatter",o=e.bind(null,this.locale),r=new o(i);return this[n]=o,this.add(t,r)},add:function(t,e){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e||"function"!=typeof e.format||"function"!=typeof e.parse||e.invalid&&"function"!=typeof e.invalid||e.expectation&&"string"!=typeof e.expectation)throw"Expected localizer object to conform to interface.";return t=t||e.name,t=t&&t.toLowerCase(),this[t]=e,e},deprecated:l,set:function(t){return this.deprecated("set(name, localizer)","add(name, localizer)","1.0.6",arguments)},get:function(t){return this[t&&t.toLowerCase()]||this.string},chromeDate:{format:function(t){if(null!=t){"object"!=typeof t&&(t=new Date(t));var e=t.getFullYear(),i=t.getMonth()+1,n=i<10?"0"+i:i,o=t.getDate(),r=o<10?"0"+o:o;t=e+"-"+n+"-"+r}else t=null;return t},parse:function(t){var e,i=t.split("-");return e=i&&3===i.length?new Date(i[0],i[1]-1,i[2]):null}},"null":{format:function(t){return t},parse:function(t){return t}},string:{format:function(t){return t+""},parse:function(t){return t+""}}},e.exports=s},{"./Base":118,"./deprecated":123}],120:[function(t,e,i){"use strict";function n(t,e,i){var n=e.getColumnProperties(-1),o=n.rowHeader,r=s.checked;t.font=o.font,n.preferredWidth=r.width+7+o.getTextWidth(t,i+1)}var o=t("object-iterators"),r=t("./Base"),s=t("../../images"),a=r.extend("Renderer",{cell:{x:0,y:0,width:0,height:0},scrollHeight:0,viewHeight:0,reset:function(){this.bounds={width:0,height:0},this.columnEdges=[],this.columnEdgesIndexMap=[],this.renderedColumnMinWidths=[],this.rowEdges=[],this.rowEdgesIndexMap=[],this.visibleColumns=[],this.visibleRows=[],this.insertionBounds=[]},initialize:function(t){this.grid=t,this.reset()},computeCellsBounds:function(){var t,e,i,n,o,r,s,a,l,u,c=this.getScrollTop(),h=this.getScrollLeft(),d=this.getColumnCount(),g=this.getFixedColumnCount(),f=this.getRowCount(),p=this.getFixedRowCount(),m=this.getBounds(),v=this.grid,C=v.behavior.dataModel.getBottomTotals().length,b=m.width||v.canvas.width,y=m.height-C*v.behavior.getDefaultRowHeight(),w=0,x=0,S=0,E=0,A=0;for(this.getColumnEdges().length=0,this.rowEdges.length=0,this.columnEdges[0]=0,this.rowEdges[0]=0,this.scrollHeight=0,this.visibleColumns.length=0,this.visibleRows.length=0,this.columnEdgesIndexMap=[],this.rowEdgesIndexMap=[],this.insertionBounds=[],this.grid.isShowRowNumbers()&&(S--,this.columnEdges[-1]=-1),t=S;t<d&&(i=t,t>=g&&(i+=h,void 0===s&&(s=i),a=i),!(E>b||d<=i));t++)o=v.getColumnWidth(i),E+=o,this.columnEdges[t+1]=Math.round(E),this.visibleColumns[t]=i,this.columnEdgesIndexMap[i]=t,w=w+Math.round(o/2)+x,this.insertionBounds.push(w),x=Math.round(o/2);for(e=0;e<f&&(n=e,e>=p&&(n+=c,void 0===l&&(l=n),u=n),!(A>y||f<=n));e++)r=v.getRowHeight(n),A+=r,this.rowEdges[e+1]=Math.round(A),this.visibleRows[e]=n,this.rowEdgesIndexMap[n]=e;this.viewHeight=y,this.dataWindow=this.grid.newRectangle(s,l,a-s,u-l)},resolveProperty:function(t){return this.grid.resolveProperty(t)},paint:function(t){if(this.grid)if(this.hasData())this.renderGrid(t),this.grid.gridRenderedNotification();else{var e=this.grid.resolveProperty("noDataMessage");t.font="20px Arial",t.fillText(e,20,30)}},hasData:function(){var t=this.grid.behavior.getData();return!!t&&t.length>0},getVisibleRowsCount:function(){return this.visibleRows.length-1},getVisibleScrollHeight:function(){return this.viewHeight-this.grid.getFixedRowsHeight()},getVisibleRows:function(){return this.visibleRows},getVisibleColumnsCount:function(){return this.visibleColumns.length-1},getVisibleColumns:function(){return this.visibleColumns},overColumnDivider:function(t){t=Math.round(t);var e=this.getColumnEdges(),i=e.indexOf(t-1);return i<0&&(i=e.indexOf(t)),i<0&&(i=e.indexOf(t-2)),i<0&&(i=e.indexOf(t+1)),i<0&&(i=e.indexOf(t-3)),i},overRowDivider:function(t){t=Math.round(t);var e=this.rowEdges.indexOf(t+1);return e<0&&(e=this.rowEdges.indexOf(t)),e<0&&(e=this.rowEdges.indexOf(t-1)),e},getBoundsOfCell:function(t){return this._getBoundsOfCell(t.x,t.y)},_getBoundsOfCell:function(t,e){var i,n=!1,o=!1,r=this.cell,s=this.columnEdgesIndexMap[t];void 0===s&&(s=this.columnEdgesIndexMap[t-1],n=!0);var a,l,u,c=this.columnEdges[s],h=this.columnEdges[s+1],d=h-c;if(r.x=n?h:c,r.width=n?0:d,e<0){var g=this.grid.behavior,f=this.getBounds();u=g.getDefaultRowHeight(),a=f.height+e*u,l=a+u}else i=this.rowEdgesIndexMap[e],void 0===i&&(i=this.rowEdgesIndexMap[e-1],o=!0),a=this.rowEdges[i],l=this.rowEdges[i+1],u=l-a;return r.y=o?l:a,r.height=o?0:u,r},getColumnFromPixelX:function(t){for(var e=0,i=this.getFixedColumnCount(),n=this.grid.getHScrollValue(),o=this.getColumnEdges(),r=1;r<o.length-1;r++)if(e=o[r]-(o[r]-o[r-1])/2,t<e)return r>i&&(r+=n),r-1;return r>i&&(r+=n),r-1},getGridCellFromMousePoint:function(t){var e,i,n,o,r=this.grid.behavior,s=0,a=0,l=0,u=this.getColumnEdges(),c=this.getFixedColumnCount(),h=this.getFixedRowCount(),d=this.getScrollLeft(),g=this.getScrollTop();for(n=0;n<u.length;n++){if(s=u[n],t.x<s){e=Math.max(0,t.x-l-2);break}l=s}for(n--,l=0,o=0;o<this.rowEdges.length;o++){if(a=this.rowEdges[o],t.y<a){i=Math.max(0,t.y-l-2);break}l=a}o--,t.x<0&&(n=-1),t.y<0&&(o=-1);var f=this.grid.newPoint(n,o);n>=c&&(n+=d),o>=h&&(o+=g);var p=-1,m=r.getActiveColumn(n);return m&&(p=m.index),{gridCell:this.grid.newPoint(n,o),mousePoint:this.grid.newPoint(e,i),viewPoint:f,dataCell:this.grid.newPoint(p,o)}},isColumnVisible:function(t){var e=this.visibleColumns.indexOf(t)!==-1;return e},getFinalVisableColumnBoundary:function(){var t=this.isLastColumnVisible(),e=t?2:1,i=this.getColumnEdges()[this.getColumnEdges().length-e],n=Math.min(i,this.getBounds().width);return n},isRowVisible:function(t){var e=this.visibleRows.indexOf(t)!==-1;return e},isSelected:function(t,e){return this.grid.isSelected(t,e)},renderGrid:function(t){t.beginPath(),this.paintCells(t),this.paintGridlines(t),this.renderOverrides(t),this.renderLastSelection(t),t.closePath()},renderLastSelection:function(t){t.beginPath(),this._renderLastSelection(t),t.closePath()},_renderLastSelection:function(t){var e=this.grid.selectionModel.getSelections();if(e&&0!==e.length){var i=this.grid.selectionModel.getLastSelection(),n=i.origin;if(n.x!==-1){var o=this.getVisibleColumns(),r=this.getVisibleRows(),s=o[o.length-1],a=r[r.length-1],l=i.extent,u=Math.min(n.x,n.x+l.x),c=Math.min(n.y,n.y+l.y);if(!(u>s||c>a)){var h=Math.max(n.x,n.x+l.x)+1;h=Math.min(h,1+s);var d=Math.max(n.y,n.y+l.y)+1;d=Math.min(d,1+a);var g=this._getBoundsOfCell(u,c),f=Math.round(void 0===g.x?this.grid.getFixedColumnsWidth():g.x),p=Math.round(void 0===g.y?this.grid.getFixedRowsHeight():g.y),m=this._getBoundsOfCell(h,d),v=Math.round(void 0===m.x?this.grid.getFixedColumnsWidth():m.x),C=Math.round(void 0===m.y?this.grid.getFixedRowsHeight():m.y),b=Math.min(f,v),y=Math.min(p,C),w=1+v-f,x=1+C-p;if(b===v&&(w=f-v),y===C&&(x=p-C),!(w*x<1)){var S={bounds:{x:b,y:y,width:w,height:x},selectionRegionOverlayColor:this.grid.resolveProperty("selectionRegionOverlayColor"),selectionRegionOutlineColor:this.grid.resolveProperty("selectionRegionOutlineColor")};this.grid.cellRenderers.get("lastselection").paint(t,S)}}}}},renderOverrides:function(t){var e=this.grid.renderOverridesCache;for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n&&this.renderOverride(t,n)}},renderOverride:function(t,e){var i=e.hdpiratio,n=e.startX,o=e.width+1,r=e.height,s=e.ctx,a=t.getImageData(n,0,Math.round(o*i),Math.round(r*i));s.putImageData(a,0,0),t.fillStyle=this.resolveProperty("backgroundColor2"),t.fillRect(Math.round(n/i),0,o,r)},getScrollTop:function(){return this.grid.getVScrollValue()},getScrollLeft:function(){return this.grid.getHScrollValue()},getColumnEdges:function(){return this.columnEdges},getRowEdges:function(){return this.rowEdges},isLastColumnVisible:function(){var t=this.getColumnCount()-1;return this.visibleColumns.indexOf(t)!==-1},getRenderedWidth:function(t){return this.getColumnEdges()[t]},getRenderedHeight:function(t){return this.rowEdges[t]},getCanvas:function(){return this.grid.getCanvas()},isDraggingColumn:function(){return this.grid.isDraggingColumn()},getPageUpRow:function(){for(var t=this.grid,e=this.getVisibleScrollHeight(),i=this.grid.getFixedRowCount(),n=this.dataWindow.origin.y-i,o=0;o<e&&n>-1;)o+=t.getRowHeight(n),n--;return n+1},getPageDownRow:function(){var t=this.grid.getFixedRowCount(),e=this.dataWindow.corner.y-t-1;return e},getColumnCount:function(){return this.grid.getColumnCount()},getRowCount:function(){return this.grid.getRowCount()},getFixedColumnCount:function(){return this.grid.getFixedColumnCount()},getFixedRowCount:function(){return this.grid.getFixedRowCount()},getHeaderRowCount:function(){return this.grid.getHeaderRowCount()},getHeaderColumnCount:function(){return this.grid.getHeaderColumnCount()},paintCells:function(t){var e,i,o,r,s,a,l={},u=this.getColumnEdges(),c=this.rowEdges,h=this.getVisibleColumns(),d=this.getVisibleRows(),g=this.grid.behavior,f=0,p=0,m=this.getBounds().height,v=this.grid.isShowRowNumbers()?-1:0,C=h.length;if(this.buttonCells={},C)for(i=v;i<C;i++){for(r=h[i],this.renderedColumnMinWidths[r]=0,t.save(),a=u[i+1],t.beginPath(),t.rect(f,p,a,m),t.clip(),o=0;o<d.length;o++){s=d[o];try{this._paintCell(t,r,s)}catch(b){e=b&&(b.message||b)||"Unknown error.",console.error(e);var y=t.gc||t,w=c[o],x=c[o+1]-w;y.save(),y.beginPath(),y.rect(f,w,a,x),y.clip(),l={bounds:{y:w,x:f,height:x,width:a}},this.grid.cellRenderers.get("errorcell").paint(y,l,e),y.restore()}}for(o=-g.dataModel.getBottomTotals().length;o;o++)this._paintCell(t,r,o);t.restore()}n(t,g,this.grid.getRowCount())},paintGridlines:function(t){var e,i,n,o,r=0,s=this.getColumnEdges(),a=this.rowEdges,l=s[s.length-1],u=this.resolveProperty("gridLinesH"),c=this.resolveProperty("gridLinesVOverflow"),h=this.resolveProperty("gridLinesV"),d=this.resolveProperty("lineColor");if(o=c?this.getBounds().height:a[a.length-1],t.beginPath(),h)for(n=0;n<s.length+1;n++)e=s[n]+.5,t.moveTo(e,0),t.lineTo(e,o);if(u){for(r=0;r<a.length-1;r++)i=a[r]+.5,t.moveTo(0,i),t.lineTo(l,i);var g=this.grid.behavior,f=g.getDefaultRowHeight();for(r=-g.dataModel.getBottomTotals().length,i=this.getBounds().height;r;r++)i-=f,t.moveTo(0,i),t.lineTo(l,i)}t.closePath(),t.strokeStyle=d,t.lineWidth=this.resolveProperty("lineWidth"),t.stroke()},paintCell:function(t,e,i){t.moveTo(0,0);var n=this.getVisibleColumns()[e],o=this.getVisibleRows()[i];n&&this._paintCell(t,n,o)},_paintCell:function(t,e,i){var n=this.grid,r=n.behavior,a=r.getColumnProperties(e);if(!a.isNull){var l,u=a,c=r.getHeaderRowCount(),h=i>=c,d=i<0,g=!h&&!d,f=n.isFilterRow(i),p=r.getHeaderColumnCount(),m=e>=p,v=n.isShowRowNumbers(),C=n.isHierarchyColumn(e),b=n.isRowSelected(i),y=n.isColumnSelected(e),w=n.isCellSelected(e,i),x=n.isCellSelectedInColumn(e),S=n.isCellSelectedInRow(i),E=n.areAllRowsSelected();v&&e===-1||C?(b?(l=Object.create(a.rowHeaderRowSelection),l.isSelected=!0):(l=Object.create(a.rowHeader),l.isSelected=S),l.isUserDataArea=!1):g||d?(f?(l=Object.create(a.filterProperties),l.isSelected=!1):y?(l=Object.create(a.columnHeaderColumnSelection),l.isSelected=!0):(l=Object.create(a.columnHeader),l.isSelected=x),l.isUserDataArea=!1):C?(l=Object.create(a.rowHeader),l.isSelected=S):(l=Object.create(a),l.isSelected=w||b||y,l.isUserDataArea=!0);var A=i-c+1;if(e===-1)0===i?l.value=[s.checkbox(E),"",null]:f?l.value=[s.filter(!1),"",null]:g||d?l.value="":l.value=[s.checkbox(b),A,null];else{var R=r.getActiveColumn(e);l.dataRow=n.getRow(i),l.columnName=R.name,l.calculator=R.calculator,l.value=n.getValue(e,i)}if(l.halign=n.getColumnAlignment(e),l.isGridColumn=m,l.isGridRow=h,l.isColumnHovered=n.isColumnHovered(e)&&m,l.isRowHovered=n.isRowHovered(i)&&h,l.isCellHovered=n.isHovered(e,i)&&m&&h,l.bounds=this._getBoundsOfCell(e,i),l.isCellSelected=w,l.isRowSelected=b,l.isColumnSelected=y,l.isInCurrentSelectionRectangle=n.isInCurrentSelectionRectangle(e,i),n.mouseDownState){var D=n.mouseDownState.gridCell;l.mouseDown=D.x===e&&D.y===i}var k=r.getCellRenderer(l,e,i);if(r.cellPropertiesPrePaintNotification(l),h&&m){var M=r.getCellProperties(R.index,i);o(l).extendOwn(M)}l.buttonCells=this.buttonCells,l.formatValue=n.getFormatter(l.isUserDataArea&&l.format),k.paint(t,l),this.renderedColumnMinWidths[e]=Math.max(l.minWidth||0,this.renderedColumnMinWidths[e]),u.preferredWidth=this.renderedColumnMinWidths[e]}},isViewableButton:function(t,e){var i=t+","+e;return this.buttonCells[i]===!0},getRowNumbersWidth:function(){var t=this.getColumnEdges();return 0===t.length?0:t[0]},startAnimator:function(){var t=this;requestAnimationFrame(function e(){t.animate(),requestAnimationFrame(e)})},animate:function(){var t=this.getCanvas().canvasCTX;t.beginPath(),t.save(),this.renderLastSelection(t),t.restore(),t.closePath()},getBounds:function(){return this.bounds},setBounds:function(t){return this.bounds=t}});e.exports=a},{"../../images":4,"./Base":118,"object-iterators":51}],121:[function(t,e,i){"use strict";function n(t){this.grid=t,this.multipleSelections=t[t.behavior?"getProperties":"_getProperties"]().multipleSelections,this.selections=[],this.flattenedX=[],this.flattenedY=[],this.rowSelectionModel=new o,this.columnSelectionModel=new o,this.setLastSelectionType("")}var o=t("sparse-boolean-array");n.prototype={constructor:n.prototype.constructor,allRowsSelected:!1,getLastSelection:function(){var t=this.selections,e=t[t.length-1];return e},getLastSelectionType:function(){return this.lastSelectionType},setLastSelectionType:function(t){this.lastSelectionType=t},select:function(t,e,i,n,o){var r=this.grid.newRectangle(t,e,i,n);r.firstSelectedCell=this.grid.newPoint(t,e),r.lastSelectedCell=r.firstSelectedCell.x===r.origin.x&&r.firstSelectedCell.y===r.origin.y?r.corner:r.origin,this.multipleSelections?(this.selections.push(r),this.flattenedX.push(r.flattenXAt(0)),this.flattenedY.push(r.flattenYAt(0))):(this.selections[0]=r,this.flattenedX[0]=r.flattenXAt(0),this.flattenedY[0]=r.flattenYAt(0)),this.setLastSelectionType("cell"),o||this.grid.selectionChanged()},toggleSelect:function(t,e,i,n){var o,r;o=this.selections.find(function(o,s){return r=s,o.origin.x===t&&o.origin.y===e&&o.extent.x===i&&o.extent.y===n}),o?(this.selections.splice(r,1),this.flattenedX.splice(r,1),this.flattenedY.splice(r,1),this.grid.selectionChanged()):this.select(t,e,i,n)},clearMostRecentSelection:function(t){t=t===!0,t||this.setAllRowsSelected(!1),this.selections.length&&--this.selections.length,this.flattenedX.length&&--this.flattenedX.length,this.flattenedY.length&&--this.flattenedY.length},clearMostRecentColumnSelection:function(){this.columnSelectionModel.clearMostRecentSelection(),this.setLastSelectionType("column")},clearMostRecentRowSelection:function(){this.rowSelectionModel.clearMostRecentSelection(),this.setLastSelectionType("row")},clearRowSelection:function(){this.rowSelectionModel.clear(),this.setLastSelectionType("row")},getSelections:function(){return this.selections},hasSelections:function(){return 0!==this.selections.length},hasRowSelections:function(){return!this.rowSelectionModel.isEmpty()},hasColumnSelections:function(){return!this.columnSelectionModel.isEmpty()},isCellSelectedInRow:function(t){return this._isCellSelected(this.flattenedX,0,t)},isCellSelectedInColumn:function(t){return this._isCellSelected(this.flattenedY,t,0)},isSelected:function(t,e){return this.isColumnSelected(t)||this.isRowSelected(e)||this._isCellSelected(this.selections,t,e)},isCellSelected:function(t,e){return this._isCellSelected(this.selections,t,e)},_isCellSelected:function(t,e,i){var n=this;return!!t.find(function(t){return n.rectangleContains(t,e,i)})},clear:function(t){t=t===!0,this.selections.length=0,this.flattenedX.length=0,this.flattenedY.length=0,this.columnSelectionModel.clear(),t||(this.setAllRowsSelected(!1),this.rowSelectionModel.clear())},isRectangleSelected:function(t,e,i,n){return!!this.selections.find(function(o){return o.origin.x===t&&o.origin.y===e&&o.extent.x===i&&o.extent.y===n})},isColumnSelected:function(t){return this.columnSelectionModel.isSelected(t)},isRowSelected:function(t){return this.allRowsSelected||this.rowSelectionModel.isSelected(t)},selectColumn:function(t,e){this.columnSelectionModel.select(t,e),this.setLastSelectionType("column")},selectAllRows:function(){this.clear(),this.setAllRowsSelected(!0)},setAllRowsSelected:function(t){this.allRowsSelected=t},areAllRowsSelected:function(){return this.allRowsSelected},selectRow:function(t,e){this.rowSelectionModel.select(t,e),this.setLastSelectionType("row")},deselectColumn:function(t,e){this.columnSelectionModel.deselect(t,e),this.setLastSelectionType("column")},deselectRow:function(t,e){this.areAllRowsSelected()&&(this.setAllRowsSelected(!1),this.rowSelectionModel.select(this.grid.getHeaderRowCount(),this.grid.getRowCount()-1)),this.rowSelectionModel.deselect(t,e),this.setLastSelectionType("row")},getSelectedRows:function(){if(this.areAllRowsSelected()){for(var t=this.grid.getHeaderRowCount(),e=this.grid.getRowCount()-t,i=new Array(e),n=0;n<e;n++)i[n]=n+t;return i}return this.rowSelectionModel.getSelections()},getSelectedColumns:function(){return this.columnSelectionModel.getSelections()},isColumnOrRowSelected:function(){return!this.columnSelectionModel.isEmpty()||!this.rowSelectionModel.isEmpty()},getFlattenedYs:function(){var t=[],e={};return this.selections.forEach(function(i){for(var n=i.origin.y,o=i.extent.y+1,r=0;r<o;r++){var s=r+n;e[s]||(t.push(s),e[s]=!0)}}),t.sort(function(t,e){return t-e}),t},selectRowsFromCells:function(t,e){t=t||0,e=e===!0;var i=this.rowSelectionModel;e||(this.setAllRowsSelected(!1),i.clear()),this.selections.forEach(function(e){var n=e.origin.y,o=e.extent.y;n+=t,i.select(n,n+o)})},selectColumnsFromCells:function(t){t=t||0;var e=this.columnSelectionModel;e.clear(),this.selections.forEach(function(i){var n=i.origin.x,o=i.extent.x;n+=t,e.select(n,n+o)})},isInCurrentSelectionRectangle:function(t,e){var i=this.selections[this.selections.length-1];return i&&this.rectangleContains(i,t,e)},rectangleContains:function(t,e,i){var n=t.origin.x,o=t.origin.y,r=n+t.extent.x,s=o+t.extent.y;t.extent.x<0&&(n=r,r=t.origin.x),t.extent.y<0&&(o=s,s=t.origin.y);var a=e>=n&&i>=o&&e<=r&&i<=s;return a}},e.exports=n},{"sparse-boolean-array":55}],122:[function(t,e,i){"use strict";function n(t,e,i,s,a){var l,u,c=[];Array.prototype.forEach.call((t||document).querySelectorAll(n.selector),function(t){u=(a||r)(t.value),u&&c.push(u),l=t}),l&&o(l,(e||"")+c.join(i||"")+(s||""))}function o(t,e){var i,n;e?(n=t.value,t.value=e):e=t.value,t.value=r(e);try{t.select(),i=document.execCommand("copy")}catch(o){i=!1}finally{void 0!==n&&(t.value=n),t.blur()}return i}function r(t){return t.replace(/^\s*(.*?)\s*$/,"$1")}o.all=n,o.multiLineTrim=r,o.selectorTextControls="input:not([type]), input[type=text], textarea",e.exports=o},{}],123:[function(t,e,i){"use strict";function n(t){return t.match(/^\w+\((.*)\)$/)[1].match(/(\w+)/g)}console.warn||(console.warn=function(){console.log.apply(console,["WARNING:"].concat(Array.prototype.slice.call(arguments)))});var o={},r=/\)$/,s=function(t,e,i,a,l){function u(t){var e=h.indexOf(t);if(e===-1)throw'Actual arg "'+t+'" not found in formal arg list '+h;return a[e]}if(!r.test(t))throw"Expected method name to have parentheses.";"string"==typeof a&&(l=a,a=void 0);var c=e.split("."),h=n(t),d=this;if(t in o||(o[t]=s.warnings),o[t]){var g=r.test(e)?"method":"property",f="The ."+t+" method is deprecated as of v"+i+" in favor of the ."+c.join(".")+" "+g+". (Will be removed in a future release.)";l&&(f+=" "+l),console.warn(f),--o[t]}for(var p=0,m=c.length-1;p<=m;++p){var v=c[p],C=v.match(/\w+/)[0],b=r.test(v)?n(v):void 0,y=[];b?(y=b.map(u),v=v.match(/(\w+)/)[1],d=d[C].apply(d,y)):d=d[C]()}return d};s.warnings=5,e.exports=s},{}],124:[function(t,e,i){"use strict";i.shaker=function(t){function e(o){o&&"left"!==o.propertyName||(n.style.left=l+u+"px",c--||(n.removeEventListener("transitionend",e),s.pop(),n.style.transition=s.join(","),n.style.position=a,t.callback&&t.callback.call(i,t)),u=c?-u:0)}t=t||{};var i=this,n=t.el||i.el,o=t.duration||"0.065s",r=window.getComputedStyle(n),s=r.transition.split(","),a=r.position,l=parseInt(r.left),u=-3,c=6;s.push("left "+o),n.style.transition=s.join(","),n.addEventListener("transitionend",e),e()};var n={"background-color":"yellow","box-shadow":"0 0 10px red"};i.glower=function(t){function e(n){var r=u[n.propertyName];r.undo?(o.style[n.propertyName]=r.style,r.undo=!1):--a||(o.removeEventListener("transitionend",e),o.style.transition=c,t.callback&&t.callback.call(i,t))}t=t||{};var i=this,o=t.el||i.el,r=t.duration||"0.25s",s=t.styles||n,a=s.length,l=window.getComputedStyle(o),u={},c=l.transition,h=c.split(",");Object.keys(s).forEach(function(t){u[t]={style:l[t],undo:!0},h.push(t+" "+r)}),o.style.transition=h.join(","),o.addEventListener("transitionend",e),Object.keys(s).forEach(function(t){o.style[t]=s[t]})}},{}],125:[function(t,e,i){"use strict";e.exports.each=function(t,e,i){return Array.prototype.forEach.call((i||document).querySelectorAll(t),e)},e.exports.find=function(t,e,i){return Array.prototype.find.call((i||document).querySelectorAll(t),e)}},{}],126:[function(t,e,i){"use strict";var n=4,o=200;e.exports.get=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){i.readyState===n&&i.status===o&&e(JSON.parse(i.responseText))},i.send(null)}},{}],127:[function(t,e,i){"use strict";Math.sign=Math.sign||function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1}},{}],128:[function(t,e,i){"use strict";function n(t,e){this.element=t,this.context=e,this.transitioning=!1}n.prototype.begin=function(t){var e=this;this.transitioning=!0,this.element.addEventListener("transitionend",function i(n){e.element.removeEventListener("transitionend",i),t&&t.call(this,n,e),e.transitioning=!1})},e.exports=n},{}],129:[function(t,e,i){"use strict";var n=t("automat"),o=t("../../css"),r=document.querySelector("head"),s=Array.prototype.slice.call(r.children).find(function(t){return"STYLE"===t.tagName||"LINK"===t.tagName&&"stylesheet"===t.getAttribute("rel")&&"text/css"===t.getAttribute("type")});i.prefix="injected-stylesheet-",i.inject=function(t,e){var i=document.querySelector("#"+this.prefix+t);if(!i){i=o[t],i="<style>\n"+i+"\n</style>\n";var a=[i,r,s].concat(Array.prototype.slice.call(arguments,1));i=n.append.apply(null,a)[0],i.id=this.prefix+t}return i}},{"../../css":1,automat:5}]},{},[97]);